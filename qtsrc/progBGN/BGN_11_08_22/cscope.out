cscope 15 $HOME/progBGN/BGN_26_10               0000306250
	@abstract_measurement_measurement.cpp

6 
	~"ab¡¿ù_m—su»m’t_m—su»m’t.h
"

8 
	gAb¡¿ù_m—su»m’t_m—su»m’t
::
	$Ab¡¿ù_m—su»m’t_m—su»m’t
(cÚ¡ 
QSŒšg
 
dim’siÚ
,cÚ¡ 
dim’siÚFÜTime
,

9 
boŞ
 
»gime
, cÚ¡ 
ušt
 
timesAutom©ic
,

10 cÚ¡ 
ušt
 
timeAutom©ic
, cÚ¡ 
ušt8_t
 
th»ashŞd
,

11 cÚ¡ 
ušt
 
timeTh»ashŞd
, cÚ¡ 
do£Th»ashŞd
)

13 
	`Dim’siÚ
(
dim’siÚ
), 
	`Dim’siÚFÜTime
(
dim’siÚFÜTime
),
	`Regime
(
»gime
),

14 
	`TimesAutom©ic
(
timesAutom©ic
), 
	`TimeAutom©ic
(
timeAutom©ic
),

15 
	`Th»ashŞd
(
th»ashŞd
),
	`TimeTh»ashŞd
(
timeTh»ashŞd
), 
	$Do£Th»ashŞd
(
do£Th»ashŞd
)

17 
	`š™
();

18 
	}
}

20 
	gAb¡¿ù_m—su»m’t_m—su»m’t
::~
	$Ab¡¿ù_m—su»m’t_m—su»m’t
()

21 {
	`qDebug
()<<"~Ab¡¿ù_m—su»m’t_m—su»m’t()";
	}
}

22 
	gAb¡¿ù_m—su»m’t_m—su»m’t
::
	$š™
()

24 
Dim’siÚFÜTime
)

26 1:
timeCÛf
=60;;

27 2:
timeCÛf
=3600;;

28 :
timeCÛf
=1;;

31 
x
=
Dim’siÚ
.
	`šdexOf
("/");

32 
Dim’siÚDo£
=
Dim’siÚ
.
	`Ëá
(
x
);

33 
	}
}

36 
	gAb¡¿ù_m—su»m’t_m—su»m’t
::
	$timeTh»ashŞd
(
ulÚg
 &
time
,
QLab–
* 
th»ashŞd
,
QTim”
* 
tim”
)

38 if(
Th»ashŞd
==1&&
time
==
TimeTh»ashŞd
)

40 
tim”
->
	`¡İ
();

41 
th»ashŞd
->
	`£tText
("Ğ”Ğ¾ÑÑ‚Ğ¸Ğ³Ğ½ÑƒÑ‚ Ğ¿Ğ¾Ñ€Ğ¾Ğ³ Ğ¿Ğ¾ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸");

43 
	}
}

45 
	gAb¡¿ù_m—su»m’t_m—su»m’t
::
	$do£Th»ashŞd
(&
do£
,
QLab–
* 
th»ashŞd
,
QTim”
* 
tim”
,
boŞ
 
Flu’û
)

47 if(
Flu’û
==
Œue
)

49 if(
Th»ashŞd
==2&&
do£
>=
Do£Th»ashŞd
)

51 
tim”
->
	`¡İ
();

52 
th»ashŞd
->
	`£tText
("Ğ”Ğ¾ÑÑ‚Ğ¸Ğ³Ğ½ÑƒÑ‚ Ğ¿Ğ¾Ñ€Ğ¾Ğ³ Ğ¿Ğ¾ Ñ„Ğ»ÑĞµĞ½ÑÑƒ");

57 if(
Th»ashŞd
==2&&
do£
>=
Do£Th»ashŞd
/1000)

59 
tim”
->
	`¡İ
();

60 
th»ashŞd
->
	`£tText
("Ğ”Ğ¾ÑÑ‚Ğ¸Ğ³Ğ½ÑƒÑ‚ Ğ¿Ğ¾Ñ€Ğ¾Ğ³ Ğ¿Ğ¾ Ğ´Ğ¾Ğ·Ğµ");

63 
	}
}

65 
	gAb¡¿ù_m—su»m’t_m—su»m’t
::
	$do£Show
(&
z
, 
QLab–
 *
fig4
) const

67 ià(
QSŒšg
::
	`numb”
(
z
,'f',3).
	`size
()<6)

69 
fig4
->
	`£tText
(
QSŒšg
::
	`numb”
(
z
,'f',3));

71 ià(
QSŒšg
::
	`numb”
(
z
,'f',3).
	`size
()>=6 && QString::number(z,'f',3).size()<7)

73 
fig4
->
	`£tText
(
QSŒšg
::
	`numb”
(
z
,'f',2));

75 ià(
QSŒšg
::
	`numb”
(
z
,'f',3).
	`size
()>=7 && QString::number(z,'f',3).size()<8)

77 
fig4
->
	`£tText
(
QSŒšg
::
	`numb”
(
z
,'f',1));

79 ià(
QSŒšg
::
	`numb”
(
z
,'f',3).
	`size
()>=8)

81 
fig4
->
	`£tText
(
QSŒšg
::
	`numb”
(
z
,'f',0));

83 
	}
}

85 
	gAb¡¿ù_m—su»m’t_m—su»m’t
::
	$do£To4
(&
z1
,

86 cÚ¡ 
QSŒšg
 &
dim’siÚ
,

87 
QLab–
 *
fig4
,

88 
QLab–
 *
dim
,

89 
boŞ
 
PP
,

90 
boŞ
 
Flu’û
) const

92 if(
PP
==
çl£
)

94 
z
 = 
z1
*1e12;

95 ià(
z
<1e3)

97 
dim
->
	`£tText
("Ğ¿"+
dim’siÚ
);

98 
	`do£Show
(
z
,
fig4
);

100 ià(
z
>=1e3 && z<1e6)

102 
dim
->
	`£tText
("Ğ½"+
dim’siÚ
);

103 
z
=z/1e3;

104 
	`do£Show
(
z
,
fig4
);

106 ià(
z
>=1e6 && z<1e9)

108 
dim
->
	`£tText
("Ğ¼Ğº"+
dim’siÚ
);

109 
z
=z/1e6;

110 
	`do£Show
(
z
,
fig4
);

112 ià(
z
>=1e9 && z<1e12)

114 
dim
->
	`£tText
("Ğ¼"+
dim’siÚ
);

115 
z
=z/1e9;

116 
	`do£Show
(
z
,
fig4
);

118 ià(
z
>=1e12)

120 
dim
->
	`£tText
(
dim’siÚ
);

121 
z
=z/1e12;

122 
	`do£Show
(
z
,
fig4
);

127 if(
Flu’û
==
çl£
)

129 
dim
->
	`£tText
(
dim’siÚ
);

130 
fig4
->
	`£tText
(
QSŒšg
::
	`numb”
(
z1
,'f',2));

134 
dim
->
	`£tText
(
dim’siÚ
+"/ĞºĞ².ÑĞ¼");

135 
fig4
->
	`£tText
(
QSŒšg
::
	`numb”
(
z1
,'f',0));

138 
	}
}

140 
	gAb¡¿ù_m—su»m’t_m—su»m’t
::
	$autoMode
(&
do£
, 
QTim”
 *
tim”
,
QLab–
* 
time
,QLab–* 
times
)

142 
automode_Úe_time_cu¼’t
+=1;

144 
time
->
	`£tText
(
QSŒšg
::
	`numb”
(
automode_Úe_time_cu¼’t
));

145 if(
automode_Úe_time_cu¼’t
==
TimeAutom©ic
)

147 
automode_Úe_time_cu¼’t
=0;

148 
automode_times_cu¼’t
+=1;

149 
times
->
	`£tText
(
QSŒšg
::
	`numb”
(
automode_times_cu¼’t
));

151 
automode_Do£R©e_cu¼’t
+=
avDo£R©e
;

152 
automode_Do£_cu¼’t
+=
do£
;

154 
automode_Do£R©e_devŸtiÚ
+=
avDo£R©e
*avDoseRate;

155 
automode_Do£_devŸtiÚ
+=
do£
*dose;

157 
do£
=0;

159 if(
automode_times_cu¼’t
==
TimesAutom©ic
)

161 
tim”
->
	`¡İ
();

163 
Av”ageDo£R©e
=
automode_Do£R©e_cu¼’t
/
TimesAutom©ic
;

164 
z
=
	`sq¹
((
automode_Do£R©e_devŸtiÚ
/(
TimesAutom©ic
))-
Av”ageDo£R©e
*AverageDoseRate);

165 
Do£R©e_devŸtiÚ_av”age
=
¡d
::
	`abs
(100*
z
/
Av”ageDo£R©e
);

167 
Av”ageDo£
=
automode_Do£_cu¼’t
/
TimesAutom©ic
;

168 
z1
=
	`sq¹
((
automode_Do£_devŸtiÚ
/(
TimesAutom©ic
))-
Av”ageDo£
*AverageDose);

169 
Do£_devŸtiÚ_av”age
=
¡d
::
	`abs
(100*
z1
/
Av”ageDo£
);

171 
automode_times_cu¼’t
=0;

172 
do£FÜAuto
=0;

173 
automode_Do£R©e_cu¼’t
=0;

174 
automode_Do£_cu¼’t
=0;

175 
automode_Do£R©e_devŸtiÚ
=0;

176 
automode_Do£_devŸtiÚ
=0;

178 
	`autoModeResuÉ
(
Av”ageDo£R©e
,
Do£R©e_devŸtiÚ_av”age
,
Av”ageDo£
,
Do£_devŸtiÚ_av”age
);

181 
	}
}

	@abstract_measurement_measurement.h

5 #iâdeà
ABSTRACT_MEASUREMENT_MEASUREMENT_H


6 
	#ABSTRACT_MEASUREMENT_MEASUREMENT_H


	)

8 
	~<QLab–
>

9 
	~<cm©h
>

10 
	~<QTim”
>

11 
	~<QDebug
>

13 şas 
	cAb¡¿ù_m—su»m’t_m—su»m’t


15 
	mpublic
:

16 
Ab¡¿ù_m—su»m’t_m—su»m’t
(cÚ¡ 
QSŒšg
 
dim’siÚ
="",cÚ¡ 
dim’siÚFÜTime
=0,

17 
boŞ
 
»gime
=0, cÚ¡ 
ušt
 
timesAutom©ic
=0,

18 cÚ¡ 
ušt
 
timeAutom©ic
=0, cÚ¡ 
ušt8_t
 
th»ashŞd
=0,

19 cÚ¡ 
ušt
 
timeTh»ashŞd
=0, cÚ¡ 
do£Th»ashŞd
=0);

20 
	mvœtu®
 ~
Ab¡¿ù_m—su»m’t_m—su»m’t
();

22 
	m´Ùeùed
:

23 
š™
();

24 
timeTh»ashŞd
(
ulÚg
 &
time
,
QLab–
* 
th»ashŞd
,
QTim”
* 
tim”
);

25 
do£Th»ashŞd
(&
do£
,
QLab–
* 
th»ashŞd
,
QTim”
* 
tim”
,
boŞ
 
Flu’û
=
çl£
);

26 
	$do£Show
(&, 
QLab–
*) const;

29 
	$do£To4
(&,cÚ¡ 
QSŒšg
&, 
QLab–
*, QLab–*, 
boŞ
 
PP
=0,boŞ 
Flu’û
=0) const;

31 
	`autoMode
(&
do£
, 
QTim”
 *
tim”
,
QLab–
* 
time
,QLab–* 
times
);

35 
vœtu®
 
	`autoModeResuÉ
(,,,)=0;

39 cÚ¡ 
QSŒšg
 
Dim’siÚ
{""};

40 
QSŒšg
 
Dim’siÚDo£
{""
	}
};

41 cÚ¡ 
	gDim’siÚFÜTime
{0};

42 
boŞ
 
	gRegime
{
	gçl£
};

43 cÚ¡ 
ušt
 
	gTimesAutom©ic
{0};

44 cÚ¡ 
ušt
 
	gTimeAutom©ic
{0};

45 cÚ¡ 
ušt8_t
 
	gTh»ashŞd
{0};

46 cÚ¡ 
ušt
 
	gTimeTh»ashŞd
{0};

47 cÚ¡ 
	gDo£Th»ashŞd
{0};

49 
QSŒšg
 
	gchamb”Name
{""};

50 
QSŒšg
 
	gv®ue
{""};

51 
QSŒšg
 
	gš‹g¿lV®ue
{""};

53 
	gtimeCÛf
{0};

56 
	gavDo£R©e
{0};

57 
	gÙkl
{0};

58 
	gSnd¬dDevŸtiÚ
{0};

60 
QSŒšg
 
	gautoIn™Ÿliz©iÚ
{""};

61 
ušt
 
	gautomode_Úe_time_cu¼’t
{0};

62 
ušt
 
	gautomode_times_cu¼’t
{0};

63 
	gautomode_Do£R©e_cu¼’t
{0};

64 
	gautomode_Do£_cu¼’t
{0};

65 
	gautomode_Do£R©e_devŸtiÚ
{0};

66 
	gautomode_Do£_devŸtiÚ
{0};

67 
	gdo£FÜAuto
{0};

69 
	g´iv©e
:

70 
QTim”
 * 
tim”
;

	@auto_measurement_result.cpp

3 
	~"auto_m—su»m’t_»suÉ.h
"

4 
	~"ui_auto_m—su»m’t_»suÉ.h
"

6 
	gAuto_m—su»m’t_»suÉ
::
	$Auto_m—su»m’t_»suÉ
(
QWidg‘
 *
·»Á
,
QSŒšg
 
v®ue
, QSŒšg 
š‹g¿lV®ue
,

7 
QSŒšg
 
š™Ÿliz©iÚ
) :

8 
	`QDŸlog
(
·»Á
),

9 
	`ui
(
Ãw
 
Ui
::
Auto_m—su»m’t_»suÉ
), 
	`V®ue
(
v®ue
), 
	`IÁeg¿lV®ue
(
š‹g¿lV®ue
), 
	$In™Ÿliz©iÚ
(
š™Ÿliz©iÚ
)

11 
ui
->
	`£tupUi
(
this
);

12 
	`š™
();

13 
	}
}

15 
	gAuto_m—su»m’t_»suÉ
::~
	$Auto_m—su»m’t_»suÉ
()

17 
d–‘e
 
ui
;

18 
	}
}

20 
	gAuto_m—su»m’t_»suÉ
::
	$Ú_pushBu‰Ú_şicked
()

22 
	`şo£
();

23 
	}
}

25 
	gAuto_m—su»m’t_»suÉ
::
	$š™
()

27 
	`£tWšdowT™Ë
("ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¸Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ğµ");

28 
ui
->
Ïb–
->
	`£tText
(
In™Ÿliz©iÚ
);

29 
avDo£R©e
=
ui
->
Ïb–_3
;

30 
avDo£R©eDim’siÚ
=
ui
->
Ïb–_4
;

31 
avDo£
=
ui
->
Ïb–_7
;

32 
avDo£Dim’siÚ
=
ui
->
Ïb–_9
;

33 
avDo£R©eDevŸtiÚ
=
ui
->
Ïb–_6
;

34 
avDo£DevŸtiÚ
=
ui
->
Ïb–_11
;

36 
ui
->
Ïb–_2
->
	`£tText
(
V®ue
);

37 
ui
->
Ïb–_8
->
	`£tText
(
IÁeg¿lV®ue
);

38 
	}
}

	@auto_measurement_result.h

1 #iâdeà
AUTO_MEASUREMENT_RESULT_H


2 
	#AUTO_MEASUREMENT_RESULT_H


	)

4 
	~<QDŸlog
>

5 
	~<QLab–
>

7 
Çme¥aû
 
	gUi
 {

8 
şass
 
	gAuto_m—su»m’t_»suÉ
;

11 şas 
	cAuto_m—su»m’t_»suÉ
 : 
public
 
QDŸlog


13 
Q_OBJECT


15 
public
:

16 
ex¶ic™
 
Auto_m—su»m’t_»suÉ
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
, 
QSŒšg
 
v®ue
={""}, QSŒšg 
š‹g¿lV®ue
={""},

17 
QSŒšg
 
š™Ÿliz©iÚ
 = 
nuÎ±r
);

18 ~
Auto_m—su»m’t_»suÉ
();

20 
QLab–
* 
	gavDo£R©e
{
	gnuÎ±r
};

21 
QLab–
* 
	gavDo£R©eDim’siÚ
{
	gnuÎ±r
};

22 
QLab–
* 
	gavDo£
{
	gnuÎ±r
};

23 
QLab–
* 
	gavDo£Dim’siÚ
{
	gnuÎ±r
};

24 
QLab–
* 
	gavDo£R©eDevŸtiÚ
{
	gnuÎ±r
};

25 
QLab–
* 
	gavDo£DevŸtiÚ
{
	gnuÎ±r
};

28 
´iv©e
 
	g¦Ùs
:

29 
Ú_pushBu‰Ú_şicked
();

31 
	g´iv©e
:

32 
Ui
::
Auto_m—su»m’t_»suÉ
 *
ui
;

33 
š™
();

35 
QSŒšg
 
	gV®ue
{""};

36 
QSŒšg
 
	gIÁeg¿lV®ue
{""};

38 
QSŒšg
 
	gIn™Ÿliz©iÚ
;

	@averageadc.cpp

3 
	~"av”ag—dc.h
"

5 
	gAv”ageADC
::
	$Av”ageADC
()

7 
	`š™
();

8 
	}
}

10 
	gAv”ageADC
::~
	$Av”ageADC
()

12 
	`qDebug
()<<"~AverageADC()";

13 
d–‘e
 
em
;

14 
d–‘e
 
rs232
;

15 
	}
}

17 
	gAv”ageADC
::
	$š™
()

19 
em
=
nuÎ±r
;

20 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

22 
QSqlD©aba£
 
db
=QSqlD©aba£::
	`d©aba£
("myDB");

23 
db
.
	`£tD©aba£Name
("config.db");

24 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

25 
QSqlQu”y
 
	`qu”y
(
db
);

26 
QSŒšg
 
qSŒ
 = "SELECT *FROMƒlectrometer";

27 if(!
qu”y
.
	`exec
(
qSŒ
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y SELECTabËƒËùrom‘”"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

28 if(
qu”y
.
	`fœ¡
())

30 
times
 = 
¡©ic_ÿ¡
<
ušt8_t
>(
qu”y
.
	`v®ue
("couÁsAv”").
	`toUIÁ
());

33 
qSŒ
 = "SELECT *FROM SourceChoice";

34 if(!
qu”y
.
	`exec
(
qSŒ
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y SELECTabË SourûChoiû"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

35 if(
qu”y
.
	`fœ¡
())

37 
Cu¼Sourû
 = 
¡©ic_ÿ¡
<
boŞ
>(
qu”y
.
	`v®ue
("emuÏtÜ").
	`toUIÁ
());

40 
db
.
	`şo£
();

42 if(
Cu¼Sourû
==
Œue
)

44 
	`emul
();
	`qDebug
()<<"Emulator";

46 { 
	`rs_232
();
	`qDebug
()<<"Detector RS-232";}

47 
	}
}

49 
	gAv”ageADC
::
	$»c›veD©a
(
QSŒšg
 
COM
)

51 cÚ¡ * 
ch¬COM
 = 
COM
.
	`toStdSŒšg
().
	`c_¡r
();

52 
QSŒšg
 
¡rADC_Hex
="";

53 
i
=1;i<
COM
.
	`Ëngth
();i+=2)

55 
¡rADC_Hex
.
	`­³nd
(
ch¬COM
[
i
]);

57 
numADC
=
¡rADC_Hex
.
	`toLÚg
(
nuÎ±r
,16);

59 
couÁ
++;

60 
avADC
+=
numADC
;

61 if(
couÁ
==
times
)

63 
avADC
÷vADC/
times
;

64 
	`ÿÎAv”ADC
(
avADC
);

65 
couÁ
=0;

66 
avADC
=0;

68 
	}
}

70 
	gAv”ageADC
::
	$emul
()

72 
em
 = 
Ãw
 
EmulEËùrom‘”
;

73 
	`cÚÃù
(
em
,&
EmulEËùrom‘”
::
£ndd
,
this
,&
Av”ageADC
::
»c›veD©a
);

74 
em
->
	`¡¬t
();

75 
	}
}

77 
	gAv”ageADC
::
	$rs_232
()

79 
rs232
 = 
Ãw
 
	`RS232
();

80 
	`cÚÃù
(
rs232
,&
RS232
::
outRS232
,
this
,&
Av”ageADC
::
»c›veD©a
);

81 
	}
}

83 
	gAv”ageADC
::
	$ÿÎAv”ADC
(
avADC
)

85 
av”ageADC
=
avADC
;

86 
	}
}

88 
	gAv”ageADC
::
	$g‘Av”ageADC
()

90  
av”ageADC
;

91 
	}
}

93 
	gAv”ageADC
::
	$£ndToComSlÙ
(
QBy‹A¼ay
 
x
)

95 
	`qDebug
()<<"<Ğ‘ÑƒĞ´ĞµÑ‚ Ğ·Ğ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ¾ Ğ² Ğ¿Ğ¾Ñ€Ñ‚ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ :ğ"<<
x
.
	`toHex
();

96 if(
rs232
!=
nuÎ±r
)

98 
rs232
->
	`wr™eToRS232
(
x
);

100 
	}
}

102 
	gAv”ageADC
::
	$£ndToComSlÙ1
(
QBy‹A¼ay
 
vŞt
)

104 
qušt32
 
DAC1
=0;

105 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

107 
QSqlD©aba£
 
db
=QSqlD©aba£::
	`d©aba£
("myDB");

108 
db
.
	`£tD©aba£Name
("config.db");

109 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

110 
QSqlQu”y
 
	`qu”y
(
db
);

111 
QSŒšg
 
qSŒ
 = "SELECT *FROMƒlectrometerTest";

112 if(!
qu”y
.
	`exec
(
qSŒ
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y SELECTabËƒËùrom‘”Te¡"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

113 if(
qu”y
.
	`fœ¡
())

115 
DAC1
 = 
qu”y
.
	`v®ue
("DAC").
	`toUIÁ
();

118 
QBy‹A¼ay
 
by‹sDAC
;

119 
by‹sDAC
.
	`ş—r
();

120 
QSŒšg
 
¡rDAC
=QSŒšg::
	`numb”
(
DAC1
,16);

121 
QSŒšg
 
DAC4
="",
DAC5
="",
DAC6
="";

122 
DAC4
="4"+
¡rDAC
[0];

123 
DAC5
="5"+
¡rDAC
[1];

124 
DAC6
="6"+
¡rDAC
[2];

125 
by‹sDAC
.
	`ş—r
();

126 
by‹sDAC
.
	`­³nd
(
¡©ic_ÿ¡
<>(
DAC4
.
	`toUIÁ
(
nuÎ±r
,16)));

127 
by‹sDAC
.
	`­³nd
(
¡©ic_ÿ¡
<>(
DAC5
.
	`toUIÁ
(
nuÎ±r
,16)));

128 
by‹sDAC
.
	`­³nd
(
¡©ic_ÿ¡
<>(
DAC6
.
	`toUIÁ
(
nuÎ±r
,16)));

130 
by‹sDAC
.
	`­³nd
(
vŞt
);

131 
	`qDebug
()<<"<Ğ‘ÑƒĞ´ĞµÑ‚ Ğ·Ğ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ¾ Ğ² Ğ¿Ğ¾Ñ€Ñ‚ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ :ğ"<<
by‹sDAC
.
	`toHex
();

132 if(
rs232
!=
nuÎ±r
)

134 
i
=0; i<500000000;i++){;}

135 
rs232
->
	`wr™eToRS232
(
by‹sDAC
);

136 
i
=0; i<500000000;i++){;}

137 
rs232
->
	`wr™eToRS232
(
by‹sDAC
);

138 
i
=0; i<500000000;i++){;}

139 
rs232
->
	`wr™eToRS232
(
by‹sDAC
);

141 
	}
}

	@averageadc.h

1 #iâdeà
AVERAGEADC_H


2 
	#AVERAGEADC_H


	)

4 
	~"emuËËùrom‘”.h
"

5 
	~"rs232.h
"

7 
	~<QObjeù
>

8 
	~<QSqlD©aba£
>

9 
	~<QSqlQu”y
>

10 
	~<QSqlE¼Ü
>

11 
	~<QDebug
>

14 şas 
	cAv”ageADC
: 
public
 
QObjeù


16 
Q_OBJECT


17 
public
:

18 
Av”ageADC
();

19 ~
Av”ageADC
();

21 
g‘Av”ageADC
();

24 
public
 
	m¦Ùs
:

25 
»c›veD©a
(
QSŒšg
);

26 
£ndToComSlÙ
(
QBy‹A¼ay
);

27 
£ndToComSlÙ1
(
QBy‹A¼ay
);

29 
	m´iv©e
:

30 
š™
();

31 
emul
();

32 
rs_232
();

33 
ÿÎAv”ADC
();

35 
EmulEËùrom‘”
* 
	mem
{
	mnuÎ±r
};

36 
RS232
* 
	grs232
{
	gnuÎ±r
};

38 
ušt8_t
 
	gtimes
;

39 
	gavADC
{0};

40 
boŞ
 
	gCu¼Sourû
{0};

41 
	gcouÁ
{0};

42 
	gav”ageADC
{0};

	@averagemodbus.cpp

3 
	~"av”agemodbus.h
"

5 
	gAv”ageModbus
::
	$Av”ageModbus
()

7 
	`š™
();

9 
	}
}

10 
	gAv”ageModbus
::~
	$Av”ageModbus
()

12 if(
rs_485
!=
nuÎ±r
)

14 
rs_485
->
	`¡İ
();

22 
	`qDebug
()<<"delete modEmul;";

23 
d–‘e
 
modEmul
;

24 
d–‘e
 
rs_485
;

26 
	}
}

27 
	gAv”ageModbus
::
	$š™
()

29 
fe
=
Ãw
 
	`QFe
("a.txt");

30 
¡»am
ğ
Ãw
 
	`QTextSŒ—m
(
fe
);

31 
times
=1;

32 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

34 
QSqlD©aba£
 
db
=QSqlD©aba£::
	`d©aba£
("myDB");

35 
db
.
	`£tD©aba£Name
("config.db");

36 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

37 
QSqlQu”y
 
	`qu”y
(
db
);

38 
QSŒšg
 
qSŒ
 = "SELECT *FROMƒlectrometer";

39 if(!
qu”y
.
	`exec
(
qSŒ
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y SELECTabËƒËùrom‘”"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

40 if(
qu”y
.
	`fœ¡
())

45 
qSŒ
 = "SELECT *FROM SourceChoice";

46 if(!
qu”y
.
	`exec
(
qSŒ
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y SELECTabË SourûChoiû"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

47 if(
qu”y
.
	`fœ¡
())

49 
Cu¼Sourû
 = 
¡©ic_ÿ¡
<
boŞ
>(
qu”y
.
	`v®ue
("emuÏtÜ").
	`toUIÁ
());

54 
db
.
	`şo£
();

56 if(
Cu¼Sourû
==
Œue
)

58 
	`emul
();
	`qDebug
()<<"Emulator";

60 { 
	`rs485
();
	`qDebug
()<<"Detector RS-485";}

62 
	}
}

64 
	gAv”ageModbus
::
	$emul
()

67 
modEmul
ğ
Ãw
 
Modbus_emuÏtÜ
;

68 
	`cÚÃù
(
modEmul
,&
Modbus_emuÏtÜ
::
modReg
,
this
,&
Av”ageModbus
::
»c›veD©a
);

69 
modEmul
->
	`¡¬t
();

82 
	}
}

84 
	gAv”ageModbus
::
	$rs485
()

87 
rs_485
ğ
Ãw
 
RS485
;

88 
	`cÚÃù
(
rs_485
,&
RS485
::
”rÜSig
,
this
,&
Av”ageModbus
::
”rÜCÚÃùiÚSlÙ
);

99 
	`cÚÃù
(
rs_485
,&
RS485
::
sigÇlD©a
,
this
,&
Av”ageModbus
::
»c›veD©a
);

110 
rs_485
->
	`¡¬t
();

111 
	}
}

112 
	gAv”ageModbus
::
	$»c›veD©a
(
couÁR©e
)

114 
couÁ
++;

115 
avD©a
÷vD©a+
couÁR©e
;

116 if(
couÁ
==
times
)

118 
avD©a
÷vD©a/
times
;

120 
	`ÿÎAv”CR
(
avD©a
);

121 
couÁ
=0;

122 
avD©a
=0;

124 
	}
}

126 
	gAv”ageModbus
::
	$g‘AvCR
()

128  
avCR
;

129 
	}
}

131 
	gAv”ageModbus
::
	$ÿÎAv”CR
(
avCR
)

133 
this
->
avCR
=avCR;

149 
	}
}

151 
	gAv”ageModbus
::
	$”rÜCÚÃùiÚSlÙ
()

153 
em™
 
	`”rÜSig
();

154 
	}
}

	@averagemodbus.h

1 #iâdeà
AVERAGEMODBUS_H


2 
	#AVERAGEMODBUS_H


	)

4 
	~"modbus_emuÏtÜ.h
"

5 
	~"·sswÜd.h
"

6 
	~"rs485.h
"

8 
	~<QObjeù
>

9 
	~<QTh»ad
>

10 
	~<QFe
>

11 
	~<QTextSŒ—m
>

13 şas 
	cAv”ageModbus
: 
public
 
QObjeù


15 
Q_OBJECT


16 
public
:

17 
Av”ageModbus
();

18 ~
Av”ageModbus
();

20 
	msigÇls
:

21 
fšish
();

22 
”rÜSig
();

24 
public
 
	m¦Ùs
:

25 
»c›veD©a
(
couÁR©e
);

26 
”rÜCÚÃùiÚSlÙ
();

29 
	mpublic
:

30 
g‘AvCR
();

32 
	m´iv©e
:

33 
Modbus_emuÏtÜ
* 
modEmul
{
nuÎ±r
};

34 
RS485
* 
	grs_485
{
	gnuÎ±r
};

35 
QTh»ad
* 
	gth»ad
{
	gnuÎ±r
};

39 
QFe
* 
	gfe
{
	gnuÎ±r
};

40 
QTextSŒ—m
* 
	g¡»am
{
	gnuÎ±r
};

42 
š™
();

43 
emul
();

44 
rs485
();

46 
ÿÎAv”CR
();

49 
	gavCR
{0};

52 
boŞ
 
	gCu¼Sourû
{0};

53 
	gavD©a
{0};

54 
qušt8
 
	gtimes
{0};

55 
qušt8
 
	gcouÁ
{0};

	@beta.cpp

4 
	~"b‘a.h
"

5 
	~"ui_b‘a.h
"

7 
	gB‘a
::
	$B‘a
(
QWidg‘
 *
·»Á
) :

8 
	`QDŸlog
(
·»Á
),

9 
	$ui
(
Ãw
 
Ui
::
B‘a
)

11 
ui
->
	`£tupUi
(
this
);

12 
	`š™
();

13 
	}
}

15 
	gB‘a
::~
	$B‘a
()

19 
d–‘e
 
ui
;

20 
	`qDebug
()<<"~beta";

21 
	}
}

23 
	gB‘a
::
	$Ú_pushBu‰Ú_şicked
()

25 
	`şo£
();

26 
	}
}

28 
	gB‘a
::
	$š™
()

30 
	`£tWšdowT™Ë
("Ğ‘ĞµÑ‚Ğ° Ğ¸Ğ·Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ");

31 
	`£tA‰ribu‹
(
Qt
::
WA_D–‘eOnClo£
);

32 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

34 
QSqlD©aba£
 
db
 = QSqlD©aba£::
	`d©aba£
("myDB");

35 
db
.
	`£tD©aba£Name
("config.db");

36 if(!
db
.
	`İ’
()){
	`qDebug
()<<"DB was‚ot opened";}

37 
QSqlQu”y
 
	`qu”y
(
db
);

38 
QSŒšg
 
qu”ySŒ
 = "SELECT * FROM fullName";

39 if(!
qu”y
.
	`exec
(
qu”ySŒ
))

40 {
	`qDebug
()<<"unableƒxecute query SELECT";}

41 if(
qu”y
.
	`fœ¡
())

43 
ui
->
lšeEd™
->
	`£tText
(
qu”y
.
	`v®ue
("suºame").
	`toSŒšg
());

44 
ui
->
lšeEd™_2
->
	`£tText
(
qu”y
.
	`v®ue
("Çme").
	`toSŒšg
());

45 
ui
->
lšeEd™_3
->
	`£tText
(
qu”y
.
	`v®ue
("·ŒÚymic").
	`toSŒšg
());

48 
	}
}

50 
	gB‘a
::
	$Ú_pushBu‰Ú_2_şicked
()

52 
–Te¡
 = 
Ãw
 
	`EËùrom‘”_‹¡
(
this
);

53 
–Te¡
->
	`£tMod®
(
Œue
);

54 
–Te¡
->
	`show
();

55 
	}
}

57 
	gB‘a
::
	$Ú_pushBu‰Ú_3_şicked
()

60 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

62 
QSqlD©aba£
 
db
 = QSqlD©aba£::
	`d©aba£
("myDB");

63 
db
.
	`£tD©aba£Name
("config.db");

64 if(!
db
.
	`İ’
())

65 {
	`qDebug
()<<"DB was‚ot opened";}

66 
QSqlQu”y
 
	`qu”y
(
db
);

67 
QSŒšg
 
qu”ySŒ
;

82 
QSŒšg
 
	`suºame
(
ui
->
lšeEd™
->
	`‹xt
());

83 
QSŒšg
 
	`Çme
(
ui
->
lšeEd™_2
->
	`‹xt
());

84 
QSŒšg
 
	`·ŒÚimyc
(
ui
->
lšeEd™_3
->
	`‹xt
());

85 
QSŒšg
 
qu”ySŒ1
 = "UPDATE fullName SET "

89 
qu”ySŒ
 = 
qu”ySŒ1
.
	`¬g
(
suºame
)

90 .
	`¬g
(
Çme
)

91 .
	`¬g
(
·ŒÚimyc
);

92 if(!
qu”y
.
	`exec
(
qu”ySŒ
))

93 {
	`qDebug
()<<"unableƒxecute query UPDATE";}

96 
b‘aMes
 = 
Ãw
 
	`B‘a_m—suršg
(
this
);

97 
b‘aMes
->
	`£tMod®
(
Œue
);

98 
b‘aMes
->
	`show
();

99 
	}
}

	@beta.h

1 #iâdeà
BETA_H


2 
	#BETA_H


	)

4 
	~"b‘a_m—suršg.h
"

5 
	~"–eùrom‘”_‹¡.h
"

7 
	~<QDŸlog
>

9 
Çme¥aû
 
	gUi
 {

10 
şass
 
	gB‘a
;

13 şas 
	cB‘a
 : 
public
 
QDŸlog


15 
Q_OBJECT


17 
public
:

18 
ex¶ic™
 
B‘a
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
);

19 ~
B‘a
();

21 
´iv©e
 
	m¦Ùs
:

22 
Ú_pushBu‰Ú_şicked
();

24 
Ú_pushBu‰Ú_2_şicked
();

26 
Ú_pushBu‰Ú_3_şicked
();

28 
	m´iv©e
:

29 
Ui
::
B‘a
 *
ui
;

30 
EËùrom‘”_‹¡
* 
	m–Te¡
{
	mnuÎ±r
};

31 
B‘a_m—suršg
* 
	gb‘aMes
{
	gnuÎ±r
};

32 
š™
();

	@beta_chamber.cpp

1 
	~"b‘a_chamb”.h
"

3 
	gB‘a_chamb”
::
	$B‘a_chamb”
(
ušt8_t
 
r
, 
boŞ
 
comp
,
‹mp
,
p
, 
cÜrF
, 
QSŒšg
 
chamName
)

4 :
	`Ichamb”
(
r
,
comp
,
‹mp
,
p
,
cÜrF
),
	$chamb”Name
(
chamName
)

6 
	`š™
();

7 
	}
}

9 
	gB‘a_chamb”
::~
	$B‘a_chamb”
()

11 
	`qDebug
()<<"~Beta_chamber()";

12 
	}
}

14 
	gB‘a_chamb”
::
	$š™
()

16 
QSŒšg
 
¡r
 = 
chamb”Name
;

17 
x
=
¡r
.
	`šdexOf
(" ");

18 
chamb”Name
=
¡r
.
	`Ëá
(
x
);

19 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

21 
QSqlD©aba£
 
db
=QSqlD©aba£::
	`d©aba£
("myDB");

22 
db
.
	`£tD©aba£Name
("config.db");

23 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

24 
QSqlQu”y
 
	`qu”y
(
db
);

25 
QSŒšg
 
qSŒ
="SELECT *FROM betaChambers WHERE‚ame='%1'";

26 
QSŒšg
 
qSŒ1
=
qSŒ
.
	`¬g
(
chamb”Name
);

27 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"unableƒxecute query SELECT sensibility FROM betaChambers WHERE‚ame='%1'";}

28 ià(
qu”y
.
	`fœ¡
())

30 
£nsib™y
=
qu”y
.
	`v®ue
("£nsib™y").
	`toDoubË
();

33 
db
.
	`şo£
();

35 
	}
}

37 
	gB‘a_chamb”
::
	$MPD
()

39  
¡d
::
	`abs
(
	`g‘I»s
()*
£nsib™y
);

41 
	}
}

43 
QSŒšg
 
	gB‘a_chamb”
::
	$g‘Chamb”Name
()

45  
chamb”Name
;

46 
	}
}

	@beta_chamber.h

1 #iâdeà
BETA_CHAMBER_H


2 
	#BETA_CHAMBER_H


	)

4 
	~"ichamb”.h
"

5 
	~<cm©h
>

7 şas 
	cB‘a_chamb”
:
public
 
Ichamb”


9 
public
:

10 
B‘a_chamb”
(
ušt8_t
 
r
=0, 
boŞ
 
comp
=0,
‹mp
=0,
p
=0, 
cÜrF
=0, 
QSŒšg
 
chamName
="");

11 ~
B‘a_chamb”
();

12 
MPD
();

13 
QSŒšg
 
g‘Chamb”Name
();

15 
	m´iv©e
:

16 
š™
();

18 
QSŒšg
 
	mchamb”Name
;

19 
	m£nsib™y
;

	@beta_measuring.cpp

3 
	~"b‘a_m—suršg.h
"

4 
	~"ui_b‘a_m—suršg.h
"

6 
	gB‘a_m—suršg
::
	$B‘a_m—suršg
(
QWidg‘
 *
·»Á
) :

7 
	`QDŸlog
(
·»Á
),

8 
	$ui
(
Ãw
 
Ui
::
B‘a_m—suršg
)

10 
ui
->
	`£tupUi
(
this
);

11 
	`š™
();

12 
	}
}

14 
	gB‘a_m—suršg
::~
	$B‘a_m—suršg
()

16 
	`qDebug
()<<"~Beta_measuring";

18 
	`qDebug
()<<"~betaChamber";

20 
d–‘e
 
ui
;

21 
	`qDebug
()<<"delete chambComp";

22 
	}
}

25 
	gB‘a_m—suršg
::
	$š™
()

27 
	`£tWšdowT™Ë
("Ğ‘ĞµÑ‚Ğ° Ğ¸Ğ·Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ - Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ¸Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ñ");

28 
	`£tA‰ribu‹
(
Qt
::
WA_D–‘eOnClo£
);

29 
·ss
=
PasswÜd
::
	`check
();

30 
·ss
)

32 2: 
ui
->
pushBu‰Ú_3
->
	`£tEÇbËd
(
Œue
);ui->pushBu‰Ú_3->
	`£tVisibË
(true);

33 
ui
->
Ïb–_8
->
	`£tText
("Ğ˜Ğ—Ğ“ĞĞ¢ĞĞ’Ğ˜Ğ¢Ğ•Ğ›Ğ¬:");

35 1: 
ui
->
pushBu‰Ú_3
->
	`£tEÇbËd
(
Œue
);ui->pushBu‰Ú_3->
	`£tVisibË
(true);

36 
ui
->
Ïb–_8
->
	`£tText
("ĞŸĞĞ’Ğ•Ğ Ğ˜Ğ¢Ğ•Ğ›Ğ¬:");

38 :
ui
->
pushBu‰Ú_3
->
	`£tEÇbËd
(
çl£
);ui->pushBu‰Ú_3->
	`£tVisibË
(false);

39 
ui
->
Ïb–_8
->
	`£tText
("ĞĞŸĞ•Ğ ĞĞ¢ĞĞ :");

43 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

45 
QSqlD©aba£
 
db
 = QSqlD©aba£::
	`d©aba£
("myDB");

46 
db
.
	`£tD©aba£Name
("config.db");

47 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

48 
QSqlQu”y
 
	`qu”y
(
db
);

49 
QSŒšg
 
qSŒ
="SELECT *FROM betaChambers";

50 if(!
qu”y
.
	`exec
(
qSŒ
)){
	`qDebug
()<<"unableƒxecute query SELECT *FROMable betaChambers";}

51 
QLi¡
<
QSŒšg
> 
¡rLi¡
;

52 
qu”y
.
	`Ãxt
())

54 
¡rLi¡
.
	`­³nd
(
qu”y
.
	`v®ue
("Çme").
	`toSŒšg
()+" Ğ´Ğ°Ñ‚Ğ° Ğ¿Ğ¾Ğ²ĞµÑ€ĞºĞ¸: "+query.value("VerificationDate").toString());

56 
ui
->
comboBox
->
	`addI‹ms
(
¡rLi¡
);

59 
ui
->
comboBox_3
->
	`addI‹m
("Ğ“Ñ€/Ñ");

60 
ui
->
comboBox_3
->
	`addI‹m
("Ğ“Ñ€/Ğ¼Ğ¸Ğ½");

61 
ui
->
comboBox_3
->
	`addI‹m
("Ğ“Ñ€/Ñ‡");

62 
ui
->
comboBox_4
->
	`addI‹m
("Ğ§ÑƒĞ²ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹");

63 
ui
->
comboBox_4
->
	`addI‹m
("Ğ¡Ñ€ĞµĞ´Ğ½Ğ¸Ğ¹");

64 
ui
->
comboBox_4
->
	`addI‹m
("Ğ“Ñ€ÑƒĞ±Ñ‹Ğ¹");

66 
ui
->
¿dioBu‰Ú
->
	`£tChecked
(
Œue
);

67 
ui
->
comboBox_2
->
	`addI‹m
("Ğ ÑƒÑ‡Ğ½Ğ¾Ğ¹");

68 
ui
->
comboBox_2
->
	`addI‹m
("ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹");

69 
ui
->
lšeEd™
->
	`£tText
("20");

70 
ui
->
lšeEd™_2
->
	`£tText
("750");

71 
ui
->
Ïb–_13
->
	`£tText
("99990");

72 
ui
->
lšeEd™_3
->
	`£tText
("1");

73 
ui
->
lšeEd™_4
->
	`£tEÇbËd
(
çl£
);

74 
ui
->
lšeEd™_4
->
	`£tVisibË
(
çl£
);

75 
ui
->
lšeEd™_5
->
	`£tEÇbËd
(
çl£
);

76 
ui
->
lšeEd™_5
->
	`£tVisibË
(
çl£
);

78 
ui
->
lšeEd™_5
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->
lšeEd™_4
));

80 
ui
->
lšeEd™_6
->
	`£tEÇbËd
(
çl£
);

81 
ui
->
lšeEd™_6
->
	`£tVisibË
(
çl£
);

82 
ui
->
lšeEd™_7
->
	`£tEÇbËd
(
çl£
);

83 
ui
->
lšeEd™_7
->
	`£tVisibË
(
çl£
);

85 
QSŒšg
 
qu”yS1
 = "";

86 
QSŒšg
 
qu”yS
 = "SELECT * FROM fullName";

87 if(!
qu”y
.
	`exec
(
qu”yS
))

88 {
	`qDebug
()<<"unableƒxecute query SELECT";}

89 if(
qu”y
.
	`fœ¡
())

91 
ui
->
Ïb–_9
->
	`£tText
(
qu”y
.
	`v®ue
("suºame").
	`toSŒšg
()+

92 " "+
qu”y
.
	`v®ue
("Çme").
	`toSŒšg
()+

93 " "+
qu”y
.
	`v®ue
("·ŒÚymic").
	`toSŒšg
());

95 
db
.
	`şo£
();

97 
–Te¡
=
Ãw
 
	`EËùrom‘”_‹¡
(
this
);

98 
–Te¡
->
	`‹¡Sourû
(
Œue
);

99 
	`cÚÃù
(
–Te¡
,&
EËùrom‘”_‹¡
::
şo£Te¡AÎ
,
this
,&
B‘a_m—suršg
::
‹¡FauÉ
);

100 
–Te¡
->
	`£tMod®
(
Œue
);

101 
–Te¡
->
	`show
();

102 
	}
}

104 
	gB‘a_m—suršg
::
	$Ú_pushBu‰Ú_şicked
()

106 
	`şo£
();

107 
	}
}

111 
	gB‘a_m—suršg
::
	$Ú_pushBu‰Ú_3_şicked
()

117 
ušt8_t
 
iR
=
	`ušt8_t
(
ui
->
comboBox_4
->
	`cu¼’tIndex
());

118 
boŞ
 
Comp
=
ui
->
checkBox
->
	`isChecked
();

119 
Temp
=
ui
->
lšeEd™
->
	`‹xt
().
	`toDoubË
();

120 
P
=
ui
->
lšeEd™_2
->
	`‹xt
().
	`toDoubË
();

121 
CÜrF
=
ui
->
lšeEd™_3
->
	`‹xt
().
	`toDoubË
();

122 
QSŒšg
 
chamName
=
ui
->
comboBox
->
	`cu¼’tText
();

126 
b‘aChamb”
 = 
Ãw
 
	`B‘a_chamb”
(
iR
,
Comp
,
Temp
,
P
,
CÜrF
,
chamName
);

127 
	`cÚÃù
(
this
,&
B‘a_m—suršg
::
£ndToComSig
,
b‘aChamb”
,&
B‘a_chamb”
::
£tVŞgeSlÙ
);

130 
B‘a_v”ify
* 
b‘aV”
 = 
Ãw
 
	`B‘a_v”ify
(
this
);

131 
b‘aV”
->
	`g‘B‘aChamb”
(
b‘aChamb”
);

132 
b‘aV”
->
	`show
();

134 
b‘aV”
->
	`£tMod®
(
Œue
);

138 
QSŒšg
 
¡r
=
chamName
;

139 
x
=
¡r
.
	`šdexOf
(" ");

140 
chamName
=
¡r
.
	`Ëá
(
x
);

141 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

143 
QSqlD©aba£
 
db
 = QSqlD©aba£::
	`d©aba£
("myDB");

144 
db
.
	`£tD©aba£Name
("config.db");

145 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

146 
QSqlQu”y
 
	`qu”y
(
db
);

147 
QSŒšg
 
qSŒ
 = "SELECT * FROM betaChambers WHERE‚ame='%1'";

148 
QSŒšg
 
qSŒ1
 = 
qSŒ
.
	`¬g
(
chamName
);

149 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"unableƒxecute query SELECT FROM betaChambers WHERE‚ame='%1";}

150 if(
qu”y
.
	`fœ¡
())

152 
vŞge
 = 
qu”y
.
	`v®ue
("vŞge").
	`toIÁ
();

154 
qSŒ
 = "SELECT * FROM betaChambers WHERE‚ame='%1'";

155 
db
.
	`şo£
();

158 
QBy‹A¼ay
 
by‹VŞt
;

159 
vŞtHex
 
vŞthex
;

160 
by‹VŞt
=
vŞthex
.
	`štVŞt
(
vŞge
);

163 
em™
 
	`£ndToComSig
(
by‹VŞt
);

165 
	}
}

167 
	gB‘a_m—suršg
::
	$Ú_pushBu‰Ú_2_şicked
()

169 
ušt8_t
 
iR
=
	`ušt8_t
(
ui
->
comboBox_4
->
	`cu¼’tIndex
());

170 
boŞ
 
Comp
=
ui
->
checkBox
->
	`isChecked
();

171 
Temp
=
ui
->
lšeEd™
->
	`‹xt
().
	`toDoubË
();

172 
P
=
ui
->
lšeEd™_2
->
	`‹xt
().
	`toDoubË
();

173 
CÜrF
=
ui
->
lšeEd™_3
->
	`‹xt
().
	`toDoubË
();

174 
QSŒšg
 
chamName
=
ui
->
comboBox
->
	`cu¼’tText
();

179 
b‘aChamb”
 = 
Ãw
 
	`B‘a_chamb”
(
iR
,
Comp
,
Temp
,
P
,
CÜrF
,
chamName
);

180 
	`cÚÃù
(
this
,&
B‘a_m—suršg
::
£ndToComSig
,
b‘aChamb”
,&
B‘a_chamb”
::
£tVŞgeSlÙ
);

183 
QSŒšg
 
Dim’siÚ
=
ui
->
comboBox_3
->
	`cu¼’tText
();

184 cÚ¡ 
Dim’siÚFÜTime
=
ui
->
comboBox_3
->
	`cu¼’tIndex
();

185 
boŞ
 
Regim
=
ui
->
comboBox_2
->
	`cu¼’tIndex
();

186 cÚ¡ 
ušt
 
TimesAutom©ic
=
ui
->
lšeEd™_6
->
	`‹xt
().
	`toUIÁ
();

187 cÚ¡ 
ušt
 
TimeAutom©ic
=
ui
->
lšeEd™_7
->
	`‹xt
().
	`toUIÁ
();

189 
ušt8_t
 
Th»ashŞd
=0;

190 if(
ui
->
¿dioBu‰Ú
->
	`isChecked
())

191 { 
Th»ashŞd
=0; }

192 if(
ui
->
¿dioBu‰Ú_2
->
	`isChecked
())

193 { 
Th»ashŞd
=1; }

194 if(
ui
->
¿dioBu‰Ú_3
->
	`isChecked
())

195 { 
Th»ashŞd
=2; }

197 cÚ¡ 
ušt
 
TimeTh»ashŞd
 = 
ui
->
lšeEd™_4
->
	`‹xt
().
	`toUIÁ
();

199 
QSŒšg
 
¡r
=
ui
->
lšeEd™_5
->
	`‹xt
();

200 
¡r
.
	`»¶aû
(",",".");

201 cÚ¡ 
Do£Th»ashŞd
=
¡r
.
	`toDoubË
();

204 
B‘a_m—suršg_m—su»
* 
b‘aMesMes
 = 
Ãw
 
	`B‘a_m—suršg_m—su»
(
this
,
Dim’siÚ
,
Dim’siÚFÜTime
,
Regim
,

205 
TimesAutom©ic
,
TimeAutom©ic
,
Th»ashŞd
,

206 
TimeTh»ashŞd
,
Do£Th»ashŞd
);

208 
b‘aMesMes
->
	`£tMod®
(
Œue
);

209 
b‘aMesMes
->
	`B‘a
(
b‘aChamb”
);

210 
b‘aMesMes
->
	`show
();

214 
¡r
=
chamName
;

215 
x
=
¡r
.
	`šdexOf
(" ");

216 
chamName
=
¡r
.
	`Ëá
(
x
);

217 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

219 
QSqlD©aba£
 
db
 = QSqlD©aba£::
	`d©aba£
("myDB");

220 
db
.
	`£tD©aba£Name
("config.db");

221 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

222 
QSqlQu”y
 
	`qu”y
(
db
);

223 
QSŒšg
 
qSŒ
 = "SELECT * FROM betaChambers WHERE‚ame='%1'";

224 
QSŒšg
 
qSŒ1
 = 
qSŒ
.
	`¬g
(
chamName
);

225 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"unableƒxecute query SELECT FROM betaChambers WHERE‚ame='%1";}

226 if(
qu”y
.
	`fœ¡
())

228 
vŞge
 = 
qu”y
.
	`v®ue
("vŞge").
	`toIÁ
();

230 
db
.
	`şo£
();

233 
QBy‹A¼ay
 
by‹VŞt
;

234 
vŞtHex
 
vŞthex
;

236 
by‹VŞt
=
vŞthex
.
	`štVŞt
(
vŞge
);

239 
em™
 
	`£ndToComSig
(
by‹VŞt
);

240 
	}
}

245 
	gB‘a_m—suršg
::
	$Ú_lšeEd™_2_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
)

247 cÚ¡ 
QSŒšg
 
¡r
=
¬g1
;

248 cÚ¡ 
P
=
¬g1
.
	`toDoubË
();

249 cÚ¡ 
mm_š_Pa
=
P
*133.32;

250 
ui
->
Ïb–_13
->
	`£tText
(
QSŒšg
::
	`numb”
(
mm_š_Pa
,'f',0));

251 
	}
}

253 
	gB‘a_m—suršg
::
	$Ú_comboBox_2_cu¼’tIndexChªged
(
šdex
)

255 if(
šdex
==0)

257 
ui
->
lšeEd™_6
->
	`£tEÇbËd
(
çl£
);

258 
ui
->
lšeEd™_6
->
	`£tVisibË
(
çl£
);

259 
ui
->
lšeEd™_7
->
	`£tEÇbËd
(
çl£
);

260 
ui
->
lšeEd™_7
->
	`£tVisibË
(
çl£
);

261 
ui
->
Ïb–_7
->
	`£tVisibË
(
çl£
);

262 
ui
->
Ïb–_11
->
	`£tVisibË
(
çl£
);

264 
ui
->
¿dioBu‰Ú
->
	`£tChecked
(
Œue
);

265 
ui
->
¿dioBu‰Ú_2
->
	`£tEÇbËd
(
Œue
);

266 
ui
->
¿dioBu‰Ú_3
->
	`£tEÇbËd
(
Œue
);

269 if(
šdex
==1)

271 
ui
->
lšeEd™_6
->
	`£tEÇbËd
(
Œue
);

272 
ui
->
lšeEd™_6
->
	`£tVisibË
(
Œue
);

273 
ui
->
lšeEd™_7
->
	`£tEÇbËd
(
Œue
);

274 
ui
->
lšeEd™_7
->
	`£tVisibË
(
Œue
);

275 
ui
->
Ïb–_7
->
	`£tVisibË
(
Œue
);

276 
ui
->
Ïb–_11
->
	`£tVisibË
(
Œue
);

277 
ui
->
¿dioBu‰Ú
->
	`£tChecked
(
Œue
);

278 
ui
->
¿dioBu‰Ú_2
->
	`£tEÇbËd
(
çl£
);

279 
ui
->
¿dioBu‰Ú_3
->
	`£tEÇbËd
(
çl£
);

280 
ui
->
lšeEd™_4
->
	`£tVisibË
(
çl£
);

281 
ui
->
lšeEd™_5
->
	`£tVisibË
(
çl£
);

283 
	}
}

285 
	gB‘a_m—suršg
::
	$Ú_¿dioBu‰Ú_2_şicked
()

287 
ui
->
lšeEd™_4
->
	`£tEÇbËd
(
Œue
);

288 
ui
->
lšeEd™_4
->
	`£tVisibË
(
Œue
);

289 
ui
->
lšeEd™_5
->
	`£tEÇbËd
(
çl£
);

290 
ui
->
lšeEd™_5
->
	`£tVisibË
(
çl£
);

291 
	}
}

293 
	gB‘a_m—suršg
::
	$Ú_¿dioBu‰Ú_3_şicked
()

295 
ui
->
lšeEd™_4
->
	`£tEÇbËd
(
çl£
);

296 
ui
->
lšeEd™_4
->
	`£tVisibË
(
çl£
);

297 
ui
->
lšeEd™_5
->
	`£tEÇbËd
(
Œue
);

298 
ui
->
lšeEd™_5
->
	`£tVisibË
(
Œue
);

299 
	}
}

301 
	gB‘a_m—suršg
::
	$Ú_¿dioBu‰Ú_şicked
()

303 
ui
->
lšeEd™_4
->
	`£tEÇbËd
(
çl£
);

304 
ui
->
lšeEd™_4
->
	`£tVisibË
(
çl£
);

305 
ui
->
lšeEd™_5
->
	`£tEÇbËd
(
çl£
);

306 
ui
->
lšeEd™_5
->
	`£tVisibË
(
çl£
);

307 
	}
}

310 
	gB‘a_m—suršg
::
	$‹¡FauÉ
()

312 
	`şo£
();

313 
	}
}

315 
	gB‘a_m—suršg
::
	$Ú_pushBu‰Ú_4_şicked
()

317 
QSŒšg
 
chamb”Name
 = 
ui
->
comboBox
->
	`cu¼’tText
();

318 
x
=
chamb”Name
.
	`šdexOf
(" ");

319 
chamb”Name
=chamb”Name.
	`Ëá
(
x
);

320 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

322 
QSqlD©aba£
 
db
 = QSqlD©aba£::
	`d©aba£
("myDB");

323 
db
.
	`£tD©aba£Name
("config.db");

324 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

325 
QSqlQu”y
 
	`qu”y
(
db
);

326 
QSŒšg
 
qSŒ
 = "SELECT * FROM betaChambers WHERE‚ame='%1'";

327 
QSŒšg
 
qSŒ1
 = 
qSŒ
.
	`¬g
(
chamb”Name
);

328 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"unableƒxecute query SELECT FROM betaChambers WHERE‚ame='%1";}

329 if(
qu”y
.
	`fœ¡
())

331 
vŞge
 = 
qu”y
.
	`v®ue
("vŞge").
	`toIÁ
();

333 
db
.
	`şo£
();

335 
chambComp
 = 
Ãw
 
	`Chamb”Com³n§tiÚ
(
this
,
vŞge
);

336 
	`cÚÃù
(
chambComp
,&
Chamb”Com³n§tiÚ
::
com³n§tiÚFÏgSig
,
this
,&
B‘a_m—suršg
::
com³n§tiÚFÏgSlÙ
);

337 
chambComp
->
	`£tMod®
(
Œue
);

338 
chambComp
->
	`show
();

339 
	}
}

341 
	gB‘a_m—suršg
::
	$Ú_comboBox_cu¼’tIndexChªged
(
šdex
)

343 
com³n§tiÚ
=
çl£
;

344 if(
šdex
==0){};

345 
	}
}

347 
	gB‘a_m—suršg
::
	$com³n§tiÚFÏgSlÙ
()

349 
com³n§tiÚ
=
Œue
;

350 
	}
}

352 
	gB‘a_m—suršg
::
	$Ú_checkBox_şicked
()

354 if(
com³n§tiÚ
)

356 if(
ui
->
checkBox
->
	`isChecked
())

358 
ui
->
checkBox
->
	`£tChecked
(
Œue
);

360 
ui
->
checkBox
->
	`£tChecked
(
çl£
);

364 
ui
->
checkBox
->
	`£tChecked
(
çl£
);

365 
QMes§geBox
::
	`w¬nšg
(
this
, "ĞÑˆĞ¸Ğ±ĞºĞ°","ĞĞµ Ğ±Ñ‹Ğ»Ğ° Ğ¿Ñ€Ğ¾Ğ²ĞµĞ´ĞµĞ½Ğ° ĞºĞ¾Ğ¼Ğ¿ĞµĞ½ÑĞ°Ñ†Ğ¸Ñ");

367 
	}
}

	@beta_measuring.h

1 #iâdeà
BETA_MEASURING_H


2 
	#BETA_MEASURING_H


	)

4 
	~"b‘a_v”ify.h
"

5 
	~"b‘a_m—suršg_m—su».h
"

6 
	~"·sswÜd.h
"

7 
	~"emuËËùrom‘”.h
"

8 
	~"av”ag—dc.h
"

9 
	~"b‘a_chamb”.h
"

10 
	~"–eùrom‘”_‹¡.h
"

11 
	~"vŞthex.h
"

12 
	~"chamb”com³n§tiÚ.h
"

14 
	~<QDŸlog
>

16 
	~<QMes§geBox
>

18 
Çme¥aû
 
	gUi
 {

19 
şass
 
	gB‘a_m—suršg
;

22 şas 
	cB‘a_m—suršg
 : 
public
 
QDŸlog


24 
Q_OBJECT


26 
public
:

27 
ex¶ic™
 
B‘a_m—suršg
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
);

28 ~
B‘a_m—suršg
();

30 
	msigÇls
:

31 
£ndToComSig
(cÚ¡ 
QBy‹A¼ay
 &);

33 
public
 
	m¦Ùs
:

34 
‹¡FauÉ
();

35 
com³n§tiÚFÏgSlÙ
();

37 
´iv©e
 
	m¦Ùs
:

38 
Ú_pushBu‰Ú_şicked
();

40 
Ú_pushBu‰Ú_3_şicked
();

42 
Ú_pushBu‰Ú_2_şicked
();

44 
Ú_lšeEd™_2_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
);

46 
Ú_comboBox_2_cu¼’tIndexChªged
(
šdex
);

48 
Ú_¿dioBu‰Ú_2_şicked
();

50 
Ú_¿dioBu‰Ú_3_şicked
();

52 
Ú_¿dioBu‰Ú_şicked
();

54 
Ú_pushBu‰Ú_4_şicked
();

56 
Ú_comboBox_cu¼’tIndexChªged
(
šdex
);

58 
Ú_checkBox_şicked
();

60 
	m´iv©e
:

61 
Ui
::
B‘a_m—suršg
 *
ui
;

63 
B‘a_chamb”
* 
	mb‘aChamb”
{
	mnuÎ±r
};

64 
EËùrom‘”_‹¡
* 
	g–Te¡
{
	gnuÎ±r
};

65 
Chamb”Com³n§tiÚ
* 
	gchambComp
{
	gnuÎ±r
};

66 
š™
();

68 
	gvŞge
{0};

69 
boŞ
 
	gcom³n§tiÚ
{
	gçl£
};

	@beta_measuring_measure.cpp

3 
	~"b‘a_m—suršg_m—su».h
"

4 
	~"ui_b‘a_m—suršg_m—su».h
"

5 
	~<QTh»ad
>

7 
	gB‘a_m—suršg_m—su»
::
	$B‘a_m—suršg_m—su»
(
QWidg‘
 *
·»Á
, cÚ¡ 
QSŒšg
 
dim’siÚ
, cÚ¡ 
dim’siÚFÜTime
,

8 
boŞ
 
»gime
, cÚ¡ 
ušt
 
timesAutom©ic
,

9 cÚ¡ 
ušt
 
timeAutom©ic
, cÚ¡ 
ušt8_t
 
th»ashŞd
,

10 cÚ¡ 
ušt
 
timeTh»ashŞd
, cÚ¡ 
do£Th»ashŞd
)

12 
	`QDŸlog
(
·»Á
),

13 
	`Ab¡¿ù_m—su»m’t_m—su»m’t
(
dim’siÚ
, 
dim’siÚFÜTime
,
»gime
,

14 
timesAutom©ic
, 
timeAutom©ic
,

15 
th»ashŞd
, 
timeTh»ashŞd
, 
do£Th»ashŞd
),

16 
	$ui
(
Ãw
 
Ui
::
B‘a_m—suršg_m—su»
)

19 
ui
->
	`£tupUi
(
this
);

20 
	`š™
();

21 
	}
}

23 
	gB‘a_m—suršg_m—su»
::~
	$B‘a_m—suršg_m—su»
()

25 
	`qDebug
()<<"~Beta_measuring_measure()";

26 
d–‘e
 
tim”
;

27 
d–‘e
 
b‘a
;

28 
d–‘e
 
ui
;

30 
d–‘e
 
tim”Msg
;

31 
	}
}

33 
	gB‘a_m—suršg_m—su»
::
	$š™
()

35 
this
->
	`£tA‰ribu‹
(
Qt
::
WA_D–‘eOnClo£
);

36 
	`£tWšdowT™Ë
("Ğ˜Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ³Ğ»Ğ¾Ñ‰ĞµĞ½Ğ½Ğ¾Ğ¹ Ğ´Ğ¾Ğ·Ñ‹ Ğ±ĞµÑ‚Ğ° Ğ¸Ğ·Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ");

37 
ui
->
Ïb–_22
->
	`£tStyËSh“t
("font-size:100px; color:„ed;");

38 
ui
->
Ïb–_25
->
	`£tStyËSh“t
("font-size:100px; color:„ed;");

39 
ui
->
Ïb–_21
->
	`£tStyËSh“t
("font-size:50px; color: yellow;");

40 
ui
->
Ïb–_3
->
	`£tStyËSh“t
("font-size:50px; color: cyan;");

42 
ui
->
Ïb–_11
->
	`£tStyËSh“t
("font-size:20px; color: yellow;");

43 
v®ue
="ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ Ğ¿Ğ¾Ğ³Ğ»Ğ¾Ñ‰ĞµĞ½Ğ½Ğ¾Ğ¹ Ğ´Ğ¾Ğ·Ñ‹";

44 
š‹g¿lV®ue
="ĞŸĞ¾Ğ³Ğ»Ğ¾Ñ‰ĞµĞ½Ğ½Ğ°Ñ Ğ´Ğ¾Ğ·Ğ°";

45 
ui
->
Ïb–
->
	`£tText
(
v®ue
);

46 
ui
->
Ïb–_6
->
	`£tText
(
š‹g¿lV®ue
);

48 
tim”
=
Ãw
 
	`QTim”
(
this
);

49 
	`cÚÃù
(
tim”
,&
QTim”
::
timeout
,
this
,&
B‘a_m—suršg_m—su»
::
timeOut
);

50 
tim”S¹
=
Ãw
 
	`QTim”
(
this
);

51 
	`cÚÃù
(
tim”S¹
,&
QTim”
::
timeout
,
this
,&
B‘a_m—suršg_m—su»
::
¡¬tTimeOut
);

53 if(
Regime
==
Œue
&&
TimeAutom©ic
!=0&&
TimesAutom©ic
!=0)

55 
ui
->
Ïb–_11
->
	`£tText
("ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹");

56 
ui
->
Ïb–_12
->
	`£tText
("ĞĞ¾Ğ¼ĞµÑ€");

57 
ui
->
Ïb–_13
->
	`£tText
("0");

58 
ui
->
Ïb–_14
->
	`£tText
("Ğ¸Ğ·");

59 
ui
->
Ïb–_15
->
	`£tText
(
QSŒšg
::
	`numb”
(
TimesAutom©ic
));

60 
ui
->
Ïb–_16
->
	`£tText
("Ğ²Ñ€ĞµĞ¼Ñ");

61 
ui
->
Ïb–_17
->
	`£tText
("0");

62 
ui
->
Ïb–_18
->
	`£tText
("Ğ¿Ğ¾Ñ€Ğ¾Ğ³ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸");

63 
ui
->
Ïb–_19
->
	`£tText
(
QSŒšg
::
	`numb”
(
TimeAutom©ic
));

67 
ui
->
Ïb–_11
->
	`£tText
("Ğ ÑƒÑ‡Ğ½Ğ¾Ğ¹");

68 
ui
->
Ïb–_12
->
	`£tText
("");

69 
ui
->
Ïb–_13
->
	`£tText
("");

70 
ui
->
Ïb–_14
->
	`£tText
("");

71 
ui
->
Ïb–_15
->
	`£tText
("");

72 
ui
->
Ïb–_16
->
	`£tText
("");

73 
ui
->
Ïb–_17
->
	`£tText
("");

74 
ui
->
Ïb–_18
->
	`£tText
("");

75 
ui
->
Ïb–_19
->
	`£tText
("");

78 
QMes§geBox
* 
¡¬tMsg
 = 
Ãw
 
	`QMes§geBox
(QMes§geBox::
IcÚ
::
InfÜm©iÚ
,"","",QMes§geBox::
NoBu‰Ú
,
this
,
Qt
::
F¿m–essWšdowHšt
);

79 
¡¬tMsg
->
	`£tText
("ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ¾Ğ´Ğ¸Ñ‚ÑÑ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¾Ğ±Ğ¾Ñ€ÑƒĞ´Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ");

80 
¡¬tMsg
->
	`£tSnd¬dBu‰Ús
(0);

81 
¡¬tMsg
->
	`£tStyËSh“t
("background-color:„gb(180,178,177);");

82 
QTim”
::
	`sšgËShÙ
(4000,
¡¬tMsg
,
	`SLOT
(
	`hide
()));

83 
¡¬tMsg
->
	`exec
();

84 
d–‘e
 
¡¬tMsg
;

85 
	}
}

87 
	gB‘a_m—suršg_m—su»
::
	$B‘a
(
B‘a_chamb”
* 
x
)

89 
b‘a
=
x
;

90 
chamb”Name
=
b‘a
->
	`g‘Chamb”Name
();

108 
	}
}

111 
	gB‘a_m—suršg_m—su»
::
	$timeOut
()

116 
time
++;

117 
ui
->
Ïb–_3
->
	`£tText
(
QSŒšg
::
	`numb”
(
time
) + " c");

119 
do£R©e
 = 
b‘a
->
	`MPD
();

122 
cu¼’tDo£R©e
 = 
do£R©e
*
timeCÛf
;

123 
	`do£To4
(
cu¼’tDo£R©e
,
Dim’siÚ
,
ui
->
Ïb–_9
,ui->
Ïb–_2
);

129 
do£
+=
do£R©e
;

130 
do£FÜAuto
+=
do£R©e
;

131 
	`do£To4
(
do£
,
Dim’siÚDo£
,
ui
->
Ïb–_8
,ui->
Ïb–_7
);

135 
avDo£R©e
=(
do£FÜAuto
/
time
)*
timeCÛf
;

137 
	`do£To4
(
avDo£R©e
,
Dim’siÚ
,
ui
->
Ïb–_22
,ui->
Ïb–_25
);

138 
Ùkl
+=
do£R©e
*do£R©e*
timeCÛf
*timeCoef;

139 if(
time
>0)

141 
z
=
	`sq¹
((
Ùkl
/
time
)-
avDo£R©e
*avDoseRate);

149 
Snd¬dDevŸtiÚ
=
¡d
::
	`abs
(
z
/
avDo£R©e
);

150 
ui
->
Ïb–_20
->
	`£tText
(
QSŒšg
::
	`numb”
(
Snd¬dDevŸtiÚ
*100,'f',3)+" %");

154 if(
Regime
==
Œue
&&
TimeAutom©ic
!=0&&
TimesAutom©ic
!=0)

156 
	`autoMode
(
do£
,
tim”
,
ui
->
Ïb–_17
,ui->
Ïb–_13
);

161 
	`timeTh»ashŞd
(
time
,
ui
->
Ïb–_21
,
tim”
);

162 
	`do£Th»ashŞd
(
do£
,
ui
->
Ïb–_21
,
tim”
);

164 
	}
}

168 
	gB‘a_m—suršg_m—su»
::
	$autoModeResuÉ
(
Av”ageDo£R©e
, 
Do£R©e_devŸtiÚ_av”age
,

169 
Av”ageDo£
, 
Do£_devŸtiÚ_av”age
)

172 
autoIn™Ÿliz©iÚ
 ="Ğ‘ĞµÑ‚Ğ° Ğ¸Ğ·Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ\n" + 
chamb”Name
 +

173 "\nĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ¸Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ğ¹: "+
QSŒšg
::
	`numb”
(
TimesAutom©ic
) +

174 "\nĞ’Ñ€ĞµĞ¼Ñ Ğ¸Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ğ¹: "+
QSŒšg
::
	`numb”
(
TimeAutom©ic
)+" c";

175 
autoResuÉ
 = 
Ãw
 
	`Auto_m—su»m’t_»suÉ
(
this
,
v®ue
,
š‹g¿lV®ue
, 
autoIn™Ÿliz©iÚ
);

176 
autoResuÉ
->
	`£tMod®
(
Œue
);

177 
	`do£To4
(
Av”ageDo£R©e
,
Dim’siÚ
,
autoResuÉ
->
avDo£R©e
,autoResuÉ->
avDo£R©eDim’siÚ
);

178 
	`do£To4
(
Av”ageDo£
,
Dim’siÚDo£
,
autoResuÉ
->
avDo£
,autoResuÉ->
avDo£Dim’siÚ
);

179 
autoResuÉ
->
avDo£R©eDevŸtiÚ
->
	`£tText
(
QSŒšg
::
	`numb”
(
Do£R©e_devŸtiÚ_av”age
) +" %");

180 
autoResuÉ
->
avDo£DevŸtiÚ
->
	`£tText
(
QSŒšg
::
	`numb”
(
Do£_devŸtiÚ_av”age
) +" %");

181 
autoResuÉ
->
	`show
();

182 
	}
}

184 
	gB‘a_m—suršg_m—su»
::
	$Ú_pushBu‰Ú_şicked
()

186 
	`şo£
();

189 
	}
}

191 
	gB‘a_m—suršg_m—su»
::
	$Ú_pushBu‰Ú_2_şicked
()

193 
ui
->
pushBu‰Ú_2
->
	`£tEÇbËd
(
çl£
);

194 
ui
->
pushBu‰Ú
->
	`£tEÇbËd
(
çl£
);

195 
ui
->
pushBu‰Ú_3
->
	`£tEÇbËd
(
çl£
);

196 
ui
->
pushBu‰Ú_2
->
	`£tVisibË
(
çl£
);

197 
ui
->
pushBu‰Ú
->
	`£tVisibË
(
çl£
);

199 
tim”S¹
->
	`£tSšgËShÙ
(
Œue
);

200 
tim”S¹
->
	`¡¬t
(60000);

201 
ui
->
Ïb–_3
->
	`£tText
(
QSŒšg
::
	`numb”
(
time
));

202 
ui
->
Ïb–_21
->
	`£tText
("ĞŸĞ ĞĞ“Ğ Ğ•Ğ’!!!");

203 
	}
}

205 
	gB‘a_m—suršg_m—su»
::
	$¡¬tTimeOut
()

207 
ui
->
pushBu‰Ú_3
->
	`£tEÇbËd
(
Œue
);

208 
tim”
->
	`¡¬t
(1000);

209 
time
=0;

210 
ui
->
Ïb–_3
->
	`£tText
(
QSŒšg
::
	`numb”
(
time
));

211 
do£
=0;

212 
Ùkl
=0;

213 
do£FÜAuto
=0;

214 
ui
->
Ïb–_21
->
	`£tText
("");

215 
	}
}

218 
	gB‘a_m—suršg_m—su»
::
	$Ú_pushBu‰Ú_3_şicked
()

220 
ui
->
pushBu‰Ú_2
->
	`£tEÇbËd
(
Œue
);

221 
ui
->
pushBu‰Ú
->
	`£tEÇbËd
(
Œue
);

222 
ui
->
pushBu‰Ú_2
->
	`£tVisibË
(
Œue
);

223 
ui
->
pushBu‰Ú
->
	`£tVisibË
(
Œue
);

224 
tim”
->
	`¡İ
();

225 
	}
}

	@beta_measuring_measure.h

1 #iâdeà
BETA_MEASURING_MEASURE_H


2 
	#BETA_MEASURING_MEASURE_H


	)

4 
	~"·sswÜd.h
"

5 
	~"emuËËùrom‘”.h
"

6 
	~"b‘a_chamb”.h
"

7 
	~"auto_m—su»m’t_»suÉ.h
"

8 
	~"ab¡¿ù_m—su»m’t_m—su»m’t.h
"

10 
	~<cm©h
>

11 
	~<QDŸlog
>

12 
	~<QTim”
>

13 
	~<QLab–
>

14 
	~<QMes§geBox
>

16 
Çme¥aû
 
	gUi
 {

17 
şass
 
	gB‘a_m—suršg_m—su»
;

20 
şass
 
	gB‘a_m—suršg_m—su»
 : 
public
 
QDŸlog
,…ubliø
	gAb¡¿ù_m—su»m’t_m—su»m’t


22 
Q_OBJECT


24 
	gpublic
:

26 
ex¶ic™
 
B‘a_m—suršg_m—su»
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
,cÚ¡ 
QSŒšg
 
dim’siÚ
="",cÚ¡ 
dim’siÚFÜTime
=0,

27 
boŞ
 
»gime
=0, cÚ¡ 
ušt
 
timesAutom©ic
=0,

28 cÚ¡ 
ušt
 
timeAutom©ic
=0, cÚ¡ 
ušt8_t
 
th»ashŞd
=0,

29 cÚ¡ 
ušt
 
timeTh»ashŞd
=0, cÚ¡ 
do£Th»ashŞd
=0);

30 ~
B‘a_m—suršg_m—su»
(è
	gov”ride
;

32 
´iv©e
 
	g¦Ùs
:

33 
Ú_pushBu‰Ú_şicked
();

35 
Ú_pushBu‰Ú_2_şicked
();

37 
Ú_pushBu‰Ú_3_şicked
();

39 
timeOut
();

40 
¡¬tTimeOut
();

42 
	gpublic
:

43 
B‘a
(
B‘a_chamb”
*);

45 
	g´iv©e
:

46 
š™
();

47 
autoModeResuÉ
(,,,è
	gov”ride
;

50 
	gUi
::
B‘a_m—suršg_m—su»
 *
ui
;

51 
QTim”
 *
	gtim”
{
	gnuÎ±r
};

52 
QTim”
 *
	gtim”S¹
{
	gnuÎ±r
};

53 
QTim”
* 
	gtim”Msg
{
	gnuÎ±r
};

54 
B‘a_chamb”
* 
	gb‘a
{
	gnuÎ±r
};

55 
Auto_m—su»m’t_»suÉ
* 
	gautoResuÉ
{
	gnuÎ±r
};

57 
QDŸlog
* 
	gdŸ
{
	gnuÎ±r
};

58 
ulÚg
 
	gtime
{0};

59 
	gdo£R©e
{0};

60 
	gdo£
{0};

	@beta_verify.cpp

3 
	~"b‘a_v”ify.h
"

4 
	~"ui_b‘a_v”ify.h
"

6 
	gB‘a_v”ify
::
	$B‘a_v”ify
(
QWidg‘
 *
·»Á
) :

7 
	`QDŸlog
(
·»Á
),

8 
	$ui
(
Ãw
 
Ui
::
B‘a_v”ify
)

10 
ui
->
	`£tupUi
(
this
);

11 
	`š™
();

12 
	}
}

14 
	gB‘a_v”ify
::~
	$B‘a_v”ify
()

16 
d–‘e
 
tim”
;

17 
d–‘e
 
¡¬tTim”
;

18 
d–‘e
 
b‘aChamb”
;

19 
d–‘e
 
ui
;

20 
	`qDebug
()<<"~beta verify";

21 
	}
}

23 
	gB‘a_v”ify
::
	$š™
()

25 
	`£tA‰ribu‹
(
Qt
::
WA_D–‘eOnClo£
);

26 
	`£tWšdowT™Ë
("ĞšĞ°Ğ»Ğ¸Ğ±Ñ€Ğ¾Ğ²ĞºĞ° ĞºĞ°Ğ¼ĞµÑ€ Ğ±ĞµÑ‚Ğ° Ğ¸Ğ·Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ");

27 
ui
->
comboBox
->
	`addI‹m
("Ğ“Ñ€/Ñ");

28 
ui
->
comboBox
->
	`addI‹m
("Ğ¼Ğ“Ñ€/Ñ");

29 
ui
->
comboBox
->
	`addI‹m
("Ğ“Ñ€/Ñ‡");

30 
ui
->
comboBox
->
	`addI‹m
("Ğ¼Ğ“Ñ€/Ñ‡");

31 
ui
->
Ïb–
->
	`£tStyËSh“t
("font-size:100px; color:„ed;");

32 
ui
->
Ïb–_2
->
	`£tStyËSh“t
("font-size:100px; color:„ed;");

33 
ui
->
Ïb–_3
->
	`£tStyËSh“t
("font-size:50px; color: cyan;");

35 
ui
->
lšeEd™
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->lineEdit));

37 
ui
->
lšeEd™_2
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->lineEdit_2));

39 
tim”
 = 
Ãw
 
	`QTim”
(
this
);

40 
	`cÚÃù
(
tim”
,&
QTim”
::
timeout
,
this
,&
B‘a_v”ify
::
timeOut
);

41 
¡¬tTim”
 = 
Ãw
 
	`QTim”
(
this
);

42 
	`cÚÃù
(
¡¬tTim”
,&
QTim”
::
timeout
,
this
,&
B‘a_v”ify
::
¡¬tTimeOut
);

45 
QMes§geBox
* 
¡¬tMsg
 = 
Ãw
 
	`QMes§geBox
(QMes§geBox::
IcÚ
::
InfÜm©iÚ
,"","",QMes§geBox::
NoBu‰Ú
,
this
,
Qt
::
F¿m–essWšdowHšt
);

46 
¡¬tMsg
->
	`£tText
("ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ¾Ğ´Ğ¸Ñ‚ÑÑ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¾Ğ±Ğ¾Ñ€ÑƒĞ´Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ");

47 
¡¬tMsg
->
	`£tSnd¬dBu‰Ús
(0);

48 
¡¬tMsg
->
	`£tStyËSh“t
("background-color:„gb(180,178,177);");

49 
QTim”
::
	`sšgËShÙ
(4000,
¡¬tMsg
,
	`SLOT
(
	`hide
()));

50 
¡¬tMsg
->
	`exec
();

51 
d–‘e
 
¡¬tMsg
;

52 
	}
}

54 
	gB‘a_v”ify
::
	$g‘B‘aChamb”
(
B‘a_chamb”
 *
b‘a
)

56 
b‘aChamb”
 = 
b‘a
;

57 
chamb”Name
 = 
b‘aChamb”
->
	`g‘Chamb”Name
();

58 
ui
->
Ïb–_5
->
	`£tText
(
chamb”Name
);

59 
QMes§geBox
::
	`šfÜm©iÚ
(
this
,"Ğ’Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ","Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚Ğ¸ ĞŸĞ¾Ğ³Ğ»Ğ¾Ñ‰ĞµĞ½Ğ½Ğ¾Ğ¹ Ğ”Ğ¾Ğ·Ñ‹\n"

62 " ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ¾Ğµ Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ Ğ·Ğ°Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒ",
QMes§geBox
::
Ok
);

63 
	}
}

65 
	gB‘a_v”ify
::
	$timeOut
()

70 
time
++;

71 
ui
->
Ïb–_3
->
	`£tText
(
QSŒšg
::
	`numb”
(
time
) + " c");

73 
I
 = 
b‘aChamb”
->
	`g‘I»s
();

77 
Isum
+=
I
;

78 
avI
=(
Isum
/
time
);

80 
ui
->
Ïb–
->
	`£tText
(
QSŒšg
::
	`numb”
(
avI
,'E'));

81 
Ùkl
+=
I
*I;

82 if(
time
>0)

84 
z
=
	`sq¹
((
Ùkl
/
time
)-
avI
*avI);

92 
Snd¬dDevŸtiÚ
=
¡d
::
	`abs
(
z
/
avI
);

93 
ui
->
Ïb–_4
->
	`£tText
(
QSŒšg
::
	`numb”
(
Snd¬dDevŸtiÚ
*100,'f',3)+" %");

95 
	}
}

97 
	gB‘a_v”ify
::
	$¡¬tTimeOut
()

99 
ui
->
pushBu‰Ú_3
->
	`£tEÇbËd
(
Œue
);

100 
tim”
->
	`¡¬t
(1000);

101 
	}
}

103 
	gB‘a_v”ify
::
	$Ú_pushBu‰Ú_2_şicked
()

105 
ui
->
pushBu‰Ú_2
->
	`£tEÇbËd
(
çl£
);

106 
ui
->
pushBu‰Ú
->
	`£tEÇbËd
(
çl£
);

107 
ui
->
pushBu‰Ú_2
->
	`£tVisibË
(
çl£
);

108 
ui
->
pushBu‰Ú
->
	`£tVisibË
(
çl£
);

109 
ui
->
pushBu‰Ú_3
->
	`£tEÇbËd
(
çl£
);

112 
¡¬tTim”
->
	`£tSšgËShÙ
(
Œue
);

113 
¡¬tTim”
->
	`¡¬t
(60000);

114 
Isum
=0;

115 
time
=0;

116 
Ùkl
=0;

117 
ui
->
Ïb–_3
->
	`£tText
("ĞŸĞ ĞĞ“Ğ Ğ•Ğ’!");

118 
	}
}

120 
	gB‘a_v”ify
::
	$Ú_pushBu‰Ú_3_şicked
()

122 
ui
->
pushBu‰Ú_2
->
	`£tEÇbËd
(
Œue
);

123 
ui
->
pushBu‰Ú
->
	`£tEÇbËd
(
Œue
);

124 
ui
->
pushBu‰Ú_2
->
	`£tVisibË
(
Œue
);

125 
ui
->
pushBu‰Ú
->
	`£tVisibË
(
Œue
);

126 
tim”
->
	`¡İ
();

127 if(
ui
->
Ïb–
->
	`‹xt
()=="Ğ¢Ğ¾Ğº"||ui->
lšeEd™
->‹xt()==""){ui->
lšeEd™_2
->
	`£tText
("");}

130 
I
 = 
avI
;

131 
QSŒšg
 
¡r
=
ui
->
lšeEd™
->
	`‹xt
();

132 
¡r
.
	`»¶aû
(",",".");

133 
do£R©e
 = 
¡r
.
	`toDoubË
();

135 
£ns
=0;

136 
ui
->
comboBox
->
	`cu¼’tIndex
())

138 0: 
£ns
=
¡d
::
	`abs
(
do£R©e
/
I
);;

139 1: 
£ns
=
¡d
::
	`abs
((1/(1E3))*
do£R©e
/
I
);;

140 2: 
£ns
=
¡d
::
	`abs
((1/(3.6E3))*
do£R©e
/
I
);;

141 3: 
£ns
=
¡d
::
	`abs
((1/(3.6E6))*
do£R©e
/
I
);;

145 
QSŒšg
 
£nsib™y
 = QSŒšg::
	`numb”
(
£ns
);

146 
ui
->
lšeEd™_2
->
	`£tText
(
£nsib™y
);

148 
	}
}

150 
	gB‘a_v”ify
::
	$Ú_pushBu‰Ú_4_şicked
()

152 ià(
ui
->
lšeEd™_2
->
	`‹xt
()==""){
QMes§geBox
::
	`w¬nšg
(
this
,"Ğ’Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ","ĞĞµ Ğ·Ğ°Ğ´Ğ°Ğ½Ğ¾ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ",QMes§geBox::
Ok
);}

155 
QSŒšg
 
£nsib™y
 = 
ui
->
lšeEd™_2
->
	`‹xt
();

156 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

158 
QSqlD©aba£
 
db
 = QSqlD©aba£::
	`d©aba£
("myDB");

159 
db
.
	`£tD©aba£Name
("config.db");

160 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

161 
QSqlQu”y
 
	`qu”y
(
db
);

162 
QSŒšg
 
qSŒ
="UPDATE betaChambers SET sensibility='%1' WHERE‚ame='%2'";

163 
QSŒšg
 
qSŒ1
=
qSŒ
.
	`¬g
(
ui
->
lšeEd™_2
->
	`‹xt
()).¬g(
chamb”Name
);

164 
	`qDebug
()<<
chamb”Name
;

165 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y UPDATE b‘aChamb”s";
db
.
	`Ï¡E¼Ü
().
	`‹xt
();}

166 
db
.
	`şo£
();

168 
QMes§geBox
::
	`w¬nšg
(
this
,"Ğ’Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ","Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ Ñ‡ÑƒĞ²ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸ Ğ±Ñ‹Ğ»Ğ¾ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¾",QMes§geBox::
Ok
);

170 
	}
}

172 
	gB‘a_v”ify
::
	$Ú_pushBu‰Ú_şicked
()

175 
	`şo£
();

176 
	}
}

	@beta_verify.h

1 #iâdeà
BETA_VERIFY_H


2 
	#BETA_VERIFY_H


	)

4 
	~"b‘a_chamb”.h
"

6 
	~<cm©h
>

7 
	~<QDŸlog
>

8 
	~<QTim”
>

9 
	~<QMes§geBox
>

12 
Çme¥aû
 
	gUi
 {

13 
şass
 
	gB‘a_v”ify
;

16 şas 
	cB‘a_v”ify
 : 
public
 
QDŸlog


18 
Q_OBJECT


20 
public
:

21 
ex¶ic™
 
B‘a_v”ify
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
);

22 ~
B‘a_v”ify
();

24 
g‘B‘aChamb”
(
B‘a_chamb”
* 
b‘a
);

26 
´iv©e
 
	m¦Ùs
:

27 
timeOut
();

28 
¡¬tTimeOut
();

29 
Ú_pushBu‰Ú_şicked
();

31 
Ú_pushBu‰Ú_2_şicked
();

33 
Ú_pushBu‰Ú_3_şicked
();

35 
Ú_pushBu‰Ú_4_şicked
();

37 
	m´iv©e
:

38 
Ui
::
B‘a_v”ify
 *
ui
;

39 
B‘a_chamb”
* 
	mb‘aChamb”
{
	mnuÎ±r
};

40 
QTim”
* 
	gtim”
{
	gnuÎ±r
};

41 
QTim”
* 
	g¡¬tTim”
{
	gnuÎ±r
};

43 
š™
();

45 
	gtime
{0};

46 
	gI
{0};

47 
	gIsum
{0};

48 
	gavI
{0};

49 
	gÙkl
{0};

50 
	gSnd¬dDevŸtiÚ
{0};

51 
QSŒšg
 
	gchamb”Name
{""};

	@block_bdg.cpp

1 
	~"block_bdg.h
"

3 
	gBlock_BDG
::
	$Block_BDG
(
‹mp
,
p
, 
cÜrF
, 
QSŒšg
 
Çme
, 
qušt8
 
me¥¬am
):

4 
	`Iblock
(
‹mp
, 
p
, 
cÜrF
),
	`blockName
(
Çme
),
	$mesP¬am
(
me¥¬am
)

6 
	`š™
();

7 
	}
}

8 
	gBlock_BDG
::~
	$Block_BDG
()

11 
	}
}

13 
Block_BDG
::
	$š™
()

15 
QSŒšg
 
¡r
 = 
blockName
;

16 
x
=
¡r
.
	`šdexOf
(" ");

17 
blockName
=
¡r
.
	`Ëá
(
x
);

18 
MAED
=0;

19 
MNED
=0;

20 
MIED
=0;

21 
KERMA
=0;

22 
MPD
=0;

23 
MED
=0;

24 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

26 
QSqlD©aba£
 
db
 = QSqlD©aba£::
	`d©aba£
("myDB");

27 
db
.
	`£tD©aba£Name
("config.db");

28 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

29 
QSqlQu”y
 
	`qu”y
(
db
);

30 
QSŒšg
 
qSŒ
="SELECT *FROM gammaBlock WHERE‚uclide='%1'";

31 
QSŒšg
 
qSŒ1
=
qSŒ
.
	`¬g
(
blockName
);

32 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"unableƒxecute query SELECT sensibility FROM gammaBlock WHERE‚uclide='%1'";}

33 ià(
qu”y
.
	`fœ¡
())

35 
MAED
=
qu”y
.
	`v®ue
("£nsib™yMAED").
	`toFlßt
();

36 
MNED
=
qu”y
.
	`v®ue
("£nsib™yMNED").
	`toFlßt
();

37 
MIED
=
qu”y
.
	`v®ue
("£nsib™yMIED").
	`toFlßt
();

38 
KERMA
=
qu”y
.
	`v®ue
("£nsib™yKERMA").
	`toFlßt
();

39 
MPD
=
qu”y
.
	`v®ue
("£nsib™yMPD").
	`toFlßt
();

40 
MED
=
qu”y
.
	`v®ue
("£nsib™yMED").
	`toFlßt
();

43 
db
.
	`şo£
();

45 
mesP¬am
)

47 0: 
£nsCu¼
=
MAED
; ;

48 1: 
£nsCu¼
=
MNED
; ;

49 2: 
£nsCu¼
=
MIED
; ;

50 3: 
£nsCu¼
=
KERMA
; ;

51 4: 
£nsCu¼
=
MPD
; ;

52 5: 
£nsCu¼
=
MED
; ;

55 
	}
}

57 
	gBlock_BDG
::
	$do£R©eCouÁ
()

59 
do£R©e
=
IblockCR_Res
/
£nsCu¼
;

60 
	}
}

61 
	gBlock_BDG
::
	$do£R©eCouÁGamma
()

63 
do£R©e
=
IblockCR_ResGamma
/
£nsCu¼
;

64 
	}
}

66 
QSŒšg
 
	gBlock_BDG
::
	$g‘BlockName
()

68  
blockName
;

69 
	}
}

71 
	gBlock_BDG
::
	$g‘Do£R©e
()

73 
	`do£R©eCouÁ
();

74  
do£R©e
;

75 
	}
}

76 
	gBlock_BDG
::
	$g‘Do£R©eGamma
()

78 
	`do£R©eCouÁGamma
();

79  
do£R©e
;

80 
	}
}

82 
qušt8
 
	gBlock_BDG
::
	$g‘MesP¬am
()

84  
mesP¬am
;

85 
	}
}

	@block_bdg.h

1 #iâdeà
BLOCK_BDG_H


2 
	#BLOCK_BDG_H


	)

4 
	~"iblock.h
"

8 şas 
	cBlock_BDG
 : 
public
 
Iblock


10 
public
:

11 
Block_BDG
(
‹mp
=0,
p
=0, 
cÜrF
=0, 
QSŒšg
 
Çme
="" ,
qušt8
 
me¥¬am
=0);

12 ~
Block_BDG
();

14 
QSŒšg
 
g‘BlockName
();

15 
g‘Do£R©e
();

16 
g‘Do£R©eGamma
();

17 
qušt8
 
g‘MesP¬am
();

19 
	m´iv©e
:

20 
š™
();

21 
do£R©eCouÁ
();

22 
do£R©eCouÁGamma
();

24 
QSŒšg
 
	mblockName
{""};

25 
qušt8
 
	gmesP¬am
{0};

26 
	g£nsCu¼
{0};

28 
	gdo£R©e
;

	@block_bdkn.cpp

1 
	~"block_bdkn.h
"

3 
	gBlock_BDKN
::
	$Block_BDKN
(
‹mp
,
p
, 
cÜrF
,

4 
QSŒšg
 
Çme
,
qušt8
 
me¥¬am
, qušt8 
dŸµ¬am
):

5 
	`Iblock
(
‹mp
, 
p
,
cÜrF
),
	`blockName
(
Çme
),
	`mesP¬am
(
me¥¬am
),
	$dŸpP¬am
(
dŸµ¬am
)

7 
	`š™
();

8 
	}
}

10 
	gBlock_BDKN
::~
	$Block_BDKN
()

12 
	`qDebug
()<<"~Block_BDKN()";

13 
	}
}

15 
	gBlock_BDKN
::
	$š™
()

17 
QSŒšg
 
¡r
 = 
blockName
;

18 
x
=
¡r
.
	`šdexOf
(" ");

19 
blockName
=
¡r
.
	`Ëá
(
x
);

20 
PP1
=0;

21 
PP2
=0;

22 
MPD1
=0;

23 
MPD2
=0;

24 
MAED1
=0;

25 
MAED2
=0;

26 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

28 
QSqlD©aba£
 
db
 = QSqlD©aba£::
	`d©aba£
("myDB");

29 
db
.
	`£tD©aba£Name
("config.db");

30 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

31 
QSqlQu”y
 
	`qu”y
(
db
);

32 
QSŒšg
 
qSŒ
="SELECT *FROM‚eutronBlocks WHERE‚ame='%1'";

33 
QSŒšg
 
qSŒ1
=
qSŒ
.
	`¬g
(
blockName
);

34 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"unableƒxecute query SELECT sensibility FROM‚eutronBlocks WHERE‚ame='%1'";}

35 ià(
qu”y
.
	`fœ¡
())

37 
PP1
=
qu”y
.
	`v®ue
("£nsib™yPPw™houtCd").
	`toFlßt
();

38 
PP2
=
qu”y
.
	`v®ue
("£nsib™yPPw™hCd").
	`toFlßt
();

39 
MPD1
=
qu”y
.
	`v®ue
("£nsib™yMPDw™houtCd").
	`toFlßt
();

40 
MPD2
=
qu”y
.
	`v®ue
("£nsib™yMPDw™hCd").
	`toFlßt
();

41 
MAED1
=
qu”y
.
	`v®ue
("£nsib™yMAEDw™houtCd").
	`toFlßt
();

42 
MAED2
=
qu”y
.
	`v®ue
("£nsib™yMAEDw™hCd").
	`toFlßt
();

45 
db
.
	`şo£
();

47 
mesP¬am
)

50 if(
dŸpP¬am
==0)

52 
£nsCu¼
=
PP1
;

54 if(
dŸpP¬am
==1)

56 
£nsCu¼
=
PP2
;

60 if(
dŸpP¬am
==0)

62 
£nsCu¼
=
MPD1
;

64 if(
dŸpP¬am
==1)

66 
£nsCu¼
=
MPD2
;

70 if(
dŸpP¬am
==0)

72 
£nsCu¼
=
MAED1
;

74 if(
dŸpP¬am
==1)

76 
£nsCu¼
=
MAED2
;

81 
	}
}

83 
	gBlock_BDKN
::
	$do£R©eCouÁ
()

85 
do£R©e
=
IblockCR_Res
/
£nsCu¼
;

87 
	}
}

89 
QSŒšg
 
	gBlock_BDKN
::
	$g‘BlockName
()

91  
blockName
;

92 
	}
}

94 
	gBlock_BDKN
::
	$g‘Do£R©e
()

96 
	`do£R©eCouÁ
();

97  
do£R©e
;

99 
	}
}

101 
qušt8
 
	gBlock_BDKN
::
	$g‘MesP¬am
()

103  
mesP¬am
;

104 
	}
}

106 
qušt8
 
	gBlock_BDKN
::
	$g‘MesDŸp
()

108  
dŸpP¬am
;

109 
	}
}

	@block_bdkn.h

1 #iâdeà
BLOCK_BDKN_H


2 
	#BLOCK_BDKN_H


	)

6 
	~"iblock.h
"

10 şas 
	cBlock_BDKN
:
public
 
Iblock


12 
public
:

13 
Block_BDKN
(
‹mp
=0,
p
=0, 
cÜrF
=0,

14 
QSŒšg
 
Çme
=
nuÎ±r
 ,
qušt8
 
me¥¬am
=0, qušt8 
dŸµ¬am
=0);

15 ~
Block_BDKN
();

17 
QSŒšg
 
g‘BlockName
();

18 
g‘Do£R©e
();

19 
qušt8
 
g‘MesP¬am
();

20 
qušt8
 
g‘MesDŸp
();

22 
	m´iv©e
:

23 
š™
();

24 
do£R©eCouÁ
();

26 
QSŒšg
 
	mblockName
{""};

27 
qušt8
 
	gmesP¬am
{0};

28 
qušt8
 
	gdŸpP¬am
{0};

29 
	g£nsCu¼
{0};

30 
	gdo£R©e
;

	@cambercompensation_view.cpp

3 
	~"ÿmb”com³n§tiÚ_v›w.h
"

4 
	~"ui_ÿmb”com³n§tiÚ_v›w.h
"

6 
	gCamb”Com³n§tiÚ_v›w
::
	$Camb”Com³n§tiÚ_v›w
(
QWidg‘
 *
·»Á
,
vŞge
) :

7 
	`QDŸlog
(
·»Á
),

8 
	`ui
(
Ãw
 
Ui
::
Camb”Com³n§tiÚ_v›w
), 
	$vŞge
(
vŞge
)

10 
ui
->
	`£tupUi
(
this
);

11 
	`š™
();

12 
	}
}

14 
	gCamb”Com³n§tiÚ_v›w
::~
	$Camb”Com³n§tiÚ_v›w
()

16 
d–‘e
 
av”ageADC
;

17 
d–‘e
 
ui
;

18 
	}
}

20 
	gCamb”Com³n§tiÚ_v›w
::
	$š™
()

22 
	`£tA‰ribu‹
(
Qt
::
WA_D–‘eOnClo£
);

23 
	`£tWšdowT™Ë
("Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ğµ ĞºĞ¾Ğ¼Ğ¿ĞµĞ½ÑĞ°Ñ†Ğ¸Ğ¸");

24 
QBy‹A¼ay
 
by‹VŞt
;

25 
vŞtHex
 
vŞthex
;

26 
by‹VŞt
=
vŞthex
.
	`štVŞt
(
vŞge
);

29 
av”ageADC
=
Ãw
 
Av”ageADC
;

30 
av”ageADC
->
	`£ndToComSlÙ1
(
by‹VŞt
);

32 
tim”
 = 
Ãw
 
	`QTim”
(
this
);

33 
	`cÚÃù
(
tim”
,&
QTim”
::
timeout
,
this
,&
Camb”Com³n§tiÚ_v›w
::
timeOut
);

34 
d–ayTim”
 = 
Ãw
 
	`QTim”
(
this
);

35 
	`cÚÃù
(
d–ayTim”
,&
QTim”
::
timeout
,
this
,&
Camb”Com³n§tiÚ_v›w
::
d–ayTimeOut
);

36 
d–ayTim”
->
	`£tSšgËShÙ
(
Œue
);

37 
d–ayTim”
->
	`¡¬t
(50000);

38 
QBy‹A¼ay
 
hC2
;

40 
hC2
[0]=0x2C;

41 
hC2
[1]=0x32;

42 
av”ageADC
->
	`£ndToComSlÙ
(
hC2
);

43 
i
=0;i<5000000;i++){;}

44 
ui
->
Ïb–
->
	`£tText
("ĞŸÑ€Ğ¾Ğ³Ñ€ĞµĞ²");

45 
av”ageADC
->
	`£ndToComSlÙ
(
hC2
);

48 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

50 
QSqlD©aba£
 
db
=QSqlD©aba£::
	`d©aba£
("myDB");

51 
db
.
	`£tD©aba£Name
("config.db");

52 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

53 
QSqlQu”y
 
	`qu”y
(
db
);

54 
QSŒšg
 
qSŒ
 = "SELECT *FROMƒlectrometerTest";

55 if(!
qu”y
.
	`exec
(
qSŒ
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y SELECT fromabËƒËùrom‘”Te¡"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

56 if(
qu”y
.
	`fœ¡
())

58 
Ioff
=
qu”y
.
	`v®ue
("Iš").
	`toDoubË
();

60 
db
.
	`şo£
();

63 
	}
}

65 
	gCamb”Com³n§tiÚ_v›w
::
	$d–ay
(
x
)

67 
x
>0) x--;

68 
	}
}

70 
	gCamb”Com³n§tiÚ_v›w
::
	$Ú_pushBu‰Ú_şicked
()

72 
	`şo£
();

73 
	}
}

75 
	gCamb”Com³n§tiÚ_v›w
::
	$d–ayTimeOut
()

77 
tim”
->
	`¡¬t
(1000);

78 
	}
}

80 
	gCamb”Com³n§tiÚ_v›w
::
	$timeOut
()

82 
time
+=1;

83 
ADC
=
av”ageADC
->
	`g‘Av”ageADC
()-
ADC0
 -
Ioff
;

84 
ui
->
Ïb–_2
->
	`£tText
(
QSŒšg
::
	`numb”
(
ADC
));

85 ià(
time
==1)

87 
ui
->
Ïb–
->
	`£tText
("Ğ˜Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ñ Ğ½Ğ° Ñ‡ÑƒĞ²ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğ¼ Ğ´Ğ¸Ğ°Ğ¿Ğ°Ğ·Ğ¾Ğ½Ğµ");

88 
QBy‹A¼ay
 
hC2
;

90 
hC2
[0]=0x2C;

91 
hC2
[1]=0x32;

92 
av”ageADC
->
	`£ndToComSlÙ
(
hC2
);

93 
	`d–ay
(10000);

94 
av”ageADC
->
	`£ndToComSlÙ
(
hC2
);

95 
ui
->
´og»ssB¬
->
	`£tV®ue
(0);

97 ià(
time
>=2 &&ime<=16)

99 
ui
->
´og»ssB¬
->
	`£tV®ue
(10 + 5*((
time
)-2));

102 ià(
time
>=16 &&ime<=20)

104 
ui
->
´og»ssB¬
->
	`£tV®ue
(10 + 5*((
time
)-2));

105 
y
+=
ADC
;

106 
	`qDebug
()<<
y
;

107 ià(
time
==20)

109 
ADC_V
=
y
/5;

110 
Comp1
=
¡©ic_ÿ¡
<>(
	`round
(
ADC_V
));

111 
	`qDebug
()<<"Comp1"<<
Comp1
;

112 
y
=0;

115 ià(
time
==21)

117 
ui
->
Ïb–
->
	`£tText
("Ğ˜Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ñ Ğ½Ğ° ÑÑ€ĞµĞ´Ğ½ĞµĞ¼ Ğ´Ğ¸Ğ°Ğ¿Ğ°Ğ·Ğ¾Ğ½Ğµ");

118 
QBy‹A¼ay
 
h90
;

119 
h90
[0]=0x29;

120 
h90
[1]=0x30;

121 
av”ageADC
->
	`£ndToComSlÙ
(
h90
);

122 
	`d–ay
(10000);

123 
av”ageADC
->
	`£ndToComSlÙ
(
h90
);

124 
ui
->
´og»ssB¬
->
	`£tV®ue
(0);

126 ià(
time
>=22 &&ime<=36)

128 
ui
->
´og»ssB¬
->
	`£tV®ue
(10 + 5*((
time
)-22));

130 ià(
time
>=36 &&ime<=40)

132 
ui
->
´og»ssB¬
->
	`£tV®ue
(10 + 5*((
time
)-22));

133 
y
+=
ADC
;

134 
	`qDebug
()<<
y
;

135 ià(
time
==40)

137 
ADC_V
=
y
/5;

138 
Comp2
=
¡©ic_ÿ¡
<>(
	`round
(
ADC_V
));

139 
	`qDebug
()<<"Comp2"<<
Comp2
;

140 
y
=0;

143 ià(
time
==41)

145 
ui
->
Ïb–
->
	`£tText
("Ğ˜Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ñ Ğ½Ğ° Ğ³Ñ€ÑƒĞ±Ğ¾Ğ¼ Ğ´Ğ¸Ğ°Ğ¿Ğ°Ğ·Ğ¾Ğ½Ğµ");

146 
QBy‹A¼ay
 
hA0
;

147 
hA0
[0]=0x2a;

148 
hA0
[1]=0x30;

149 
av”ageADC
->
	`£ndToComSlÙ
(
hA0
);

150 
	`d–ay
(10000);

151 
av”ageADC
->
	`£ndToComSlÙ
(
hA0
);

152 
ui
->
´og»ssB¬
->
	`£tV®ue
(0);

154 ià(
time
>=42 &&ime<=56)

156 
ui
->
´og»ssB¬
->
	`£tV®ue
(10 + 5*((
time
)-42));

158 ià(
time
>=56 &&ime<=60)

160 
ui
->
´og»ssB¬
->
	`£tV®ue
(10 + 5*((
time
)-42));

161 
y
+=
ADC
;

162 
	`qDebug
()<<
y
;

163 ià(
time
==60)

165 
ADC_V
=
y
/5;

166 
Comp3
=
¡©ic_ÿ¡
<>(
	`round
(
ADC_V
));

167 
	`qDebug
()<<"Comp3"<<
Comp3
;

168 
y
=0;

171 ià(
time
==61è
ui
->
´og»ssB¬
->
	`£tV®ue
(100);

172 ià(
time
==62)

174 
	`şo£
();

175 
em™
 
	`compP¬
(
Comp1
,
Comp2
,
Comp3
);

179 
	}
}

	@cambercompensation_view.h

1 #iâdeà
CAMBERCOMPENSATION_VIEW_H


2 
	#CAMBERCOMPENSATION_VIEW_H


	)

4 
	~"av”ag—dc.h
"

5 
	~"vŞthex.h
"

7 
	~<QDŸlog
>

8 
	~"QTim”
"

10 
Çme¥aû
 
	gUi
 {

11 
şass
 
	gCamb”Com³n§tiÚ_v›w
;

14 şas 
	cCamb”Com³n§tiÚ_v›w
 : 
public
 
QDŸlog


16 
Q_OBJECT


18 
public
:

19 
ex¶ic™
 
Camb”Com³n§tiÚ_v›w
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
,
vŞge
 = 0);

20 ~
Camb”Com³n§tiÚ_v›w
();

22 
	msigÇls
:

23 
compP¬
(,,);

25 
´iv©e
 
	m¦Ùs
:

26 
Ú_pushBu‰Ú_şicked
();

27 
timeOut
();

28 
d–ayTimeOut
();

30 
	m´iv©e
:

31 
Ui
::
Camb”Com³n§tiÚ_v›w
 *
ui
;

32 
Av”ageADC
* 
	mav”ageADC
{
	mnuÎ±r
};

33 
QTim”
* 
	gtim”
{
	gnuÎ±r
};

34 
QTim”
* 
	gd–ayTim”
{
	gnuÎ±r
};

36 
š™
();

37 
d–ay
(
x
);

39 
	gvŞge
{0};

40 
ušt
 
	gtime
{0};

41 
	gADC
{0};

42 
	gADC_V
{0};

43 
	gComp1
{0},
	gComp2
{0},
	gComp3
{0};

44 
	gy
{0};

45 cÚ¡ 
ušt
 
	gADC0
{0x7FFFFF};

46 
ušt
 
	gIoff
{0};

	@chambercompensation.cpp

2 
	~"chamb”com³n§tiÚ.h
"

3 
	~"ui_chamb”com³n§tiÚ.h
"

5 
	gChamb”Com³n§tiÚ
::
	$Chamb”Com³n§tiÚ
(
QWidg‘
 *
·»Á
,
vŞge
):

6 
	`QDŸlog
(
·»Á
),

7 
	`ui
(
Ãw
 
Ui
::
Chamb”Com³n§tiÚ
),
	$vŞge
(
vŞge
)

9 
ui
->
	`£tupUi
(
this
);

10 
	`š™
();

11 
	}
}

13 
	gChamb”Com³n§tiÚ
::~
	$Chamb”Com³n§tiÚ
()

15 
d–‘e
 
ui
;

16 
	}
}

18 
	gChamb”Com³n§tiÚ
::
	$š™
()

20 
	`£tA‰ribu‹
(
Qt
::
WA_D–‘eOnClo£
);

21 
	`£tWšdowT™Ë
("ĞšĞ¾Ğ¼Ğ¿ĞµĞ½ÑĞ°Ñ†Ğ¸Ñ");

22 
boŞ
 
Cu¼Sourû
=
çl£
;

23 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

25 
QSqlD©aba£
 
db
=QSqlD©aba£::
	`d©aba£
("myDB");

26 
db
.
	`£tD©aba£Name
("config.db");

27 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

28 
QSqlQu”y
 
	`qu”y
(
db
);

29 
QSŒšg
 
qSŒ
;

31 
qSŒ
 = "SELECT *FROM SourceChoice";

32 if(!
qu”y
.
	`exec
(
qSŒ
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y SELECTabË SourûChoiû"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

33 if(
qu”y
.
	`fœ¡
())

35 
Cu¼Sourû
 = 
¡©ic_ÿ¡
<
boŞ
>(
qu”y
.
	`v®ue
("emuÏtÜ").
	`toUIÁ
());

37 
db
.
	`şo£
();

39 
	`qDebug
()<<
Cu¼Sourû
;

40 if(
Cu¼Sourû
){

41 
	`cÚÃù
(
this
,&
Chamb”Com³n§tiÚ
::
ex™
,this,&Chamb”Com³n§tiÚ::
Ú_pushBu‰Ú_şicked
);

42 
em™
 
	`ex™
();;}

43 
	}
}

45 
	gChamb”Com³n§tiÚ
::
	$Ú_pushBu‰Ú_şicked
()

47 
this
->
	`şo£
();

50 
	`qDebug
()<<"on_pushButton_clicked";

51 
	}
}

55 
	gChamb”Com³n§tiÚ
::
	$Ú_pushBu‰Ú_2_şicked
()

57 
chamV›w
 = 
Ãw
 
	`Camb”Com³n§tiÚ_v›w
(
this
,
vŞge
);

58 
	`cÚÃù
(
chamV›w
,&
Camb”Com³n§tiÚ_v›w
::
compP¬
,
this
,&
Chamb”Com³n§tiÚ
::
com³n§tiÚSlÙ
);

59 
chamV›w
->
	`£tMod®
(
Œue
);

60 
chamV›w
->
	`show
();

61 
	}
}

63 
	gChamb”Com³n§tiÚ
::
	$com³n§tiÚSlÙ
(
ucomp1
,
ucomp2
,
ucomp3
)

65 
Ucomp1
=
ucomp1
;
Ucomp2
=
ucomp2
;
Ucomp3
=
ucomp3
;

67 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

69 
QSqlD©aba£
 
db
 = QSqlD©aba£::
	`d©aba£
("myDB");

70 
db
.
	`£tD©aba£Name
("config.db");

72 if(!
db
.
	`İ’
())

73 { 
	`qDebug
()<<"DB wa nÙ o³Ãd"<<
db
.
	`Ï¡E¼Ü
().
	`‹xt
(); }

75 
QSqlQu”y
 
	`qu”y
(
db
);

76 
QSŒšg
 
qu”ySŒ1
 = "UPDATE chamberCompensation SET Comp1='%1',Comp2='%2',Comp3='%3';";

77 
QSŒšg
 
qu”ySŒ
=
qu”ySŒ1
.
	`¬g
(QSŒšg::
	`numb”
(
Ucomp1
))

78 .
	`¬g
(
QSŒšg
::
	`numb”
(
Ucomp2
))

79 .
	`¬g
(
QSŒšg
::
	`numb”
(
Ucomp3
));

81 if(!
qu”y
.
	`exec
(
qu”ySŒ
))

82 {
	`qDebug
()<<"uÇbËƒxecu‹ qu”y UPDATE"<<
qu”y
.
	`Ï¡E¼Ü
().
	`‹xt
();}

83 
db
.
	`şo£
();

85 
ui
->
Ïb–
->
	`£tText
(
QSŒšg
::
	`numb”
(
Ucomp1
*0.0000003,'g',7));

86 
ui
->
Ïb–_2
->
	`£tText
(
QSŒšg
::
	`numb”
(
Ucomp2
*0.0000003,'g',7));

87 
ui
->
Ïb–_3
->
	`£tText
(
QSŒšg
::
	`numb”
(
Ucomp3
*0.0000003,'g',7));

89 if(
Ucomp1
!=0&&
Ucomp2
!=0&&
Ucomp3
!=0)

91 
em™
 
	`com³n§tiÚFÏgSig
();

93 
	}
}

	@chambercompensation.h

1 #iâdeà
CHAMBERCOMPENSATION_H


2 
	#CHAMBERCOMPENSATION_H


	)

4 
	~"·sswÜd.h
"

5 
	~"ÿmb”com³n§tiÚ_v›w.h
"

7 
	~<QDŸlog
>

9 
Çme¥aû
 
	gUi
 {

10 
şass
 
	gChamb”Com³n§tiÚ
;

13 şas 
	cChamb”Com³n§tiÚ
 : 
public
 
QDŸlog


15 
Q_OBJECT


17 
public
:

18 
ex¶ic™
 
Chamb”Com³n§tiÚ
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
,
vŞge
=0);

19 ~
Chamb”Com³n§tiÚ
();

21 
	msigÇls
:

22 
ex™
();

23 
com³n§tiÚFÏgSig
();

26 
public
 
	m¦Ùs
:

27 
com³n§tiÚSlÙ
(,,);

29 
´iv©e
 
	m¦Ùs
:

30 
Ú_pushBu‰Ú_şicked
();

32 
Ú_pushBu‰Ú_2_şicked
();

36 
	m´iv©e
:

37 
Ui
::
Chamb”Com³n§tiÚ
 *
ui
;

38 
Camb”Com³n§tiÚ_v›w
* 
	mchamV›w
{
	mnuÎ±r
};

40 
š™
();

42 
	gvŞge
{0};

43 
	gUcomp1
{0};

44 
	gUcomp2
{0};

45 
	gUcomp3
{0};

	@electrometer_test.cpp

1 
	~"–eùrom‘”_‹¡.h
"

2 
	~"ui_–eùrom‘”_‹¡.h
"

4 
	gEËùrom‘”_‹¡
::
	$EËùrom‘”_‹¡
(
QWidg‘
 *
·»Á
) :

5 
	`QDŸlog
(
·»Á
),

6 
	$ui
(
Ãw
 
Ui
::
EËùrom‘”_‹¡
)

8 
ui
->
	`£tupUi
(
this
);

9 
	`š™
();

11 
	}
}

13 
	gEËùrom‘”_‹¡
::~
	$EËùrom‘”_‹¡
()

16 
d–‘e
 
avADC
;

18 
d–‘e
 
msg
;

20 
d–‘e
 
tim”
;

22 
d–‘e
 
tim”G‘ADC
;

24 
d–‘e
 
–Te¡Res
;

26 
d–‘e
 
ui
;

28 
	}
}

30 
	gEËùrom‘”_‹¡
::
	$‹¡Sourû
(
boŞ
 
‹¡
)

32 
‹¡_sourû
=
‹¡
;

33 
	}
}

36 
	gEËùrom‘”_‹¡
::
	$š™
()

38 
	`£tWšdowT™Ë
("Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ÑĞ»ĞµĞºÑ‚Ñ€Ğ¾Ğ¼ĞµÑ‚Ñ€Ğ°");

40 
ui
->
Ïb–
->
	`£tVisibË
(
çl£
);

41 
ui
->
Ïb–_3
->
	`£tVisibË
(
çl£
);

43 
h00
.
	`»size
(2);

44 
h00
[0]=0x20; h00[1]=0x30;

45 
h21
.
	`»size
(2);

46 
h21
[0]=0x22; h21[1]=0x31;

47 
h29
.
	`»size
(2);

48 
h29
[0]=0x22; h29[1]=0x39;

49 
h15
.
	`»size
(2);

50 
h15
[0]=0x21; h15[1]=0x35;

51 
h03
.
	`»size
(2);

52 
h03
[0]=0x20; h03[1]=0x33;

53 
hC2
.
	`»size
(2);

54 
hC2
[0]=0x2C; hC2[1]=0x32;

55 
h82
.
	`»size
(2);

56 
h82
[0]=0x28; h82[1]=0x32;

57 
h90
.
	`»size
(2);

58 
h90
[0]=0x29; h90[1]=0x30;

59 
hA0
.
	`»size
(2);

60 
hA0
[0]=0x2A; hA0[1]=0x30;

62 
	`£tA‰ribu‹
(
Qt
::
WA_D–‘eOnClo£
);

64 
boŞ
 
Cu¼Sourû
=
çl£
;

65 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

67 
QSqlD©aba£
 
db
 = QSqlD©aba£::
	`d©aba£
("myDB");

68 
db
.
	`£tD©aba£Name
("config.db");

69 
QSqlQu”y
 
	`qu”y
(
db
);

70 
QSŒšg
 
qSŒ
 = "SELECT *FROM SourceChoice";

71 if(!
qu”y
.
	`exec
(
qSŒ
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y SELECTabË SourûChoiû"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

72 if(
qu”y
.
	`fœ¡
())

74 
Cu¼Sourû
 = 
¡©ic_ÿ¡
<
boŞ
>(
qu”y
.
	`v®ue
("emuÏtÜ").
	`toUIÁ
());

77 
qSŒ
 = "SELECT * FROMƒlectrometer";

78 if(!
qu”y
.
	`exec
(
qSŒ
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y SELECTabËƒËùrom‘”"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

79 if(
qu”y
.
	`fœ¡
())

81 
h—tšgTime
 = 
	`qušt8
(
qu”y
.
	`v®ue
("h—tšgTime").
	`toIÁ
());

82 
timeoutTe¡
 = 
	`qušt8
(
qu”y
.
	`v®ue
("‹¡Timeout").
	`toIÁ
());

83 
R1
 = 
qu”y
.
	`v®ue
("R1").
	`toIÁ
();

85 
av”CouÁs
=5;

87 
db
.
	`şo£
();

89 if(
Cu¼Sourû
==
Œue
)

91 
	`qDebug
()<<"Emulator";

92 
	`şo£
();

94 { 
	`qDebug
()<<"Ğ’ĞºĞ»ÑÑ‡Ğ°ĞµĞ¼ Ñ‚ĞµÑÑ‚";}

95 
avADC
 = 
Ãw
 
	`Av”ageADC
();

96 
	`cÚÃù
(
this
,&
EËùrom‘”_‹¡
::
£ndToCom
,
avADC
,&
Av”ageADC
::
£ndToComSlÙ
);

97 
tim”G‘ADC
 = 
Ãw
 
	`QTim”
(
this
);

98 
	`cÚÃù
(
tim”G‘ADC
,&
QTim”
::
timeout
,
this
,&
EËùrom‘”_‹¡
::
SlÙG‘ADC
);

99 
tim”G‘ADC
->
	`¡¬t
(500);

100 
tim”
 = 
Ãw
 
	`QTim”
(
this
);

101 
	`cÚÃù
(
tim”
,&
QTim”
::
timeout
,
this
,&
EËùrom‘”_‹¡
::
timeOut
);

102 
tim”
->
	`¡¬t
(1000);

104 
ui
->
´og»ssB¬
->
	`£tV®ue
(0);

105 
	}
}

107 
	gEËùrom‘”_‹¡
::
	$d–ay
(
ušt
 
x
)

109 
ušt
 
i
=0;i<
x
;i++);

111 
	}
}

115 
	gEËùrom‘”_‹¡
::
	$timeOut
()

117 
time
++;

118 
ui
->
Ïb–_4
->
	`£tText
(
QSŒšg
::
	`numb”
(
time
));

119 
comCheck
+=
¡d
::
	`abs
(
av”ageADC
);

121 if(
time
>=7&&time<9)

123 
	`qDebug
()<<
comCheck
;

124 if(
comCheck
<=10||
QSŒšg
::
	`numb”
(comCheck,'f',1)=="nan")

126 
time
=0;

127 
msg
=
Ãw
 
	`QMes§geBox
(
QMes§geBox
::
Cr™iÿl
,"ĞĞ¨Ğ˜Ğ‘ĞšĞ","ĞĞµÑ‚ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ğ¸ Ñ Ğ´ĞµÑ‚ĞµĞºÑ‚Ğ¾Ñ€Ğ°, \n Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼ Ñ€ĞµĞ¼Ğ¾Ğ½Ñ‚!!!");

128 
msg
->
	`£tSnd¬dBu‰Ús
(
QMes§geBox
::
Ok
);

129 
msg
->
	`£tBu‰ÚText
(
QMes§geBox
::
Ok
,"ĞĞš");

132 
msg
->
	`show
();

133 
tim”
->
	`¡İ
();

134 if(
msg
->
	`exec
()==
QMes§geBox
::
Ok
)

138 
em™
 
	`şo£Te¡AÎ
();

139 
	`şo£
();

144 if(
time
<
h—tšgTime
)

146 
ui
->
Ïb–_2
->
	`£tText
("ĞŸÑ€Ğ¾Ğ³Ñ€ĞµĞ²");

148 ià(
time
==
h—tšgTime
)

150 
em™
 
	`£ndToCom
(
h21
);

151 
	`d–ay
(10000);

152 
em™
 
	`£ndToCom
(
h21
);

155 ià(
time
==
h—tšgTime
+
timeoutTe¡
)

159 
em™
 
	`£ndToCom
(
h00
);

160 
ui
->
Ïb–_2
->
	`£tText
("Ğ¡Ğ°Ğ¼Ğ¾Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ");

161 
ui
->
´og»ssB¬
->
	`£tV®ue
(0);

163 ià(
time
==
h—tšgTime
+2*
timeoutTe¡
)

165 
ui
->
Ïb–_2
->
	`£tText
("ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ½Ğ°Ğ¿Ñ€ÑĞ¶ĞµĞ½Ğ¸Ñ ÑĞ¼ĞµÑ‰ĞµĞ½Ğ¸Ñ");

166 
em™
 
	`£ndToCom
(
h21
);

167 
	`d–ay
(10000);

168 
em™
 
	`£ndToCom
(
h21
);

169 
ui
->
´og»ssB¬
->
	`£tV®ue
(0);

171 ià(
time
==
h—tšgTime
+3*
timeoutTe¡
)

173 
by‹sDAC
.
	`ş—r
();

174 
by‹sDAC
.
	`­³nd
(0x40);

175 
by‹sDAC
.
	`­³nd
(0x50);

176 
by‹sDAC
.
	`­³nd
(0x60);

177 
em™
 
	`£ndToCom
(
by‹sDAC
);

178 
	`d–ay
(10000);

179 
em™
 
	`£ndToCom
(
by‹sDAC
);

180 
ui
->
´og»ssB¬
->
	`£tV®ue
(10);

182 ià(
time
>=
h—tšgTime
+4*
timeoutTe¡
 &&ime<=h—tšgTime+4*timeoutTe¡+
av”CouÁs
)

184 
ui
->
´og»ssB¬
->
	`£tV®ue
(20+5*(
time
-(
h—tšgTime
+4*
timeoutTe¡
)));

185 
y
+=
av”ageADC
;

187 if(
time
==
h—tšgTime
+4*
timeoutTe¡
+
av”CouÁs
)

189 
l1
=
y
/(
av”CouÁs
+1);

190 
	`qDebug
()<<"l1"<<
l1
;

191 
y
=0;

195 ià(
time
==
h—tšgTime
+5*
timeoutTe¡
+
av”CouÁs
)

197 
ui
->
´og»ssB¬
->
	`£tV®ue
(50);

198 
by‹sDAC
.
	`ş—r
();

199 
by‹sDAC
.
	`­³nd
(0x4f);

200 
by‹sDAC
.
	`­³nd
(0x5f);

201 
by‹sDAC
.
	`­³nd
(0x6f);

202 
em™
 
	`£ndToCom
(
by‹sDAC
);

203 
	`d–ay
(10000);

204 
em™
 
	`£ndToCom
(
by‹sDAC
);

206 ià(
time
>=
h—tšgTime
+6*
timeoutTe¡
+
av”CouÁs
 &&ime<=heatingTime+6*timeoutTest+2*averCounts)

208 
ui
->
´og»ssB¬
->
	`£tV®ue
(50+5*(
time
-(
h—tšgTime
+6*
timeoutTe¡
+
av”CouÁs
)));

209 
y
+=
av”ageADC
;

210 if(
time
==
h—tšgTime
+6*
timeoutTe¡
+2*
av”CouÁs
)

212 
l2
=
y
/(
av”CouÁs
+1);

213 
	`qDebug
()<<"l2"<<
l2
;

214 
y
=0;

219 ià(
time
==
h—tšgTime
+6*
timeoutTe¡
+2*
av”CouÁs
)

221 
ui
->
´og»ssB¬
->
	`£tV®ue
(80);

222 
	`qDebug
()<<
ADC0
<<
l1
<<
l2
;

223 
d
=
¡d
::
	`abs
((
¡©ic_ÿ¡
<>(
ADC0
)-¡©ic_ÿ¡<>(
l1
))/(¡©ic_ÿ¡<>(
l2
)-static_cast<>(l1)));

224 
	`qDebug
()<<
d
;

225 
DAC
=0;

226 
DAC
=0xFFF*
d
;

227 
	`qDebug
()<<
DAC
;

228 
DAC1
=
¡©ic_ÿ¡
<
ušt
>(
DAC
);

229 
QSŒšg
 
¡rDAC
=QSŒšg::
	`numb”
(
DAC1
,16);

230 
QSŒšg
 
DAC4
="",
DAC5
="",
DAC6
="";

231 
DAC4
="4"+
¡rDAC
[0];

232 
DAC5
="5"+
¡rDAC
[1];

233 
DAC6
="6"+
¡rDAC
[2];

234 
by‹sDAC
.
	`ş—r
();

235 
by‹sDAC
.
	`­³nd
(
¡©ic_ÿ¡
<>(
DAC4
.
	`toUIÁ
(
nuÎ±r
,16)));

236 
by‹sDAC
.
	`­³nd
(
¡©ic_ÿ¡
<>(
DAC5
.
	`toUIÁ
(
nuÎ±r
,16)));

237 
by‹sDAC
.
	`­³nd
(
¡©ic_ÿ¡
<>(
DAC6
.
	`toUIÁ
(
nuÎ±r
,16)));

239 ià(
time
==
h—tšgTime
+6*
timeoutTe¡
+2*
av”CouÁs
)

241 
em™
 
	`£ndToCom
(
by‹sDAC
);

242 
	`d–ay
(10000);

243 
em™
 
	`£ndToCom
(
by‹sDAC
);

245 ià(
time
>=
h—tšgTime
+7*
timeoutTe¡
+2*
av”CouÁs
 &&ime<=heatingTime+7*timeoutTest+3*averCounts)

247 
y
+=
av”ageADC
;

248 
	`qDebug
()<<
y
;

249 if(
time
==
h—tšgTime
+7*
timeoutTe¡
+3*
av”CouÁs
)

251 
ADC_off£t
=(
y
-
ADC0
)*0.0000003/(
av”CouÁs
+1);

252 
y
=0;

256 ià(
time
==
h—tšgTime
+7*
timeoutTe¡
+3*
av”CouÁs
)

258 
ui
->
´og»ssB¬
->
	`£tV®ue
(0);

259 
ui
->
Ïb–_2
->
	`£tText
("ĞšĞ°Ğ»Ğ¸Ğ±Ñ€Ğ¾Ğ²ĞºĞ° R2");

260 
em™
 
	`£ndToCom
(
h29
);

261 
	`d–ay
(10000);

262 
em™
 
	`£ndToCom
(
h29
);

264 ià(
time
==
h—tšgTime
+8*
timeoutTe¡
+3*
av”CouÁs
)

266 
ui
->
´og»ssB¬
->
	`£tV®ue
(20);

268 ià(
time
>=
h—tšgTime
+8*
timeoutTe¡
+3*
av”CouÁs
 &&ime<=heatingTime+8*timeoutTest+4*averCounts)

270 
ui
->
´og»ssB¬
->
	`£tV®ue
(20+10*(
time
-(
h—tšgTime
+8*
timeoutTe¡
+3*
av”CouÁs
)));

271 
y
+=
av”ageADC
;

272 if(
time
==
h—tšgTime
+8*
timeoutTe¡
+4*
av”CouÁs
)

274 
l1
=
y
/(
av”CouÁs
+1);

275 
R2
=((
ADC0
*
R1
*1000000)/(
l1
-ADC0) - 100000)/1000000;

276 
	`qDebug
()<<"R2"<<
R2
;

277 
y
=0;

281 ià(
time
==
h—tšgTime
+8*
timeoutTe¡
+4*
av”CouÁs
)

283 
ui
->
´og»ssB¬
->
	`£tV®ue
(0);

284 
ui
->
Ïb–_2
->
	`£tText
("ĞšĞ°Ğ»Ğ¸Ğ±Ñ€Ğ¾Ğ²ĞºĞ° R3");

285 
em™
 
	`£ndToCom
(
h15
);

286 
	`d–ay
(10000);

287 
em™
 
	`£ndToCom
(
h15
);

289 ià(
time
==
h—tšgTime
+9*
timeoutTe¡
+4*
av”CouÁs
)

291 
ui
->
´og»ssB¬
->
	`£tV®ue
(20);

293 ià(
time
>=
h—tšgTime
+9*
timeoutTe¡
+4*
av”CouÁs
 &&ime<=heatingTime+9*timeoutTest+5*averCounts)

295 
ui
->
´og»ssB¬
->
	`£tV®ue
(20+10*(
time
-(
h—tšgTime
+9*
timeoutTe¡
+4*
av”CouÁs
)));

296 
y
+=
av”ageADC
;

297 if(
time
==
h—tšgTime
+9*
timeoutTe¡
+5*
av”CouÁs
)

299 
l1
=
y
/(
av”CouÁs
+1);

300 
R3
=((
ADC0
*
R2
*1000000)/(
l1
-ADC0) - 100000)/1000000000;

301 
	`qDebug
()<<"R3"<<
R3
;

302 
y
=0;

307 ià(
time
==
h—tšgTime
+9*
timeoutTe¡
+5*
av”CouÁs
)

309 
ui
->
´og»ssB¬
->
	`£tV®ue
(0);

310 
ui
->
Ïb–_2
->
	`£tText
("Ğ’Ñ…Ğ¾Ğ´Ğ½Ğ¾Ğ¹ Ñ‚Ğ¾Ğº");

311 
em™
 
	`£ndToCom
(
h03
);

312 
	`d–ay
(10000);

313 
em™
 
	`£ndToCom
(
h03
);

315 ià(
time
==
h—tšgTime
+10*
timeoutTe¡
+5*
av”CouÁs
)

317 
ui
->
´og»ssB¬
->
	`£tV®ue
(0);

318 
ui
->
Ïb–_2
->
	`£tText
("Ğ’Ñ…Ğ¾Ğ´Ğ½Ğ¾Ğ¹ Ñ‚Ğ¾Ğº");

320 ià(
time
==
h—tšgTime
+11*
timeoutTe¡
+5*
av”CouÁs
)

322 
ui
->
´og»ssB¬
->
	`£tV®ue
(10);

324 ià(
time
==
h—tšgTime
+12*
timeoutTe¡
+5*
av”CouÁs
)

326 
ui
->
´og»ssB¬
->
	`£tV®ue
(20);

328 ià(
time
==
h—tšgTime
+13*
timeoutTe¡
+5*
av”CouÁs
)

330 
ui
->
´og»ssB¬
->
	`£tV®ue
(30);

332 ià(
time
==
h—tšgTime
+14*
timeoutTe¡
+5*
av”CouÁs
)

334 
ui
->
´og»ssB¬
->
	`£tV®ue
(40);

336 ià(
time
==
h—tšgTime
+15*
timeoutTe¡
+5*
av”CouÁs
)

338 
ui
->
´og»ssB¬
->
	`£tV®ue
(50);

340 ià(
time
==
h—tšgTime
+16*
timeoutTe¡
+5*
av”CouÁs
)

342 
ui
->
´og»ssB¬
->
	`£tV®ue
(60);

344 ià(
time
==
h—tšgTime
+17*
timeoutTe¡
+5*
av”CouÁs
)

346 
ui
->
´og»ssB¬
->
	`£tV®ue
(70);

348 ià(
time
==
h—tšgTime
+18*
timeoutTe¡
+5*
av”CouÁs
)

350 
ui
->
´og»ssB¬
->
	`£tV®ue
(80);

352 ià(
time
==
h—tšgTime
+19*
timeoutTe¡
+5*
av”CouÁs
)

354 
ui
->
´og»ssB¬
->
	`£tV®ue
(90);

356 ià(
time
>=
h—tšgTime
+19*
timeoutTe¡
+5*
av”CouÁs
 &&ime<=heatingTime+19*timeoutTest+6*averCounts)

359 
y
+=
av”ageADC
;

360 if(
time
==
h—tšgTime
+19*
timeoutTe¡
+6*
av”CouÁs
)

362 
l1
=
y
/(
av”CouÁs
+1);

363 
U_Ioff
=(
l1
-
ADC0
);

364 
	`qDebug
()<<"U_Ioffğ"<<
U_Ioff
;

365 
I
=(
U_Ioff
*0.0000003*1e-9)/
R3
;

366 
	`qDebug
()<<"I"<<
I
;

367 
y
=0;

368 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

370 
QSqlD©aba£
 
db
=QSqlD©aba£::
	`d©aba£
("myDB");

371 
db
.
	`£tD©aba£Name
("config.db");

372 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

373 
QSqlQu”y
 
	`qu”y
(
db
);

375 
QSŒšg
 
qSŒ
="UPDATEƒlectrometerTest SET DAC='%1'";

376 
QSŒšg
 
qSŒ1
 = 
qSŒ
.
	`¬g
(QSŒšg::
	`numb”
(
DAC1
));

377 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y upd©–eùrom‘”Te¡"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

379 
qSŒ
="UPDATEƒlectrometerTest SET Uoff='%1'";

380 
qSŒ1
 = 
qSŒ
.
	`¬g
(
QSŒšg
::
	`numb”
(
ADC_off£t
));

381 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y upd©–eùrom‘”Te¡"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

383 
qSŒ
="UPDATEƒlectrometerTest SET R2='%1'";

384 
qSŒ1
 = 
qSŒ
.
	`¬g
(
QSŒšg
::
	`numb”
(
R2
));

385 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y upd©–eùrom‘”Te¡"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

388 
qSŒ
="UPDATEƒlectrometerTest SET R3='%1'";

389 
qSŒ1
 = 
qSŒ
.
	`¬g
(
QSŒšg
::
	`numb”
(
R3
));

390 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y upd©–eùrom‘”Te¡"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

392 
qSŒ
="UPDATEƒlectrometerTest SET Iin='%1'";

393 
qSŒ1
 = 
qSŒ
.
	`¬g
(
QSŒšg
::
	`numb”
(
U_Ioff
));

394 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y upd©–eùrom‘”Te¡"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

395 
db
.
	`şo£
();

397 
ui
->
´og»ssB¬
->
	`£tV®ue
(100);

400 
–Te¡Res
=
Ãw
 
	`EËùrom‘”_‹¡_»suÉ
(
this
);

401 
–Te¡Res
->
	`£tMod®
(
Œue
);

402 
–Te¡Res
->
	`show
();

403 
	`cÚÃù
(
–Te¡Res
,&
EËùrom‘”_‹¡_»suÉ
::
ÚClo£Sig
,
this
,&
EËùrom‘”_‹¡
::
ÚClo£SlÙ
);

404 
	`cÚÃù
(
–Te¡Res
,&
EËùrom‘”_‹¡_»suÉ
::
‹¡OkSig
,
this
,&
EËùrom‘”_‹¡
::
‹¡OkSlÙ
);

409 
	}
}

411 
	gEËùrom‘”_‹¡
::
	$SlÙG‘ADC
()

413 
av”ageADC
=
avADC
->
	`g‘Av”ageADC
();

414 
ADC_V
ğ(
av”ageADC
-
ADC0
)*0.0000003;

415 
ui
->
Ïb–
->
	`£tText
(
QSŒšg
::
	`numb”
(
av”ageADC
,10));

416 
ui
->
Ïb–_3
->
	`£tText
(
QSŒšg
::
	`numb”
(
ADC_V
,'g',7));

417 
	}
}

419 
	gEËùrom‘”_‹¡
::
	$Ú_pushBu‰Ú_şicked
()

421 if(
‹¡_sourû
)

423 if(
‹¡Ok
)

425 
	`şo£
();

429 
	`şo£
();

430 
em™
 
	`şo£Te¡AÎ
();

435 
	`şo£
();

437 
	}
}

438 
	gEËùrom‘”_‹¡
::
	$ÚClo£SlÙ
()

440 if(
‹¡_sourû
)

442 if(
‹¡Ok
)

444 
	`şo£
();

448 
	`şo£
();

449 
em™
 
	`şo£Te¡AÎ
();

454 
	`şo£
();

456 
	}
}

458 
	gEËùrom‘”_‹¡
::
	$‹¡OkSlÙ
()

460 
‹¡Ok
=
Œue
;

461 
	}
}

	@electrometer_test.h

1 #iâdeà
ELECTROMETER_TEST_H


2 
	#ELECTROMETER_TEST_H


	)

4 
	~"·sswÜd.h
"

5 
	~"av”ag—dc.h
"

6 
	~"–eùrom‘”_‹¡_»suÉ.h
"

8 
	~<cm©h
>

9 
	~<QDŸlog
>

10 
	~<QTim”
>

11 
	~<QMes§geBox
>

13 
Çme¥aû
 
	gUi
 {

14 
şass
 
	gEËùrom‘”_‹¡
;

17 şas 
	cEËùrom‘”_‹¡
 : 
public
 
QDŸlog


19 
Q_OBJECT


21 
sigÇls
:

22 
£ndToCom
(
QBy‹A¼ay
 
d©a
);

24 
	mpublic
:

25 
ex¶ic™
 
EËùrom‘”_‹¡
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
);

26 ~
EËùrom‘”_‹¡
();

28 
‹¡Sourû
(
boŞ
);

30 
	msigÇls
:

32 
şo£Te¡AÎ
();

34 
public
 
	m¦Ùs
:

35 
ÚClo£SlÙ
();

36 
‹¡OkSlÙ
();

38 
´iv©e
 
	m¦Ùs
:

39 
Ú_pushBu‰Ú_şicked
();

40 
timeOut
();

41 
SlÙG‘ADC
();

43 
	m´iv©e
:

44 
Ui
::
EËùrom‘”_‹¡
 *
ui
;

45 
Av”ageADC
* 
	mavADC
{
	mnuÎ±r
};

46 
QTim”
* 
	gtim”
{
	gnuÎ±r
};

47 
QTim”
* 
	gtim”G‘ADC
{
	gnuÎ±r
};

48 
QMes§geBox
* 
	gmsg
{
	gnuÎ±r
};

49 
EËùrom‘”_‹¡_»suÉ
* 
	g–Te¡Res
{
	gnuÎ±r
};

51 
š™
();

52 
d–ay
(
ušt
);

54 
boŞ
 
	g‹¡_sourû
{
	gçl£
};

55 
boŞ
 
	g‹¡Ok
{
	gçl£
};

56 
	gav”ageADC
{0};

57 
qušt8
 
	gh—tšgTime
{0};

58 
qušt8
 
	gtimeoutTe¡
{0};

59 
	gR1
{0},
	gR2
{0},
	gR3
{0};

60 
	gU_Ioff
{0};

61 
ušt
 
	gDAC1
{0};

62 vŞ©
	gADC_V
{0};

63 
QBy‹A¼ay
 
	gby‹sDAC
;

65 cÚ¡ 
ušt
 
	gADC0
 = 0x7fffff;

66 
QBy‹A¼ay
 
	gh00
,

67 
	gh21
,

68 
	gh29
,

69 
	gh15
,

70 
	gh03
,

71 
	ghC2
,

72 
	gh82
,

73 
	gh90
,

74 
	ghA0
;

89 
	gcomCheck
{0};

91 
	gT_ADC
{0},

92 
	gtime
{0},

93 
	gi
{0},

94 
	gx
{0},

95 
	gy
{0},

96 
	gl1
{0},

97 
	gl2
{0},

98 
	gav”CouÁs
{0};

100 
	gav”ADC_V
{0},

101 
	gADC_off£t
{0},

102 
	gd
{0},

103 
	gI
{0};

	@electrometer_test_result.cpp

3 
	~"–eùrom‘”_‹¡_»suÉ.h
"

4 
	~"ui_–eùrom‘”_‹¡_»suÉ.h
"

6 
	gEËùrom‘”_‹¡_»suÉ
::
	$EËùrom‘”_‹¡_»suÉ
(
QWidg‘
 *
·»Á
) :

7 
	`QDŸlog
(
·»Á
),

8 
	$ui
(
Ãw
 
Ui
::
EËùrom‘”_‹¡_»suÉ
)

10 
ui
->
	`£tupUi
(
this
);

11 
	`š™
();

12 
	}
}

14 
	gEËùrom‘”_‹¡_»suÉ
::~
	$EËùrom‘”_‹¡_»suÉ
()

16 
d–‘e
 
ui
;

17 
	}
}

19 
	gEËùrom‘”_‹¡_»suÉ
::
	$š™
()

21 
	`£tWšdowT™Ë
("Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ");

23 
ui
->
li¡Widg‘
->
	`£tVisibË
(
çl£
);

24 
ui
->
pushBu‰Ú_3
->
	`£tEÇbËd
(
çl£
);

25 
ui
->
pushBu‰Ú_3
->
	`£tVisibË
(
çl£
);

26 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

28 
QSqlD©aba£
 
db
=QSqlD©aba£::
	`d©aba£
("myDB");

29 
db
.
	`£tD©aba£Name
("config.db");

30 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

31 
QSqlQu”y
 
	`qu”y
(
db
);

32 
QSŒšg
 
qSŒ
 = "SELECT *FROMƒlectrometer";

33 if(!
qu”y
.
	`exec
(
qSŒ
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y SELECTabËƒËùrom‘”"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

34 if(
qu”y
.
	`fœ¡
())

36 
ui
->
lšeEd™
->
	`£tText
(
qu”y
.
	`v®ue
("R1").
	`toSŒšg
());

38 
qSŒ
 = "CREATE TABLE IF NOT EXISTSƒlectrometerTest (id INTEGER PRIMARY KEY CHECK (id=0),"

45 if(!
qu”y
.
	`exec
(
qSŒ
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y CREATEabËƒËùrom‘”Te¡"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

47 
qSŒ
 = "SELECT *FROMƒlectrometerTest";

48 if(!
qu”y
.
	`exec
(
qSŒ
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y SELECT fromabËƒËùrom‘”Te¡"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

49 if(
qu”y
.
	`fœ¡
())

51 
R3
 = 
qu”y
.
	`v®ue
("R3").
	`toDoubË
();

52 
R2
 = 
qu”y
.
	`v®ue
("R2").
	`toDoubË
();

53 
DAC
 = 
qu”y
.
	`v®ue
("DAC").
	`toDoubË
();

54 
RefVŞt
 = 
qu”y
.
	`v®ue
("Uoff").
	`toDoubË
();

55 
ADC
=
qu”y
.
	`v®ue
("Iš").
	`toIÁ
();

56 
I
 = (
ADC
*0.0000003/(
R3
*1E9))*1E12;

57 
	`qDebug
()<<
ADC
<<
I
<<
R3
;

58 
ui
->
lšeEd™_5
->
	`£tText
(
qu”y
.
	`v®ue
("Uoff").
	`toSŒšg
());

59 
ui
->
lšeEd™_6
->
	`£tText
(
qu”y
.
	`v®ue
("DAC").
	`toSŒšg
());

60 
ui
->
lšeEd™
->
	`£tText
(
qu”y
.
	`v®ue
("R1").
	`toSŒšg
());

61 
ui
->
lšeEd™_2
->
	`£tText
(
qu”y
.
	`v®ue
("R2").
	`toSŒšg
());

62 
ui
->
lšeEd™_3
->
	`£tText
(
qu”y
.
	`v®ue
("R3").
	`toSŒšg
());

63 
ui
->
lšeEd™_4
->
	`£tText
(
QSŒšg
::
	`numb”
(
I
,'g',4));

65 
qSŒ
="SELECT *FROMƒlectrometer";

66 if(!
qu”y
.
	`exec
(
qSŒ
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y SELECT fromabËƒËùrom‘”"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

67 if(
qu”y
.
	`fœ¡
())

69 
mšDAC
 = 
qu”y
.
	`v®ue
("mšDAC").
	`toDoubË
();

70 
maxDAC
 = 
qu”y
.
	`v®ue
("maxDAC").
	`toDoubË
();

71 
mšRefVŞt
 = 
qu”y
.
	`v®ue
("mšRefVŞt").
	`toDoubË
();

72 
maxRefVŞt
 = 
qu”y
.
	`v®ue
("maxRefVŞt").
	`toDoubË
();

73 
mšR2
 = 
qu”y
.
	`v®ue
("mšR2").
	`toDoubË
();

74 
maxR2
ğ
qu”y
.
	`v®ue
("maxR2").
	`toDoubË
();

75 
mšR3
 = 
qu”y
.
	`v®ue
("mšR3").
	`toDoubË
();

76 
maxR3
 = 
qu”y
.
	`v®ue
("maxR3").
	`toDoubË
();

77 
mšI
 = 
qu”y
.
	`v®ue
("mšI").
	`toDoubË
();

78 
maxI
 = 
qu”y
.
	`v®ue
("maxI").
	`toDoubË
();

79 
boŞ
 
”rÜFÏg
=
çl£
;

80 if(
RefVŞt
<
mšRefVŞt
||RefVŞt>
maxRefVŞt
)

82 
”rÜFÏg
=
Œue
;

83 
ui
->
li¡Widg‘
->
	`£tVisibË
(
Œue
);ui->li¡Widg‘->
	`addI‹m
("Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ğ½Ğ¸Ñ Ğ½Ğ°Ğ¿Ñ€ÑĞ¶ĞµĞ½Ğ¸Ñ ÑĞ¼ĞµÑ‰ĞµĞ½Ğ¸Ñ ÑƒÑĞ¸Ğ»Ğ¸Ñ‚ĞµĞ»Ñ Ğ²Ñ‹ÑˆĞ»Ğ¸ Ğ·Ğ° Ğ¿Ñ€ĞµĞ´ĞµĞ»Ñ‹");

85 if(
DAC
<
mšDAC
||DAC>
maxDAC
)

87 
”rÜFÏg
=
Œue
;

88 
ui
->
li¡Widg‘
->
	`£tVisibË
(
Œue
);ui->li¡Widg‘->
	`addI‹m
("Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ğ½Ğ¸Ñ Ğ¦ĞĞŸ Ğ²Ñ‹ÑˆĞ»Ğ¸ Ğ·Ğ° Ğ¿Ñ€ĞµĞ´ĞµĞ»Ñ‹");

90 if(
R2
<
mšR2
||R2>
maxR2
)

92 
”rÜFÏg
=
Œue
;

93 
ui
->
li¡Widg‘
->
	`£tVisibË
(
Œue
);ui->li¡Widg‘->
	`addI‹m
("Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ğ½Ğ¸Ñ R2 Ğ²Ñ‹ÑˆĞ»Ğ¸ Ğ·Ğ° Ğ¿Ñ€ĞµĞ´ĞµĞ»Ñ‹");

95 if(
R3
<
mšR3
||R3>
maxR3
)

97 
”rÜFÏg
=
Œue
;

98 
ui
->
li¡Widg‘
->
	`£tVisibË
(
Œue
);ui->li¡Widg‘->
	`addI‹m
("Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ğ½Ğ¸Ñ R3 Ğ²Ñ‹ÑˆĞ»Ğ¸ Ğ·Ğ° Ğ¿Ñ€ĞµĞ´ĞµĞ»Ñ‹");

100 if(
I
<
mšI
||I>
maxI
)

102 
”rÜFÏg
=
Œue
;

103 
ui
->
li¡Widg‘
->
	`£tVisibË
(
Œue
);ui->li¡Widg‘->
	`addI‹m
("Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ğ½Ğ¸Ñ Ğ²Ñ…Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾ Ñ‚Ğ¾ĞºĞ° Ğ²Ñ‹ÑˆĞ»Ğ¸ Ğ·Ğ° Ğ¿Ñ€ĞµĞ´ĞµĞ»Ñ‹");

105 ià(
”rÜFÏg
){
ui
->
li¡Widg‘
->
	`addI‹m
("Ğ¢ĞµÑÑ‚ Ğ½Ğµ Ğ¿Ñ€Ğ¾Ğ¹Ğ´ĞµĞ½");}

107 
db
.
	`şo£
();

109 
	}
}

111 
	gEËùrom‘”_‹¡_»suÉ
::
	$Ú_pushBu‰Ú_2_şicked
()

113 if(!
ui
->
li¡Widg‘
->
	`isVisibË
())

115 
em™
 
	`‹¡OkSig
();

117 
	`şo£
();

118 
em™
 
	`ÚClo£Sig
();

119 
	}
}

121 
	gEËùrom‘”_‹¡_»suÉ
::
	$Ú_pushBu‰Ú_3_şicked
()

123 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

125 
QSqlD©aba£
 
db
=QSqlD©aba£::
	`d©aba£
("myDB");

126 
db
.
	`£tD©aba£Name
("config.db");

127 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

128 
QSqlQu”y
 
	`qu”y
(
db
);

129 
QSŒšg
 
qSŒ
="INSERT INTOƒlectrometerTest (id,"

138 
QSŒšg
 
qSŒ1
=
qSŒ
.
	`¬g
(
ui
->
lšeEd™_5
->
	`‹xt
())

139 .
	`¬g
(
ui
->
lšeEd™_6
->
	`‹xt
())

140 .
	`¬g
(
ui
->
lšeEd™
->
	`‹xt
())

141 .
	`¬g
(
ui
->
lšeEd™_2
->
	`‹xt
())

142 .
	`¬g
(
ui
->
lšeEd™_3
->
	`‹xt
())

143 .
	`¬g
(
ui
->
lšeEd™_4
->
	`‹xt
());

144 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y INSERTƒËùrom‘”Te¡"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

146 
qSŒ
="UPDATEƒlectrometerTest SET "

153 
qSŒ1
=
qSŒ
.
	`¬g
(
ui
->
lšeEd™_5
->
	`‹xt
())

154 .
	`¬g
(
ui
->
lšeEd™_6
->
	`‹xt
())

155 .
	`¬g
(
ui
->
lšeEd™
->
	`‹xt
())

156 .
	`¬g
(
ui
->
lšeEd™_2
->
	`‹xt
())

157 .
	`¬g
(
ui
->
lšeEd™_3
->
	`‹xt
())

158 .
	`¬g
(
ui
->
lšeEd™_4
->
	`‹xt
());

160 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y upd©–eùrom‘”Te¡"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

161 
db
.
	`şo£
();

163 
	}
}

	@electrometer_test_result.h

1 #iâdeà
ELECTROMETER_TEST_RESULT_H


2 
	#ELECTROMETER_TEST_RESULT_H


	)

4 
	~"·sswÜd.h
"

6 
	~<QDŸlog
>

9 
Çme¥aû
 
	gUi
 {

10 
şass
 
	gEËùrom‘”_‹¡_»suÉ
;

13 şas 
	cEËùrom‘”_‹¡_»suÉ
 : 
public
 
QDŸlog


15 
Q_OBJECT


17 
public
:

18 
ex¶ic™
 
EËùrom‘”_‹¡_»suÉ
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
);

19 ~
EËùrom‘”_‹¡_»suÉ
();

22 
	msigÇls
:

23 
ÚClo£Sig
();

24 
‹¡OkSig
();

26 
´iv©e
 
	m¦Ùs
:

27 
Ú_pushBu‰Ú_2_şicked
();

29 
Ú_pushBu‰Ú_3_şicked
();

31 
	m´iv©e
:

32 
Ui
::
EËùrom‘”_‹¡_»suÉ
 *
ui
;

33 
š™
();

34 
	mR2
{0},
	gR3
{0},
	gI
{0};

35 
boŞ
 
	g‹¡_sourû
{
	gçl£
};

36 
	gDAC
{0};

37 
	gRefVŞt
{0};

	@emulelectrometer.cpp

1 
	~"emuËËùrom‘”.h
"

3 
	gEmulEËùrom‘”
::
	$EmulEËùrom‘”
()

5 
tim”
=
Ãw
 
QTim”
;

6 
	`cÚÃù
(
tim”
,&
QTim”
::
timeout
,
this
,&
EmulEËùrom‘”
::
timeOut
);

7 
	}
}

8 
	gEmulEËùrom‘”
::~
	$EmulEËùrom‘”
()

10 
d–‘e
 
tim”
;

11 
	`qDebug
()<<"~EmulElectrometer()";

12 
	}
}

14 
	gEmulEËùrom‘”
::
	$timeOut
()

16 cÚ¡ *
symbŞs
=
comSŒšg
.
	`toStdSŒšg
().
	`c_¡r
();

18 
QSŒšg
 
¡r
{""};

19 
j
=1;j<
comSŒšg
.
	`Ëngth
();j+=2)

21 
¡r
.
	`­³nd
(
symbŞs
[
j
]);

23 
™”
=1000000;

24 
numADC
=
¡r
.
	`toLÚg
(
nuÎ±r
,16)+
™”
;

26 
QSŒšg
 
B_16
=
	`QSŒšg
("%1").
	`¬g
(
numADC
,0,16);

29 cÚ¡ *
symbŞs1
 = 
B_16
.
	`toStdSŒšg
().
	`c_¡r
();

30 
QSŒšg
 
¡rB_16
="";

31 
j
=0;j<
B_16
.
	`Ëngth
();j++)

33 
¡rB_16
.
	`­³nd
(
QSŒšg
::
	`numb”
(
j
+2));

34 
¡rB_16
.
	`­³nd
(
symbŞs1
[
j
]);

36 
£ndSŒšg
=
¡rB_16
;

37 
em™
 
	`£ndd
(
£ndSŒšg
);

39 
	}
}

41 
	gEmulEËùrom‘”
::
	$¡¬t
()

43 
tim”
->
	`¡¬t
(100);

44 
	}
}

45 
	gEmulEËùrom‘”
::
	$¡İ
()

47 
tim”
->
	`¡İ
();

48 
	}
}

	@emulelectrometer.h

1 #iâdeà
EMULELECTROMETER_H


2 
	#EMULELECTROMETER_H


	)

4 
	~<QObjeù
>

5 
	~<QTim”
>

6 
	~<QDebug
>

8 şas 
	cEmulEËùrom‘”
:
public
 
QObjeù


10 
Q_OBJECT


11 
public
:

12 
EmulEËùrom‘”
();

13 ~
EmulEËùrom‘”
();

15 
	msigÇls
:

16 
£ndd
(
QSŒšg
 
¡r
);

18 
´iv©e
 
	m¦Ùs
:

19 
timeOut
();

21 
	m´iv©e
:

22 
QSŒšg
 
comSŒšg
{"273f4f5f6f7f\0"};

23 
QSŒšg
 
	g£ndSŒšg
{""};

24 
QTim”
 *
	gtim”
{
	gnuÎ±r
};

25 
	g™”
=0;

26 
	gpublic
:

27 
¡¬t
();

28 
¡İ
();

	@gamma.cpp

4 
	~"gamma.h
"

5 
	~"ui_gamma.h
"

7 
	gGamma
::
	$Gamma
(
QWidg‘
 *
·»Á
) :

8 
	`QDŸlog
(
·»Á
),

9 
	$ui
(
Ãw
 
Ui
::
Gamma
)

11 
ui
->
	`£tupUi
(
this
);

12 
	`š™
();

13 
	}
}

15 
	gGamma
::~
	$Gamma
()

17 
d–‘e
 
ui
;

18 
	}
}

20 
	gGamma
::
	$š™
()

22 
	`£tWšdowT™Ë
("Ğ“Ğ°Ğ¼Ğ¼Ğ° Ğ¸Ğ·Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ");

23 
	}
}

25 
	gGamma
::
	$Ú_pushBu‰Ú_şicked
()

27 
	`şo£
();

28 
	}
}

31 
	gGamma
::
	$Ú_pushBu‰Ú_2_şicked
()

33 
Gamma_BDG
 * 
gammaBDG
 = 
Ãw
 
	`Gamma_BDG
(
this
);

34 
gammaBDG
->
	`£tMod®
(
Œue
);

35 
gammaBDG
->
	`show
();

37 
	}
}

39 
	gGamma
::
	$Ú_pushBu‰Ú_3_şicked
()

41 
Gamma_IK
* 
gammaIK
 = 
Ãw
 
	`Gamma_IK
(
this
);

42 
gammaIK
->
	`£tMod®
(
Œue
);

43 
gammaIK
->
	`show
();

44 
	}
}

	@gamma.h

1 #iâdeà
GAMMA_H


2 
	#GAMMA_H


	)

4 
	~"gamma_bdg.h
"

5 
	~"gamma_ik.h
"

7 
	~<QDŸlog
>

9 
Çme¥aû
 
	gUi
 {

10 
şass
 
	gGamma
;

13 şas 
	cGamma
 : 
public
 
QDŸlog


15 
Q_OBJECT


17 
public
:

18 
ex¶ic™
 
Gamma
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
);

19 ~
Gamma
();

21 
´iv©e
 
	m¦Ùs
:

22 
Ú_pushBu‰Ú_şicked
();

24 
Ú_pushBu‰Ú_2_şicked
();

26 
Ú_pushBu‰Ú_3_şicked
();

28 
	m´iv©e
:

29 
Ui
::
Gamma
 *
ui
;

30 
š™
();

	@gamma_bdg.cpp

1 
	~"gamma_bdg.h
"

2 
	~"ui_gamma_bdg.h
"

5 
	gGamma_BDG
::
	$Gamma_BDG
(
QWidg‘
 *
·»Á
) :

6 
	`QDŸlog
(
·»Á
),

7 
	$ui
(
Ãw
 
Ui
::
Gamma_BDG
)

9 
ui
->
	`£tupUi
(
this
);

10 
	`š™
();

11 
	}
}

13 
	gGamma_BDG
::~
	$Gamma_BDG
()

15 
d–‘e
 
ui
;

16 
	}
}

18 
	gGamma_BDG
::
	$š™
()

20 
	`£tWšdowT™Ë
("Ğ“Ğ°Ğ¼Ğ¼Ğ° Ğ¸Ğ·Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ - Ğ±Ğ»Ğ¾Ğº Ğ‘Ğ”Ğ“");

21 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

23 
QSqlD©aba£
 
db
 = QSqlD©aba£::
	`d©aba£
("myDB");

24 
db
.
	`£tD©aba£Name
("config.db");

25 if(!
db
.
	`İ’
()){
	`qDebug
()<<"DB was‚ot opened";}

26 
QSqlQu”y
 
	`qu”y
(
db
);

27 
QSŒšg
 
qu”ySŒ
 = "SELECT * FROM fullName";

28 if(!
qu”y
.
	`exec
(
qu”ySŒ
))

29 {
	`qDebug
()<<"unableƒxecute query SELECT";}

30 if(
qu”y
.
	`fœ¡
())

32 
ui
->
lšeEd™
->
	`£tText
(
qu”y
.
	`v®ue
("suºame").
	`toSŒšg
());

33 
ui
->
lšeEd™_2
->
	`£tText
(
qu”y
.
	`v®ue
("Çme").
	`toSŒšg
());

34 
ui
->
lšeEd™_3
->
	`£tText
(
qu”y
.
	`v®ue
("·ŒÚymic").
	`toSŒšg
());

37 
	}
}

39 
	gGamma_BDG
::
	$Ú_pushBu‰Ú_şicked
()

41 
	`şo£
();

42 
	}
}

44 
	gGamma_BDG
::
	$Ú_pushBu‰Ú_2_şicked
()

46 
Gamma_BDG_‹¡
* 
gammaBDG‹¡
 = 
Ãw
 Gamma_BDG_test;

47 
gammaBDG‹¡
->
	`£tMod®
(
Œue
);

48 
gammaBDG‹¡
->
	`show
();

50 
	}
}

52 
	gGamma_BDG
::
	$Ú_pushBu‰Ú_3_şicked
()

54 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

56 
QSqlD©aba£
 
db
 = QSqlD©aba£::
	`d©aba£
("myDB");

57 
db
.
	`£tD©aba£Name
("config.db");

58 if(!
db
.
	`İ’
())

59 {
	`qDebug
()<<"DB was‚ot opened";}

60 
QSqlQu”y
 
	`qu”y
(
db
);

61 
QSŒšg
 
qu”ySŒ
;

62 
QSŒšg
 
	`suºame
(
ui
->
lšeEd™
->
	`‹xt
());

63 
QSŒšg
 
	`Çme
(
ui
->
lšeEd™_2
->
	`‹xt
());

64 
QSŒšg
 
	`·ŒÚimyc
(
ui
->
lšeEd™_3
->
	`‹xt
());

65 
QSŒšg
 
qu”ySŒ1
 = "UPDATE fullName SET "

69 
qu”ySŒ
 = 
qu”ySŒ1
.
	`¬g
(
suºame
)

70 .
	`¬g
(
Çme
)

71 .
	`¬g
(
·ŒÚimyc
);

72 if(!
qu”y
.
	`exec
(
qu”ySŒ
))

73 {
	`qDebug
()<<"unableƒxecute query UPDATE";}

75 
Gamma_BDG_m—suršg
* 
gammaBDGmes
 = 
Ãw
 
	`Gamma_BDG_m—suršg
(
this
);

76 
gammaBDGmes
->
	`£tMod®
(
Œue
);

77 
gammaBDGmes
->
	`show
();

78 
	}
}

	@gamma_bdg.h

1 #iâdeà
GAMMA_BDG_H


2 
	#GAMMA_BDG_H


	)

4 
	~"gamma_bdg_‹¡.h
"

5 
	~"gamma_bdg_m—suršg.h
"

6 
	~<QDŸlog
>

8 
Çme¥aû
 
	gUi
 {

9 
şass
 
	gGamma_BDG
;

12 şas 
	cGamma_BDG
 : 
public
 
QDŸlog


14 
Q_OBJECT


16 
public
:

17 
ex¶ic™
 
Gamma_BDG
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
);

18 ~
Gamma_BDG
();

20 
´iv©e
 
	m¦Ùs
:

21 
Ú_pushBu‰Ú_şicked
();

23 
Ú_pushBu‰Ú_2_şicked
();

25 
Ú_pushBu‰Ú_3_şicked
();

27 
	m´iv©e
:

28 
Ui
::
Gamma_BDG
 *
ui
;

29 
š™
();

	@gamma_bdg_measuring.cpp

3 
	~"gamma_bdg_m—suršg.h
"

4 
	~"ui_gamma_bdg_m—suršg.h
"

6 
	gGamma_BDG_m—suršg
::
	$Gamma_BDG_m—suršg
(
QWidg‘
 *
·»Á
) :

7 
	`QDŸlog
(
·»Á
),

8 
	$ui
(
Ãw
 
Ui
::
Gamma_BDG_m—suršg
)

10 
ui
->
	`£tupUi
(
this
);

11 
	`š™
();

12 
	}
}

14 
	gGamma_BDG_m—suršg
::~
	$Gamma_BDG_m—suršg
()

17 
d–‘e
 
ui
;

18 
	}
}

20 
	gGamma_BDG_m—suršg
::
	$š™
()

22 
RS485
::
BDGÜBDKN
=0;

24 
	`£tWšdowT™Ë
("Ğ“Ğ°Ğ¼Ğ¼Ğ° Ğ¸Ğ·Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ - Ğ‘Ğ”Ğ“ - Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ¸Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ñ");

25 
this
->
	`£tA‰ribu‹
(
Qt
::
WA_D–‘eOnClo£
);

27 
·ss
=
PasswÜd
::
	`check
();

28 
·ss
)

30 2: 
ui
->
pushBu‰Ú_3
->
	`£tEÇbËd
(
Œue
);ui->pushBu‰Ú_3->
	`£tVisibË
(true);

31 
ui
->
Ïb–_8
->
	`£tText
("Ğ˜Ğ—Ğ“ĞĞ¢ĞĞ’Ğ˜Ğ¢Ğ•Ğ›Ğ¬:");

33 1: 
ui
->
pushBu‰Ú_3
->
	`£tEÇbËd
(
Œue
);ui->pushBu‰Ú_3->
	`£tVisibË
(true);

34 
ui
->
Ïb–_8
->
	`£tText
("ĞŸĞĞ’Ğ•Ğ Ğ˜Ğ¢Ğ•Ğ›Ğ¬:");

36 :
ui
->
pushBu‰Ú_3
->
	`£tEÇbËd
(
çl£
);ui->pushBu‰Ú_3->
	`£tVisibË
(false);

37 
ui
->
Ïb–_8
->
	`£tText
("ĞĞŸĞ•Ğ ĞĞ¢ĞĞ :");

41 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

43 
QSqlD©aba£
 
db
 = QSqlD©aba£::
	`d©aba£
("myDB");

44 
db
.
	`£tD©aba£Name
("config.db");

45 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

46 
QSqlQu”y
 
	`qu”y
(
db
);

47 
QSŒšg
 
qSŒ
="SELECT *FROM gammaBlock";

48 if(!
qu”y
.
	`exec
(
qSŒ
)){
	`qDebug
()<<"unableƒxecute query SELECT *FROMable gammaBlock";}

49 
QLi¡
<
QSŒšg
> 
¡rLi¡
;

50 
qu”y
.
	`Ãxt
())

52 
¡rLi¡
.
	`­³nd
(
qu”y
.
	`v®ue
("nuşide").
	`toSŒšg
()+" Ğ´Ğ°Ñ‚Ğ° Ğ¿Ğ¾Ğ²ĞµÑ€ĞºĞ¸: "+query.value("VerificationDate").toString());

54 
ui
->
comboBox
->
	`addI‹ms
(
¡rLi¡
);

56 
ui
->
comboBox_4
->
	`addI‹m
("ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ ĞĞ¼Ğ±Ğ¸ĞµĞ½Ñ‚Ğ½Ğ¾Ğ³Ğ¾ Ğ­ĞºĞ²Ğ¸Ğ²Ğ°Ğ»ĞµĞ½Ñ‚Ğ° Ğ”Ğ¾Ğ·Ñ‹");

57 
ui
->
comboBox_4
->
	`addI‹m
("ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ ĞĞ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ Ğ­ĞºĞ²Ğ¸Ğ²Ğ°Ğ»ĞµĞ½Ñ‚Ğ° Ğ”Ğ¾Ğ·Ñ‹");

58 
ui
->
comboBox_4
->
	`addI‹m
("ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ Ğ˜Ğ½Ğ´Ğ¸Ğ²Ğ¸Ğ´ÑƒĞ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ­ĞºĞ²Ğ¸Ğ²Ğ°Ğ»ĞµĞ½Ñ‚Ğ° Ğ”Ğ¾Ğ·Ñ‹");

59 
ui
->
comboBox_4
->
	`addI‹m
("ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ ĞšĞ•Ğ ĞœĞ«");

60 
ui
->
comboBox_4
->
	`addI‹m
("ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ ĞŸĞ¾Ğ³Ğ»Ğ¾Ñ‰ĞµĞ½Ğ½Ğ¾Ğ¹ Ğ”Ğ¾Ğ·Ñ‹");

61 
ui
->
comboBox_4
->
	`addI‹m
("ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ Ğ­ĞºÑĞ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¾Ğ½Ğ½Ğ¾Ğ¹ Ğ”Ğ¾Ğ·Ñ‹");

63 
ui
->
comboBox_3
->
	`ş—r
();

64 
ui
->
comboBox_3
->
	`addI‹m
("Ğ—Ğ²/Ñ");

65 
ui
->
comboBox_3
->
	`addI‹m
("Ğ—Ğ²/Ğ¼Ğ¸Ğ½");

66 
ui
->
comboBox_3
->
	`addI‹m
("Ğ—Ğ²/Ñ‡");

68 
ui
->
¿dioBu‰Ú
->
	`£tChecked
(
Œue
);

69 
ui
->
comboBox_2
->
	`addI‹m
("Ğ ÑƒÑ‡Ğ½Ğ¾Ğ¹");

70 
ui
->
comboBox_2
->
	`addI‹m
("ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹");

71 
ui
->
lšeEd™
->
	`£tText
("20");

72 
ui
->
lšeEd™_2
->
	`£tText
("760");

73 
ui
->
Ïb–_14
->
	`£tText
("101323");

74 
ui
->
lšeEd™_3
->
	`£tText
("1");

75 
ui
->
lšeEd™_4
->
	`£tEÇbËd
(
çl£
);

76 
ui
->
lšeEd™_4
->
	`£tVisibË
(
çl£
);

77 
ui
->
lšeEd™_5
->
	`£tEÇbËd
(
çl£
);

78 
ui
->
lšeEd™_5
->
	`£tVisibË
(
çl£
);

80 
ui
->
lšeEd™
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->lineEdit));

81 
ui
->
lšeEd™_2
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->lineEdit_2));

82 
ui
->
lšeEd™_3
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->lineEdit_3));

84 
ui
->
lšeEd™_5
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->lineEdit_5));

86 
ui
->
lšeEd™_6
->
	`£tEÇbËd
(
çl£
);

87 
ui
->
lšeEd™_6
->
	`£tVisibË
(
çl£
);

88 
ui
->
lšeEd™_7
->
	`£tEÇbËd
(
çl£
);

89 
ui
->
lšeEd™_7
->
	`£tVisibË
(
çl£
);

91 
ui
->
Ïb–_12
->
	`£tVisibË
(
çl£
);

92 
QSŒšg
 
qu”yS1
 = "";

93 
QSŒšg
 
qu”yS
 = "SELECT * FROM fullName";

94 if(!
qu”y
.
	`exec
(
qu”yS
))

95 {
	`qDebug
()<<"unableƒxecute query SELECT";}

96 if(
qu”y
.
	`fœ¡
())

98 
ui
->
Ïb–_9
->
	`£tText
(
qu”y
.
	`v®ue
("suºame").
	`toSŒšg
()+

99 " "+
qu”y
.
	`v®ue
("Çme").
	`toSŒšg
()+

100 " "+
qu”y
.
	`v®ue
("·ŒÚymic").
	`toSŒšg
());

102 
db
.
	`şo£
();

104 
	}
}

107 
	gGamma_BDG_m—suršg
::
	$Ú_pushBu‰Ú_şicked
()

109 
	`şo£
();

110 
	}
}

112 
	gGamma_BDG_m—suršg
::
	$Ú_pushBu‰Ú_3_şicked
()

114 
Temp
=
ui
->
lšeEd™
->
	`‹xt
().
	`toFlßt
();

115 
P
 = 
ui
->
lšeEd™_2
->
	`‹xt
().
	`toFlßt
();

116 
CÜrF
=
ui
->
lšeEd™_3
->
	`‹xt
().
	`toFlßt
();

118 
QSŒšg
 
blockName
=
ui
->
comboBox
->
	`cu¼’tText
();

119 
x
=
blockName
.
	`šdexOf
(" ");

120 
blockName
=blockName.
	`Ëá
(
x
);

122 
qušt8
 
mesP¬am
 = 
	`qušt8
(
ui
->
comboBox_4
->
	`cu¼’tIndex
());

124 
bdg
 = 
Ãw
 
	`Block_BDG
(
Temp
,
P
,
CÜrF
,
blockName
,
mesP¬am
);

125 
	`cÚÃù
(
bdg
,&
Block_BDG
::
”rÜSig
,
this
,&
Gamma_BDG_m—suršg
::
”rÜCÚÃùiÚSlÙ
);

127 
Gamma_BDG_v”ify
* 
gammaBDGv”
 = 
Ãw
 
	`Gamma_BDG_v”ify
(
this
);

128 
	`cÚÃù
(
this
,&
Gamma_BDG_m—suršg
::
”rÜCÚÃùiÚSig
,
gammaBDGv”
,&
Gamma_BDG_v”ify
::
”rÜCÚÃùiÚSlÙ
);

129 
gammaBDGv”
->
	`£tMod®
(
Œue
);

130 
gammaBDGv”
->
	`g‘GammaBlock
(
bdg
);

131 
gammaBDGv”
->
	`show
();

132 
	`qDebug
()<<"gammaBDGver->show();";

134 
	}
}

136 
	gGamma_BDG_m—suršg
::
	$Ú_pushBu‰Ú_2_şicked
()

138 
Temp
=
ui
->
lšeEd™
->
	`‹xt
().
	`toFlßt
();

139 
P
 = 
ui
->
lšeEd™_2
->
	`‹xt
().
	`toFlßt
();

140 
CÜrF
=
ui
->
lšeEd™_3
->
	`‹xt
().
	`toFlßt
();

142 
QSŒšg
 
blockName
=
ui
->
comboBox
->
	`cu¼’tText
();

143 
x
=
blockName
.
	`šdexOf
(" ");

144 
blockName
=blockName.
	`Ëá
(
x
);

146 
qušt8
 
mesP¬am
 = 
	`qušt8
(
ui
->
comboBox_4
->
	`cu¼’tIndex
());

148 
bdg
 = 
Ãw
 
	`Block_BDG
(
Temp
,
P
,
CÜrF
,
blockName
,
mesP¬am
);

149 
	`cÚÃù
(
bdg
,&
Block_BDG
::
”rÜSig
,
this
,&
Gamma_BDG_m—suršg
::
”rÜCÚÃùiÚSlÙ
);

153 
QSŒšg
 
Dim’siÚ
=
ui
->
comboBox_3
->
	`cu¼’tText
();

154 cÚ¡ 
Dim’siÚFÜTime
=
ui
->
comboBox_3
->
	`cu¼’tIndex
();

155 
boŞ
 
Regime
=
ui
->
comboBox_2
->
	`cu¼’tIndex
();

156 cÚ¡ 
ušt
 
TimesAutom©ic
=
ui
->
lšeEd™_6
->
	`‹xt
().
	`toUIÁ
();

157 cÚ¡ 
ušt
 
TimeAutom©ic
=
ui
->
lšeEd™_7
->
	`‹xt
().
	`toUIÁ
();

159 
ušt8_t
 
Th»ashŞd
=0;

160 if(
ui
->
¿dioBu‰Ú
->
	`isChecked
())

161 { 
Th»ashŞd
=0; }

162 if(
ui
->
¿dioBu‰Ú_2
->
	`isChecked
())

163 { 
Th»ashŞd
=1; }

164 if(
ui
->
¿dioBu‰Ú_3
->
	`isChecked
())

165 { 
Th»ashŞd
=2; }

167 cÚ¡ 
ušt
 
TimeTh»ashŞd
 = 
ui
->
lšeEd™_4
->
	`‹xt
().
	`toUIÁ
();

169 
QSŒšg
 
¡r
=
ui
->
lšeEd™_5
->
	`‹xt
();

170 
¡r
.
	`»¶aû
(",",".");

171 cÚ¡ 
Do£Th»ashŞd
=
¡r
.
	`toDoubË
();

173 
Gamma_BDG_m—suršg_m—su»
* 
gammaBDGmesMes
 = 
Ãw
 
	`Gamma_BDG_m—suršg_m—su»
(
this
,
Dim’siÚ
,

174 
Dim’siÚFÜTime
,

175 
Regime
,

176 
TimesAutom©ic
,

177 
TimeAutom©ic
,

178 
Th»ashŞd
,

179 
TimeTh»ashŞd
,

180 
Do£Th»ashŞd
);

181 
	`cÚÃù
(
this
,&
Gamma_BDG_m—suršg
::
”rÜCÚÃùiÚSig
,
gammaBDGmesMes
,&
Gamma_BDG_m—suršg_m—su»
::
”rÜCÚÃùiÚSlÙ
);

182 
gammaBDGmesMes
->
	`£tMod®
(
Œue
);

183 
gammaBDGmesMes
->
	`BDG
(
bdg
);

184 
gammaBDGmesMes
->
	`show
();

186 
	}
}

188 
	gGamma_BDG_m—suršg
::
	$Ú_lšeEd™_2_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
)

190 cÚ¡ 
QSŒšg
 
¡r
=
¬g1
;

191 cÚ¡ 
P
=
¬g1
.
	`toDoubË
();

192 cÚ¡ 
mm_š_Pa
=
P
*133.32;

193 
ui
->
Ïb–_14
->
	`£tText
(
QSŒšg
::
	`numb”
(
mm_š_Pa
,'f',0));

194 
	}
}

196 
	gGamma_BDG_m—suršg
::
	$Ú_comboBox_2_cu¼’tIndexChªged
(
šdex
)

198 if(
šdex
==0)

200 
ui
->
lšeEd™_6
->
	`£tEÇbËd
(
çl£
);

201 
ui
->
lšeEd™_6
->
	`£tVisibË
(
çl£
);

202 
ui
->
lšeEd™_7
->
	`£tEÇbËd
(
çl£
);

203 
ui
->
lšeEd™_7
->
	`£tVisibË
(
çl£
);

204 
ui
->
Ïb–_7
->
	`£tVisibË
(
çl£
);

205 
ui
->
Ïb–_12
->
	`£tVisibË
(
çl£
);

207 
ui
->
¿dioBu‰Ú
->
	`£tChecked
(
Œue
);

208 
ui
->
¿dioBu‰Ú_2
->
	`£tEÇbËd
(
Œue
);

209 
ui
->
¿dioBu‰Ú_3
->
	`£tEÇbËd
(
Œue
);

212 if(
šdex
==1)

214 
ui
->
lšeEd™_6
->
	`£tEÇbËd
(
Œue
);

215 
ui
->
lšeEd™_6
->
	`£tVisibË
(
Œue
);

216 
ui
->
lšeEd™_7
->
	`£tEÇbËd
(
Œue
);

217 
ui
->
lšeEd™_7
->
	`£tVisibË
(
Œue
);

218 
ui
->
Ïb–_7
->
	`£tVisibË
(
Œue
);

219 
ui
->
Ïb–_12
->
	`£tVisibË
(
Œue
);

220 
ui
->
¿dioBu‰Ú
->
	`£tChecked
(
Œue
);

221 
ui
->
¿dioBu‰Ú_2
->
	`£tEÇbËd
(
çl£
);

222 
ui
->
¿dioBu‰Ú_3
->
	`£tEÇbËd
(
çl£
);

223 
ui
->
lšeEd™_4
->
	`£tVisibË
(
çl£
);

224 
ui
->
lšeEd™_5
->
	`£tVisibË
(
çl£
);

226 
	}
}

228 
	gGamma_BDG_m—suršg
::
	$Ú_¿dioBu‰Ú_2_şicked
()

230 
ui
->
lšeEd™_4
->
	`£tEÇbËd
(
Œue
);

231 
ui
->
lšeEd™_4
->
	`£tVisibË
(
Œue
);

232 
ui
->
lšeEd™_5
->
	`£tEÇbËd
(
çl£
);

233 
ui
->
lšeEd™_5
->
	`£tVisibË
(
çl£
);

234 
	}
}

236 
	gGamma_BDG_m—suršg
::
	$Ú_¿dioBu‰Ú_3_şicked
()

238 
ui
->
lšeEd™_4
->
	`£tEÇbËd
(
çl£
);

239 
ui
->
lšeEd™_4
->
	`£tVisibË
(
çl£
);

240 
ui
->
lšeEd™_5
->
	`£tEÇbËd
(
Œue
);

241 
ui
->
lšeEd™_5
->
	`£tVisibË
(
Œue
);

242 
	}
}

244 
	gGamma_BDG_m—suršg
::
	$Ú_¿dioBu‰Ú_şicked
()

246 
ui
->
lšeEd™_4
->
	`£tEÇbËd
(
çl£
);

247 
ui
->
lšeEd™_4
->
	`£tVisibË
(
çl£
);

248 
ui
->
lšeEd™_5
->
	`£tEÇbËd
(
çl£
);

249 
ui
->
lšeEd™_5
->
	`£tVisibË
(
çl£
);

250 
	}
}

252 
	gGamma_BDG_m—suršg
::
	$Ú_comboBox_4_cu¼’tIndexChªged
(
šdex
)

254 
šdex
)

257 
ui
->
comboBox_3
->
	`ş—r
();

258 
ui
->
comboBox_3
->
	`addI‹m
("Ğ—Ğ²/Ñ");

259 
ui
->
comboBox_3
->
	`addI‹m
("Ğ—Ğ²/Ğ¼Ğ¸Ğ½");

260 
ui
->
comboBox_3
->
	`addI‹m
("Ğ—Ğ²/Ñ‡");

261 
ui
->
¿dioBu‰Ú_3
->
	`£tText
("Ğ¿Ğ¾ Ğ´Ğ¾Ğ·Ğµ, Ğ¼Ğ—Ğ²");

264 
ui
->
comboBox_3
->
	`ş—r
();

265 
ui
->
comboBox_3
->
	`addI‹m
("Ğ—Ğ²/Ñ");

266 
ui
->
comboBox_3
->
	`addI‹m
("Ğ—Ğ²/Ğ¼Ğ¸Ğ½");

267 
ui
->
comboBox_3
->
	`addI‹m
("Ğ—Ğ²/Ñ‡");

268 
ui
->
¿dioBu‰Ú_3
->
	`£tText
("Ğ¿Ğ¾ Ğ´Ğ¾Ğ·Ğµ, Ğ¼Ğ—Ğ²");

271 
ui
->
comboBox_3
->
	`ş—r
();

272 
ui
->
comboBox_3
->
	`addI‹m
("Ğ—Ğ²/Ñ");

273 
ui
->
comboBox_3
->
	`addI‹m
("Ğ—Ğ²/Ğ¼Ğ¸Ğ½");

274 
ui
->
comboBox_3
->
	`addI‹m
("Ğ—Ğ²/Ñ‡");

275 
ui
->
¿dioBu‰Ú_3
->
	`£tText
("Ğ¿Ğ¾ Ğ´Ğ¾Ğ·Ğµ, Ğ¼Ğ—Ğ²");

278 
ui
->
comboBox_3
->
	`ş—r
();

279 
ui
->
comboBox_3
->
	`addI‹m
("Ğ“Ñ€/Ñ");

280 
ui
->
comboBox_3
->
	`addI‹m
("Ğ“Ñ€/Ğ¼Ğ¸Ğ½");

281 
ui
->
comboBox_3
->
	`addI‹m
("Ğ“Ñ€/Ñ‡");

282 
ui
->
¿dioBu‰Ú_3
->
	`£tText
("Ğ¿Ğ¾ Ğ´Ğ¾Ğ·Ğµ, Ğ¼Ğ“Ñ€");

285 
ui
->
comboBox_3
->
	`ş—r
();

286 
ui
->
comboBox_3
->
	`addI‹m
("Ğ“Ñ€/Ñ");

287 
ui
->
comboBox_3
->
	`addI‹m
("Ğ“Ñ€/Ğ¼Ğ¸Ğ½");

288 
ui
->
comboBox_3
->
	`addI‹m
("Ğ“Ñ€/Ñ‡");

289 
ui
->
¿dioBu‰Ú_3
->
	`£tText
("Ğ¿Ğ¾ Ğ´Ğ¾Ğ·Ğµ, Ğ¼Ğ“Ñ€");

292 
ui
->
comboBox_3
->
	`ş—r
();

293 
ui
->
comboBox_3
->
	`addI‹m
("Ğ /Ñ");

294 
ui
->
comboBox_3
->
	`addI‹m
("Ğ /Ğ¼Ğ¸Ğ½");

295 
ui
->
comboBox_3
->
	`addI‹m
("Ğ /Ñ‡");

296 
ui
->
¿dioBu‰Ú_3
->
	`£tText
("Ğ¿Ğ¾ Ğ´Ğ¾Ğ·Ğµ, Ğ¼Ğ ");

300 
	}
}

303 
	gGamma_BDG_m—suršg
::
	$”rÜCÚÃùiÚSlÙ
()

305 
em™
 
	`”rÜCÚÃùiÚSig
();

306 
	`qDebug
()<<"ERROR signal„ecieved";

307 
	}
}

	@gamma_bdg_measuring.h

1 #iâdeà
GAMMA_BDG_MEASURING_H


2 
	#GAMMA_BDG_MEASURING_H


	)

4 
	~"gamma_bdg_v”ify.h
"

5 
	~"gamma_bdg_m—suršg_m—su».h
"

6 
	~"block_bdg.h
"

8 
	~<QDŸlog
>

10 
Çme¥aû
 
	gUi
 {

11 
şass
 
	gGamma_BDG_m—suršg
;

14 şas 
	cGamma_BDG_m—suršg
 : 
public
 
QDŸlog


16 
Q_OBJECT


18 
public
:

19 
ex¶ic™
 
Gamma_BDG_m—suršg
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
);

20 ~
Gamma_BDG_m—suršg
();

24 
	msigÇls
:

25 
”rÜCÚÃùiÚSig
();

27 
public
 
	m¦Ùs
:

28 
”rÜCÚÃùiÚSlÙ
();

30 
´iv©e
 
	m¦Ùs
:

31 
Ú_pushBu‰Ú_şicked
();

33 
Ú_pushBu‰Ú_3_şicked
();

35 
Ú_pushBu‰Ú_2_şicked
();

37 
Ú_lšeEd™_2_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
);

39 
Ú_comboBox_2_cu¼’tIndexChªged
(
šdex
);

41 
Ú_¿dioBu‰Ú_2_şicked
();

43 
Ú_¿dioBu‰Ú_3_şicked
();

45 
Ú_¿dioBu‰Ú_şicked
();

47 
Ú_comboBox_4_cu¼’tIndexChªged
(
šdex
);

49 
	m´iv©e
:

50 
Ui
::
Gamma_BDG_m—suršg
 *
ui
;

51 
Block_BDG
* 
	mbdg
{
	mnuÎ±r
};

53 
š™
();

	@gamma_bdg_measuring_measure.cpp

3 
	~"gamma_bdg_m—suršg_m—su».h
"

4 
	~"ui_gamma_bdg_m—suršg_m—su».h
"

6 
	gGamma_BDG_m—suršg_m—su»
::
	$Gamma_BDG_m—suršg_m—su»
(
QWidg‘
 *
·»Á
,cÚ¡ 
QSŒšg
 
dim’siÚ
,

7 cÚ¡ 
dim’siÚFÜTime
,

8 
boŞ
 
»gime
, cÚ¡ 
ušt
 
timesAutom©ic
,

9 cÚ¡ 
ušt
 
timeAutom©ic
, cÚ¡ 
ušt8_t
 
th»ashŞd
,

10 cÚ¡ 
ušt
 
timeTh»ashŞd
, cÚ¡ 
do£Th»ashŞd
)

12 
	`QDŸlog
(
·»Á
),

13 
	`Ab¡¿ù_m—su»m’t_m—su»m’t
(
dim’siÚ
, 
dim’siÚFÜTime
,
»gime
,

14 
timesAutom©ic
, 
timeAutom©ic
,

15 
th»ashŞd
, 
timeTh»ashŞd
, 
do£Th»ashŞd
),

16 
	$ui
(
Ãw
 
Ui
::
Gamma_BDG_m—suršg_m—su»
)

18 
ui
->
	`£tupUi
(
this
);

19 
	`š™
();

20 
	}
}

22 
	gGamma_BDG_m—suršg_m—su»
::~
	$Gamma_BDG_m—suršg_m—su»
()

24 
d–‘e
 
tim”
;

25 
d–‘e
 
blockBDG
;

27 
d–‘e
 
ui
;

28 
	}
}

30 
	gGamma_BDG_m—suršg_m—su»
::
	$š™
()

32 
this
->
	`£tA‰ribu‹
(
Qt
::
WA_D–‘eOnClo£
);

33 
	`£tWšdowT™Ë
("Ğ“Ğ°Ğ¼Ğ¼Ğ° Ğ¸Ğ·Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ - Ğ‘Ğ”Ğ“ - Ğ¸Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ğµ");

34 
ui
->
Ïb–_22
->
	`£tStyËSh“t
("font-size:100px; color:„ed;");

35 
ui
->
Ïb–_25
->
	`£tStyËSh“t
("font-size:100px; color:„ed;");

36 
ui
->
Ïb–_21
->
	`£tStyËSh“t
("font-size:50px; color: yellow;");

37 
ui
->
Ïb–_3
->
	`£tStyËSh“t
("font-size:50px; color: cyan;");

39 
ui
->
Ïb–_11
->
	`£tStyËSh“t
("font-size:20px; color: yellow;");

40 
tim”
 = 
Ãw
 
	`QTim”
(
this
);

41 
	`cÚÃù
(
tim”
,&
QTim”
::
timeout
,
this
,&
Gamma_BDG_m—suršg_m—su»
::
timeOut
);

52 if(
Regime
==
Œue
&&
TimeAutom©ic
!=0&&
TimesAutom©ic
!=0)

54 
ui
->
Ïb–_11
->
	`£tText
("ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹");

55 
ui
->
Ïb–_12
->
	`£tText
("ĞĞ¾Ğ¼ĞµÑ€");

56 
ui
->
Ïb–_13
->
	`£tText
("0");

57 
ui
->
Ïb–_14
->
	`£tText
("Ğ¸Ğ·");

58 
ui
->
Ïb–_15
->
	`£tText
(
QSŒšg
::
	`numb”
(
TimesAutom©ic
));

59 
ui
->
Ïb–_16
->
	`£tText
("Ğ²Ñ€ĞµĞ¼Ñ");

60 
ui
->
Ïb–_17
->
	`£tText
("0");

61 
ui
->
Ïb–_18
->
	`£tText
("Ğ¿Ğ¾Ñ€Ğ¾Ğ³ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸");

62 
ui
->
Ïb–_19
->
	`£tText
(
QSŒšg
::
	`numb”
(
TimeAutom©ic
));

66 
ui
->
Ïb–_11
->
	`£tText
("Ğ ÑƒÑ‡Ğ½Ğ¾Ğ¹");

67 
ui
->
Ïb–_12
->
	`£tText
("");

68 
ui
->
Ïb–_13
->
	`£tText
("");

69 
ui
->
Ïb–_14
->
	`£tText
("");

70 
ui
->
Ïb–_15
->
	`£tText
("");

71 
ui
->
Ïb–_16
->
	`£tText
("");

72 
ui
->
Ïb–_17
->
	`£tText
("");

73 
ui
->
Ïb–_18
->
	`£tText
("");

74 
ui
->
Ïb–_19
->
	`£tText
("");

76 
	}
}

78 
	gGamma_BDG_m—suršg_m—su»
::
	$autoModeResuÉ
(
Av”ageDo£R©e
, 
Do£R©e_devŸtiÚ_av”age
,

79 
Av”ageDo£
, 
Do£_devŸtiÚ_av”age
)

82 
autoIn™Ÿliz©iÚ
 ="Ğ“Ğ°Ğ¼Ğ¼Ğ° Ğ¸Ğ·Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ, Ğ±Ğ»Ğ¾Ğº Ğ‘Ğ”Ğ“\n" + 
blockName
 +

83 "\nĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ¸Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ğ¹: "+
QSŒšg
::
	`numb”
(
TimesAutom©ic
) +

84 "\nĞ’Ñ€ĞµĞ¼Ñ Ğ¸Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ğ¹: "+
QSŒšg
::
	`numb”
(
TimeAutom©ic
)+" c";

85 
autoResuÉ
 = 
Ãw
 
	`Auto_m—su»m’t_»suÉ
(
this
,
V®ue
,
IÁeg¿lV®ue
,
autoIn™Ÿliz©iÚ
);

86 
autoResuÉ
->
	`£tMod®
(
Œue
);

87 
	`do£To4
(
Av”ageDo£R©e
,
Dim’siÚ
,
autoResuÉ
->
avDo£R©e
,autoResuÉ->
avDo£R©eDim’siÚ
);

88 
	`do£To4
(
Av”ageDo£
,
Dim’siÚDo£
,
autoResuÉ
->
avDo£
,autoResuÉ->
avDo£Dim’siÚ
);

89 
autoResuÉ
->
avDo£R©eDevŸtiÚ
->
	`£tText
(
QSŒšg
::
	`numb”
(
Do£R©e_devŸtiÚ_av”age
) +" %");

90 
autoResuÉ
->
avDo£DevŸtiÚ
->
	`£tText
(
QSŒšg
::
	`numb”
(
Do£_devŸtiÚ_av”age
) +" %");

91 
autoResuÉ
->
	`show
();

92 
	}
}

94 
	gGamma_BDG_m—suršg_m—su»
::
	$Ú_pushBu‰Ú_şicked
()

96 
	`şo£
();

97 
	}
}

99 
	gGamma_BDG_m—suršg_m—su»
::
	$timeOut
()

102 
time
++;

103 
ui
->
Ïb–_3
->
	`£tText
(
QSŒšg
::
	`numb”
(
time
) + " c");

105 
do£R©e
 = (
blockBDG
->
	`g‘Do£R©eGamma
());

107 
cu¼’tDo£R©e
 = 
do£R©e
*
timeCÛf
;

108 
	`do£To4
(
cu¼’tDo£R©e
,
Dim’siÚ
,
ui
->
Ïb–_9
,ui->
Ïb–_2
);

114 
do£
+=
do£R©e
;

115 
do£FÜAuto
+=
do£R©e
;

116 
	`do£To4
(
do£
,
Dim’siÚDo£
,
ui
->
Ïb–_8
,ui->
Ïb–_7
);

119 
avDo£R©e
=(
do£FÜAuto
/
time
)*
timeCÛf
;

121 
	`do£To4
(
avDo£R©e
,
Dim’siÚ
,
ui
->
Ïb–_22
,ui->
Ïb–_25
);

122 
Ùkl
+=
do£R©e
*do£R©e*
timeCÛf
*timeCoef;

123 if(
time
>0)

125 
z
=
	`sq¹
((
Ùkl
/
time
)-
avDo£R©e
*avDoseRate);

133 
Snd¬dDevŸtiÚ
=
¡d
::
	`abs
(
z
/
avDo£R©e
);

134 
ui
->
Ïb–_20
->
	`£tText
(
QSŒšg
::
	`numb”
(
Snd¬dDevŸtiÚ
*100,'f',3)+" %");

137 if(
Regime
==
Œue
&&
TimeAutom©ic
!=0&&
TimesAutom©ic
!=0)

139 
	`autoMode
(
do£
,
tim”
,
ui
->
Ïb–_17
,ui->
Ïb–_13
);

144 
	`timeTh»ashŞd
(
time
,
ui
->
Ïb–_21
,
tim”
);

145 
	`do£Th»ashŞd
(
do£
,
ui
->
Ïb–_21
,
tim”
);

147 
	}
}

149 
	gGamma_BDG_m—suršg_m—su»
::
	$BDG
(
Block_BDG
 *
poš‹r
)

151 
blockBDG
=
poš‹r
;

152 
blockName
=
blockBDG
->
	`g‘BlockName
();

153 
ui
->
Ïb–_5
->
	`£tText
(
blockName
);

154 
blockBDG
->
	`g‘MesP¬am
())

157 
V®ue
="ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ ĞĞ¼Ğ±Ğ¸ĞµĞ½Ñ‚Ğ½Ğ¾Ğ³Ğ¾ Ğ­ĞºĞ²Ğ¸Ğ²Ğ°Ğ»ĞµĞ½Ñ‚Ğ° Ğ”Ğ¾Ğ·Ñ‹";

158 
IÁeg¿lV®ue
 = "ĞĞ¼Ğ±Ğ¸ĞµĞ½Ñ‚Ğ½Ñ‹Ğ¹ Ğ­ĞºĞ²Ğ¸Ğ²Ğ°Ğ»ĞµĞ½Ñ‚ Ğ”Ğ¾Ğ·Ñ‹";;

160 
V®ue
="ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ ĞĞ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ Ğ­ĞºĞ²Ğ¸Ğ²Ğ°Ğ»ĞµĞ½Ñ‚Ğ° Ğ”Ğ¾Ğ·Ñ‹";

161 
IÁeg¿lV®ue
 = "ĞĞ°Ğ¿Ñ€Ğ²Ğ»ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ­ĞºĞ²Ğ¸Ğ²Ğ°Ğ»ĞµĞ½Ñ‚ Ğ”Ğ¾Ğ·Ñ‹";;

163 
V®ue
="ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ Ğ˜Ğ½Ğ´Ğ¸Ğ²Ğ¸Ğ´ÑƒĞ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ­ĞºĞ²Ğ¸Ğ²Ğ°Ğ»ĞµĞ½Ñ‚Ğ° Ğ”Ğ¾Ğ·Ñ‹";

164 
IÁeg¿lV®ue
 = "Ğ˜Ğ½Ğ´Ğ¸Ğ²Ğ¸Ğ´ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ­ĞºĞ²Ğ¸Ğ²Ğ°Ğ»ĞµĞ½Ñ‚ Ğ”Ğ¾Ğ·Ñ‹";;

166 
V®ue
="ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ ĞšĞ•Ğ ĞœĞ«";

167 
IÁeg¿lV®ue
 = "ĞšĞ•Ğ ĞœĞ";;

169 
V®ue
="ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ ĞŸĞ¾Ğ³Ğ»Ğ¾Ñ‰ĞµĞ½Ğ½Ğ¾Ğ¹ Ğ”Ğ¾Ğ·Ñ‹";

170 
IÁeg¿lV®ue
 = "ĞŸĞ¾Ğ³Ğ»Ğ¾Ñ‰ĞµĞ½Ğ½Ğ°Ñ Ğ”Ğ¾Ğ·Ğ°";;

172 
V®ue
="ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ Ğ­ĞºÑĞ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¾Ğ½Ğ½Ğ¾Ğ¹ Ğ”Ğ¾Ğ·Ñ‹";

173 
IÁeg¿lV®ue
 = "Ğ­ĞºÑĞ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¾Ğ½Ğ½Ğ°Ñ Ğ”Ğ¾Ğ·Ñ‹";;

175 
ui
->
Ïb–
->
	`£tText
(
V®ue
);

176 
ui
->
Ïb–_6
->
	`£tText
(
IÁeg¿lV®ue
);

177 
	}
}

179 
	gGamma_BDG_m—suršg_m—su»
::
	$Ú_pushBu‰Ú_2_şicked
()

181 
ui
->
pushBu‰Ú_2
->
	`£tEÇbËd
(
çl£
);

182 
ui
->
pushBu‰Ú
->
	`£tEÇbËd
(
çl£
);

183 
ui
->
pushBu‰Ú_2
->
	`£tVisibË
(
çl£
);

184 
ui
->
pushBu‰Ú
->
	`£tVisibË
(
çl£
);

186 
tim”
->
	`¡¬t
(1000);

187 
time
=0;

188 
ui
->
Ïb–_3
->
	`£tText
(
QSŒšg
::
	`numb”
(
time
));

189 
do£
=0;

190 
Ùkl
=0;

191 
do£FÜAuto
=0;

192 
ui
->
Ïb–_21
->
	`£tText
("");

193 
	}
}

195 
	gGamma_BDG_m—suršg_m—su»
::
	$Ú_pushBu‰Ú_3_şicked
()

197 
ui
->
pushBu‰Ú_2
->
	`£tEÇbËd
(
Œue
);

198 
ui
->
pushBu‰Ú
->
	`£tEÇbËd
(
Œue
);

199 
ui
->
pushBu‰Ú_2
->
	`£tVisibË
(
Œue
);

200 
ui
->
pushBu‰Ú
->
	`£tVisibË
(
Œue
);

201 
tim”
->
	`¡İ
();

202 
	}
}

204 
	gGamma_BDG_m—suršg_m—su»
::
	$”rÜCÚÃùiÚSlÙ
()

206 
QMes§geBox
::
	`w¬nšg
(
this
, "ĞÑˆĞ¸Ğ±ĞºĞ°","ĞÑˆĞ¸Ğ±ĞºĞ° Ğ² Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğ¸");

207 
	`şo£
();

208 
	}
}

	@gamma_bdg_measuring_measure.h

1 #iâdeà
GAMMA_BDG_MEASURING_MEASURE_H


2 
	#GAMMA_BDG_MEASURING_MEASURE_H


	)

4 
	~"block_bdg.h
"

5 
	~"auto_m—su»m’t_»suÉ.h
"

6 
	~"ab¡¿ù_m—su»m’t_m—su»m’t.h
"

9 
	~<QDŸlog
>

10 
	~<QLab–
>

11 
	~<QTim”
>

12 
	~<QMes§geBox
>

14 
Çme¥aû
 
	gUi
 {

15 
şass
 
	gGamma_BDG_m—suršg_m—su»
;

18 
şass
 
	gGamma_BDG_m—suršg_m—su»
 : 
public
 
QDŸlog
,…ubliø
	gAb¡¿ù_m—su»m’t_m—su»m’t


20 
Q_OBJECT


22 
	gpublic
:

23 
ex¶ic™
 
Gamma_BDG_m—suršg_m—su»
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
,cÚ¡ 
QSŒšg
 
dim’siÚ
=nullptr,

24 cÚ¡ 
dim’siÚFÜTime
=0,

25 
boŞ
 
»gime
=0, cÚ¡ 
ušt
 
timesAutom©ic
=0,

26 cÚ¡ 
ušt
 
timeAutom©ic
=0, cÚ¡ 
ušt8_t
 
th»ashŞd
=0,

27 cÚ¡ 
ušt
 
timeTh»ashŞd
=0, cÚ¡ 
do£Th»ashŞd
=0);

28 ~
Gamma_BDG_m—suršg_m—su»
(è
	gov”ride
;

30 
public
 
	g¦Ùs
:

31 
”rÜCÚÃùiÚSlÙ
();

33 
´iv©e
 
	g¦Ùs
:

34 
timeOut
();

35 
Ú_pushBu‰Ú_şicked
();

38 
Ú_pushBu‰Ú_2_şicked
();

40 
Ú_pushBu‰Ú_3_şicked
();

42 
	gpublic
:

43 
BDG
(
Block_BDG
*);

45 
	g´iv©e
:

46 
Ui
::
Gamma_BDG_m—suršg_m—su»
 *
ui
;

47 
Block_BDG
* 
	gblockBDG
{
	gnuÎ±r
};

48 
QTim”
* 
	gtim”
{
	gnuÎ±r
};

49 
Auto_m—su»m’t_»suÉ
* 
	gautoResuÉ
{
	gnuÎ±r
};

51 
š™
();

52 
autoModeResuÉ
(,,,è
	gov”ride
;

54 
	gdo£R©e
{0};

55 
	gdo£
{0};

57 
ulÚg
 
	gtime
{0};

59 
QSŒšg
 
	gblockName
{""};

60 
QSŒšg
 
	gV®ue
{""};

61 
QSŒšg
 
	gIÁeg¿lV®ue
{""};

	@gamma_bdg_test.cpp

3 
	~"gamma_bdg_‹¡.h
"

4 
	~"ui_gamma_bdg_‹¡.h
"

6 
	gGamma_BDG_‹¡
::
	$Gamma_BDG_‹¡
(
QWidg‘
 *
·»Á
) :

7 
	`QDŸlog
(
·»Á
),

8 
	$ui
(
Ãw
 
Ui
::
Gamma_BDG_‹¡
)

10 
ui
->
	`£tupUi
(
this
);

11 
	`š™
();

12 
	}
}

14 
	gGamma_BDG_‹¡
::~
	$Gamma_BDG_‹¡
()

16 
d–‘e
 
bdg
;

17 
	`qDebug
()<<"~Gamma_BDG_test()";

18 
	}
}

20 
	gGamma_BDG_‹¡
::
	$š™
()

22 
	`£tWšdowT™Ë
("Ğ“Ğ°Ğ¼Ğ¼Ğ° Ğ¸Ğ·Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ - Ğ‘Ğ”Ğ“ - Ñ‚ĞµÑÑ‚ Ğ¾Ğ±Ğ¾Ñ€ÑƒĞ´Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ");

23 
this
->
	`£tA‰ribu‹
(
Qt
::
WA_D–‘eOnClo£
);

24 
ui
->
Ïb–
->
	`£tText
("");

25 
	`‹¡
();

26 
QTim”
::
	`sšgËShÙ
(2000,
this
,
	`SLOT
(
	`‹¡Pas£dSlÙ
()));

27 
	}
}

29 
	gGamma_BDG_‹¡
::
	$‹¡
()

31 
bdg
 = 
Ãw
 
Block_BDG
;

32 
	`cÚÃù
(
bdg
,&
Block_BDG
::
”rÜSig
,
this
,&
Gamma_BDG_‹¡
::
”rÜCÚÃùiÚSlÙ
);

33 
	}
}

34 
	gGamma_BDG_‹¡
::
	$”rÜCÚÃùiÚSlÙ
()

38 
Pas£d
=
çl£
;

39 
ui
->
Ïb–
->
	`£tText
("Ğ¢ĞµÑÑ‚ Ğ½Ğµ Ğ¿Ñ€Ğ¾Ğ¹Ğ´ĞµĞ½, Ğ¾ÑˆĞ¸Ğ±ĞºĞ° Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ");

40 
	}
}

42 
	gGamma_BDG_‹¡
::
	$‹¡Pas£dSlÙ
()

44 if(
Pas£d
)

45 {
ui
->
Ïb–
->
	`£tText
("Ğ¢ĞµÑÑ‚ ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾ Ğ¿Ñ€Ğ¾Ğ¹Ğ´ĞµĞ½");}

46 
	}
}

48 
	gGamma_BDG_‹¡
::
	$Ú_pushBu‰Ú_şicked
()

50 
	`şo£
();

51 
	}
}

	@gamma_bdg_test.h

1 #iâdeà
GAMMA_BDG_TEST_H


2 
	#GAMMA_BDG_TEST_H


	)

4 
	~"modbus_emuÏtÜ.h
"

5 
	~"av”agemodbus.h
"

6 
	~"iblock.h
"

7 
	~"rs485.h
"

9 
	~"–eùrom‘”_‹¡_»suÉ.h
"

10 
	~"block_bdg.h
"

12 
	~<QDŸlog
>

13 
	~<QTh»ad
>

15 
Çme¥aû
 
	gUi
 {

16 
şass
 
	gGamma_BDG_‹¡
;

19 şas 
	cGamma_BDG_‹¡
 : 
public
 
QDŸlog


21 
Q_OBJECT


23 
public
:

24 
ex¶ic™
 
Gamma_BDG_‹¡
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
);

25 ~
Gamma_BDG_‹¡
();

27 
´iv©e
 
	m¦Ùs
:

28 
Ú_pushBu‰Ú_şicked
();

29 
”rÜCÚÃùiÚSlÙ
();

30 
‹¡Pas£dSlÙ
();

32 
	m´iv©e
:

33 
Ui
::
Gamma_BDG_‹¡
 *
ui
;

34 
Block_BDG
* 
	mbdg
{
	mnuÎ±r
};

35 
š™
();

36 
‹¡
();

38 
boŞ
 
	gPas£d
=
Œue
;

	@gamma_bdg_verify.cpp

3 
	~"gamma_bdg_v”ify.h
"

4 
	~"ui_gamma_bdg_v”ify.h
"

6 
	gGamma_BDG_v”ify
::
	$Gamma_BDG_v”ify
(
QWidg‘
 *
·»Á
) :

7 
	`QDŸlog
(
·»Á
),

8 
	$ui
(
Ãw
 
Ui
::
Gamma_BDG_v”ify
)

10 
ui
->
	`£tupUi
(
this
);

11 
	`š™
();

12 
	}
}

14 
	gGamma_BDG_v”ify
::~
	$Gamma_BDG_v”ify
()

16 
d–‘e
 
tim”
;

17 
	`qDebug
()<<"deleteimer";

18 
d–‘e
 
¡¬tTim”
;

19 
	`qDebug
()<<"delete startTimer";

20 
d–‘e
 
bdg
;

21 
	`qDebug
()<<"delete bdg";

22 
d–‘e
 
ui
;

23 
	`qDebug
()<<"delete ui";

24 
	}
}

26 
	gGamma_BDG_v”ify
::
	$š™
()

28 
	`£tWšdowT™Ë
("Ğ“Ğ°Ğ¼Ğ¼Ğ° Ğ¸Ğ·Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ - Ğ±Ğ»Ğ¾Ğº Ğ‘Ğ”Ğ“ - ĞºĞ°Ğ»Ğ¸Ğ±Ñ€Ğ¾Ğ²ĞºĞ°");

29 
this
->
	`£tA‰ribu‹
(
Qt
::
WA_D–‘eOnClo£
);

31 
ui
->
Ïb–
->
	`£tStyËSh“t
("font-size:100px; color:„ed;");

32 
ui
->
Ïb–_2
->
	`£tStyËSh“t
("font-size:50px; color:„ed;");

33 
ui
->
Ïb–_3
->
	`£tStyËSh“t
("font-size:50px; color: cyan;");

34 
ui
->
lšeEd™
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->lineEdit));

36 
ui
->
lšeEd™_2
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->lineEdit_2));

39 
tim”
 = 
Ãw
 
	`QTim”
(
this
);

40 
	`cÚÃù
(
tim”
,&
QTim”
::
timeout
,
this
,&
Gamma_BDG_v”ify
::
timeOut
);

41 
¡¬tTim”
 = 
Ãw
 
	`QTim”
(
this
);

42 
	`cÚÃù
(
¡¬tTim”
,&
QTim”
::
timeout
,
this
,&
Gamma_BDG_v”ify
::
¡¬tTimeOut
);

43 
	}
}

45 
	gGamma_BDG_v”ify
::
	$g‘GammaBlock
(
Block_BDG
* 
b
)

47 
bdg
=
b
;

48 
ui
->
Ïb–_4
->
	`£tText
(
bdg
->
	`g‘BlockName
());

49 
MesP¬am
 = 
bdg
->
	`g‘MesP¬am
();

50 
chamb”Name
 = 
bdg
->
	`g‘BlockName
();

51 if(
MesP¬am
==0)

53 
ui
->
Ïb–_9
->
	`£tText
("ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ ĞĞ¼Ğ±Ğ¸ĞµĞ½Ñ‚Ğ½Ğ¾Ğ³Ğ¾ Ğ­ĞºĞ²Ğ¸Ğ²Ğ°Ğ»ĞµĞ½Ñ‚Ğ° Ğ”Ğ¾Ğ·Ñ‹");

54 
ui
->
comboBox
->
	`addI‹m
("Ğ—Ğ²/Ñ");

55 
ui
->
comboBox
->
	`addI‹m
("Ğ¼Ğ—Ğ²/Ñ");

56 
ui
->
comboBox
->
	`addI‹m
("Ğ¼ĞºĞ—Ğ²/Ñ");

57 
ui
->
comboBox
->
	`addI‹m
("Ğ—Ğ²/Ñ‡");

58 
ui
->
comboBox
->
	`addI‹m
("Ğ¼Ğ—Ğ²/Ñ‡");

59 
ui
->
comboBox
->
	`addI‹m
("Ğ¼ĞºĞ—Ğ²/Ñ‡");

60 
ui
->
Ïb–_6
->
	`£tText
("Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ ĞœĞĞ­Ğ”");

61 
ui
->
Ïb–_7
->
	`£tText
("Ğ§ÑƒĞ²ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ, (Ğ¸Ğ¼Ğ¿/Ñ)/(Ğ—Ğ²/Ñ)");

63 if(
MesP¬am
==1)

65 
ui
->
Ïb–_9
->
	`£tText
("ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ Ğ˜Ğ½Ğ´Ğ¸Ğ²Ğ¸Ğ´ÑƒĞ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ­ĞºĞ²Ğ¸Ğ²Ğ°Ğ»ĞµĞ½Ñ‚Ğ° Ğ”Ğ¾Ğ·Ñ‹");

66 
ui
->
comboBox
->
	`addI‹m
("Ğ—Ğ²/Ñ");

67 
ui
->
comboBox
->
	`addI‹m
("Ğ¼Ğ—Ğ²/Ñ");

68 
ui
->
comboBox
->
	`addI‹m
("Ğ¼ĞºĞ—Ğ²/Ñ");

69 
ui
->
comboBox
->
	`addI‹m
("Ğ—Ğ²/Ñ‡");

70 
ui
->
comboBox
->
	`addI‹m
("Ğ¼Ğ—Ğ²/Ñ‡");

71 
ui
->
comboBox
->
	`addI‹m
("Ğ¼ĞºĞ—Ğ²/Ñ‡");

72 
ui
->
Ïb–_6
->
	`£tText
("Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ ĞœĞ˜Ğ­Ğ”");

73 
ui
->
Ïb–_7
->
	`£tText
("Ğ§ÑƒĞ²ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ, (Ğ¸Ğ¼Ğ¿/Ñ)/(Ğ—Ğ²/Ñ)");

75 if(
MesP¬am
==2)

77 
ui
->
Ïb–_9
->
	`£tText
("ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ ĞĞ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ Ğ­ĞºĞ²Ğ¸Ğ²Ğ°Ğ»ĞµĞ½Ñ‚Ğ° Ğ”Ğ¾Ğ·Ñ‹");

78 
ui
->
comboBox
->
	`addI‹m
("Ğ—Ğ²/Ñ");

79 
ui
->
comboBox
->
	`addI‹m
("Ğ¼Ğ—Ğ²/Ñ");

80 
ui
->
comboBox
->
	`addI‹m
("Ğ¼ĞºĞ—Ğ²/Ñ");

81 
ui
->
comboBox
->
	`addI‹m
("Ğ—Ğ²/Ñ‡");

82 
ui
->
comboBox
->
	`addI‹m
("Ğ¼Ğ—Ğ²/Ñ‡");

83 
ui
->
comboBox
->
	`addI‹m
("Ğ¼ĞºĞ—Ğ²/Ñ‡");

84 
ui
->
Ïb–_6
->
	`£tText
("Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ ĞœĞĞ­Ğ”");

85 
ui
->
Ïb–_7
->
	`£tText
("Ğ§ÑƒĞ²ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ, (Ğ¸Ğ¼Ğ¿/Ñ)/(Ğ—Ğ²/Ñ)");

87 if(
MesP¬am
==3)

89 
ui
->
Ïb–_9
->
	`£tText
("ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ ĞšĞµÑ€Ğ¼Ñ‹");

90 
ui
->
comboBox
->
	`addI‹m
("Ğ“Ñ€/Ñ");

91 
ui
->
comboBox
->
	`addI‹m
("Ğ¼Ğ“Ñ€/Ñ");

92 
ui
->
comboBox
->
	`addI‹m
("Ğ¼ĞºĞ“Ñ€/Ñ");

93 
ui
->
comboBox
->
	`addI‹m
("Ğ“Ñ€/Ñ‡");

94 
ui
->
comboBox
->
	`addI‹m
("Ğ¼Ğ“Ñ€/Ñ‡");

95 
ui
->
comboBox
->
	`addI‹m
("Ğ¼ĞºĞ“Ñ€/Ñ‡");

96 
ui
->
Ïb–_6
->
	`£tText
("Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚Ğ¸ ĞšĞ•Ğ ĞœĞ");

97 
ui
->
Ïb–_7
->
	`£tText
("Ğ§ÑƒĞ²ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ, (Ğ¸Ğ¼Ğ¿/Ñ)/(Ğ“Ñ€/Ñ)");

99 if(
MesP¬am
==4)

101 
ui
->
Ïb–_9
->
	`£tText
("ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ ĞŸĞ¾Ğ³Ğ»Ğ¾Ñ‰ĞµĞ½Ğ½Ğ¾Ğ¹ Ğ”Ğ¾Ğ·Ñ‹");

102 
ui
->
comboBox
->
	`addI‹m
("Ğ“Ñ€/Ñ");

103 
ui
->
comboBox
->
	`addI‹m
("Ğ¼Ğ“Ñ€/Ñ");

104 
ui
->
comboBox
->
	`addI‹m
("Ğ¼ĞºĞ“Ñ€/Ñ");

105 
ui
->
comboBox
->
	`addI‹m
("Ğ“Ñ€/Ñ‡");

106 
ui
->
comboBox
->
	`addI‹m
("Ğ¼Ğ“Ñ€/Ñ‡");

107 
ui
->
comboBox
->
	`addI‹m
("Ğ¼ĞºĞ“Ñ€/Ñ‡");

108 
ui
->
Ïb–_6
->
	`£tText
("Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ ĞœĞŸĞ”");

109 
ui
->
Ïb–_7
->
	`£tText
("Ğ§ÑƒĞ²ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ, (Ğ¸Ğ¼Ğ¿/Ñ)/(Ğ“Ñ€/Ñ)");

111 if(
MesP¬am
==5)

113 
ui
->
Ïb–_9
->
	`£tText
("ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ Ğ­ĞºÑĞ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¾Ğ½Ğ½Ğ¾Ğ¹ Ğ”Ğ¾Ğ·Ñ‹");

114 
ui
->
comboBox
->
	`addI‹m
("Ğ /Ñ");

115 
ui
->
comboBox
->
	`addI‹m
("Ğ¼Ğ /Ñ");

116 
ui
->
comboBox
->
	`addI‹m
("Ğ¼ĞºĞ /Ñ");

117 
ui
->
comboBox
->
	`addI‹m
("Ğ /Ñ‡");

118 
ui
->
comboBox
->
	`addI‹m
("Ğ¼Ğ /Ñ‡");

119 
ui
->
comboBox
->
	`addI‹m
("Ğ¼ĞºĞ /Ñ‡");

120 
ui
->
Ïb–_6
->
	`£tText
("Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ ĞœĞ­Ğ”");

121 
ui
->
Ïb–_7
->
	`£tText
("Ğ§ÑƒĞ²ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ, (Ğ¸Ğ¼Ğ¿/Ñ)/(Ğ /Ñ)");

123 
QSŒšg
 
msgSŒ
 = "Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ° %1 \n"

127 
QSŒšg
 
msgSŒ1
 = 
msgSŒ
.
	`¬g
(
ui
->
Ïb–_9
->
	`‹xt
());

128 
msg
 = 
Ãw
 
	`QMes§geBox
(
this
);

129 
msg
->
	`£tWšdowT™Ë
("Ğ’Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ");

130 
msg
->
	`£tText
(
msgSŒ1
);

131 
msg
->
	`exec
();

133 
	}
}

135 
	gGamma_BDG_v”ify
::
	$timeOut
()

138 
time
++;

139 
ui
->
Ïb–_3
->
	`£tText
(
QSŒšg
::
	`numb”
(
time
) + " c");

141 if(
ui
->
checkBox
->
	`isChecked
()) {

142 
I
 = (
bdg
->
IblockCR_Res
);

144 
I
 = (
bdg
->
IblockCR_ResGamma
);

150 
Isum
+=
I
;

151 
avI
=(
Isum
/
time
);

153 
ui
->
Ïb–
->
	`£tText
(
QSŒšg
::
	`numb”
(
avI
,'E'));

154 
Ùkl
+=
I
*I;

155 if(
time
>0)

157 
z
=
	`sq¹
((
Ùkl
/
time
)-
avI
*avI);

165 
Snd¬dDevŸtiÚ
=
¡d
::
	`abs
(
z
/
avI
);

166 
ui
->
Ïb–_5
->
	`£tText
(
QSŒšg
::
	`numb”
(
Snd¬dDevŸtiÚ
*100,'f',3)+" %");

168 
	}
}

170 
	gGamma_BDG_v”ify
::
	$Ú_pushBu‰Ú_şicked
()

172 
	`şo£
();

173 
	}
}

175 
	gGamma_BDG_v”ify
::
	$Ú_pushBu‰Ú_2_şicked
()

177 
ui
->
pushBu‰Ú_2
->
	`£tEÇbËd
(
çl£
);

178 
ui
->
pushBu‰Ú
->
	`£tEÇbËd
(
çl£
);

179 
ui
->
pushBu‰Ú_2
->
	`£tVisibË
(
çl£
);

180 
ui
->
pushBu‰Ú
->
	`£tVisibË
(
çl£
);

182 
¡¬tTim”
->
	`£tSšgËShÙ
(
Œue
);

183 
¡¬tTim”
->
	`¡¬t
(1000);

184 
Isum
=0;

186 
time
=0;

187 
Ùkl
=0;

188 
ui
->
Ïb–_3
->
	`£tText
("ĞŸĞ ĞĞ“Ğ Ğ•Ğ’!");

189 
	}
}

191 
	gGamma_BDG_v”ify
::
	$¡¬tTimeOut
()

193 
tim”
->
	`¡¬t
(1000);

194 
	}
}

196 
	gGamma_BDG_v”ify
::
	$Ú_pushBu‰Ú_3_şicked
()

198 
ui
->
pushBu‰Ú_2
->
	`£tEÇbËd
(
Œue
);

199 
ui
->
pushBu‰Ú
->
	`£tEÇbËd
(
Œue
);

200 
ui
->
pushBu‰Ú_2
->
	`£tVisibË
(
Œue
);

201 
ui
->
pushBu‰Ú
->
	`£tVisibË
(
Œue
);

203 
tim”
->
	`¡İ
();

204 if(
ui
->
Ïb–
->
	`‹xt
()=="Ğ¡ĞºĞ¾Ñ€Ğ¾ÑÑ‚ÑŒ ÑÑ‡ĞµÑ‚Ğ°"||ui->
lšeEd™
->‹xt()==""){ui->
lšeEd™_2
->
	`£tText
("");}

207 
I
 = 
avI
;

208 
QSŒšg
 
¡r
=
ui
->
lšeEd™
->
	`‹xt
();

209 
¡r
.
	`»¶aû
(",",".");

210 
do£R©e
 = 
¡r
.
	`toDoubË
();

211 
£ns
=0;

212 
ui
->
comboBox
->
	`cu¼’tIndex
())

214 0: 
£ns
=
I
/
do£R©e
;;

215 1: 
£ns
=(1E3)*
I
/
do£R©e
;;

216 2: 
£ns
=(1E6)*
I
/
do£R©e
;;

217 3: 
£ns
=(3.6E3)*
I
/
do£R©e
;;

218 4: 
£ns
=(3.6E6)*
I
/
do£R©e
;;

219 5: 
£ns
=(3.6E9)*
I
/
do£R©e
;;

222 
QSŒšg
 
£nsib™y
 = QSŒšg::
	`numb”
(
£ns
);

223 
ui
->
lšeEd™_2
->
	`£tText
(
£nsib™y
);

225 
	}
}

227 
	gGamma_BDG_v”ify
::
	$”rÜCÚÃùiÚSlÙ
()

229 
QMes§geBox
::
	`w¬nšg
(
this
, "ĞÑˆĞ¸Ğ±ĞºĞ°","ĞÑˆĞ¸Ğ±ĞºĞ° Ğ² Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğ¸");

230 
d–‘e
 
msg
;

231 
msg
=
nuÎ±r
;

232 
	`qDebug
()<<"close";

233 
	`şo£
();

234 
	}
}

237 
	gGamma_BDG_v”ify
::
	$Ú_pushBu‰Ú_4_şicked
()

239 ià(
ui
->
lšeEd™_2
->
	`‹xt
()==""){
QMes§geBox
::
	`w¬nšg
(
this
,"Ğ’Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ","ĞĞµ Ğ·Ğ°Ğ´Ğ°Ğ½Ğ¾ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ",QMes§geBox::
Ok
);}

242 
QSŒšg
 
£nsib™y
 = 
ui
->
lšeEd™_2
->
	`‹xt
();

243 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

245 
QSqlD©aba£
 
db
 = QSqlD©aba£::
	`d©aba£
("myDB");

246 
db
.
	`£tD©aba£Name
("config.db");

247 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

248 
QSqlQu”y
 
	`qu”y
(
db
);

249 
QSŒšg
 
qSŒ
="";

250 ià(
MesP¬am
==0){
qSŒ
="UPDATE gammaBlock SET sensibilityMAED='%1' WHERE‚uclide='%2'";}

251 ià(
MesP¬am
==1){
qSŒ
="UPDATE gammaBlock SET sensibilityMNED='%1' WHERE‚uclide='%2'";}

252 ià(
MesP¬am
==2){
qSŒ
="UPDATE gammaBlock SET sensibilityMIED='%1' WHERE‚uclide='%2'";}

253 ià(
MesP¬am
==3){
qSŒ
="UPDATE gammaBlock SET sensibilityKERMA='%1' WHERE‚uclide='%2'";}

254 ià(
MesP¬am
==4){
qSŒ
="UPDATE gammaBlock SET sensibilityMPD='%1' WHERE‚uclide='%2'";}

255 ià(
MesP¬am
==5){
qSŒ
="UPDATE gammaBlock SET sensibilityMED='%1' WHERE‚uclide='%2'";}

257 
QSŒšg
 
qSŒ1
=
qSŒ
.
	`¬g
(
ui
->
lšeEd™_2
->
	`‹xt
()).¬g(
chamb”Name
);

258 
	`qDebug
()<<
chamb”Name
;

259 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y UPDATE gammaBlock";
db
.
	`Ï¡E¼Ü
().
	`‹xt
();}

260 
db
.
	`şo£
();

262 
QMes§geBox
::
	`w¬nšg
(
this
,"Ğ’Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ","Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ Ñ‡ÑƒĞ²ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸ Ğ±Ñ‹Ğ»Ğ¾ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¾",QMes§geBox::
Ok
);

264 
	}
}

266 
	gGamma_BDG_v”ify
::
	$Ú_pushBu‰Ú_5_şicked
()

268 
QSŒšg
 
ss
 = 
ui
->
Ïb–
->
	`‹xt
();

269 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

271 
QSqlD©aba£
 
db
 = QSqlD©aba£::
	`d©aba£
("myDB");

272 
db
.
	`£tD©aba£Name
("config.db");

273 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

274 
QSqlQu”y
 
	`qu”y
(
db
);

275 
QSŒšg
 
qSŒ
="";

276 
qSŒ
="UPDATE backgroundgamma SET backgroundGamma='%1'";

278 
QSŒšg
 
qSŒ1
=
qSŒ
.
	`¬g
(
ui
->
Ïb–
->
	`‹xt
());

279 
	`qDebug
()<<
chamb”Name
;

280 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y UPDATE backgroundGamma";
db
.
	`Ï¡E¼Ü
().
	`‹xt
();}

281 
db
.
	`şo£
();

283 
QMes§geBox
::
	`w¬nšg
(
this
,"Ğ’Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ","Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ Ñ„Ğ¾Ğ½Ğ¾Ğ²Ğ¾Ğ¹ ÑĞºĞ¾Ñ€Ğ¾ÑÑ‚Ğ¸ ÑÑ‡ĞµÑ‚Ğ° Ğ±Ñ‹Ğ»Ğ¾ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¾",QMes§geBox::
Ok
);

284 
	}
}

	@gamma_bdg_verify.h

1 #iâdeà
GAMMA_BDG_VERIFY_H


2 
	#GAMMA_BDG_VERIFY_H


	)

4 
	~"block_bdg.h
"

6 
	~<QDŸlog
>

8 
Çme¥aû
 
	gUi
 {

9 
şass
 
	gGamma_BDG_v”ify
;

12 şas 
	cGamma_BDG_v”ify
 : 
public
 
QDŸlog


14 
Q_OBJECT


16 
public
:

17 
ex¶ic™
 
Gamma_BDG_v”ify
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
);

18 ~
Gamma_BDG_v”ify
();

20 
g‘GammaBlock
(
Block_BDG
*);

22 
	mpublic
:

23 
”rÜCÚÃùiÚSlÙ
();

25 
´iv©e
 
	m¦Ùs
:

26 
timeOut
();

27 
¡¬tTimeOut
();

29 
Ú_pushBu‰Ú_şicked
();

31 
Ú_pushBu‰Ú_2_şicked
();

33 
Ú_pushBu‰Ú_3_şicked
();

35 
Ú_pushBu‰Ú_4_şicked
();

37 
Ú_pushBu‰Ú_5_şicked
();

39 
	m´iv©e
:

40 
Ui
::
Gamma_BDG_v”ify
 *
ui
;

41 
Block_BDG
* 
	mbdg
{
	mnuÎ±r
};

42 
QTim”
* 
	gtim”
{
	gnuÎ±r
};

43 
QTim”
* 
	g¡¬tTim”
{
	gnuÎ±r
};

44 
QMes§geBox
* 
	gmsg
{
	gnuÎ±r
};

46 
š™
();

48 
	gtime
{0};

49 
	gI
{0};

50 
	gIsum
{0};

51 
	gavI
{0};

52 
	gÙkl
{0};

53 
	gSnd¬dDevŸtiÚ
{0};

55 
qušt8
 
	gMesP¬am
{0};

56 
QSŒšg
 
	gchamb”Name
{""};

	@gamma_ik.cpp

3 
	~"gamma_ik.h
"

4 
	~"ui_gamma_ik.h
"

6 
	gGamma_IK
::
	$Gamma_IK
(
QWidg‘
 *
·»Á
) :

7 
	`QDŸlog
(
·»Á
),

8 
	$ui
(
Ãw
 
Ui
::
Gamma_IK
)

10 
ui
->
	`£tupUi
(
this
);

11 
	`š™
();

12 
	}
}

14 
	gGamma_IK
::~
	$Gamma_IK
()

16 
d–‘e
 
ui
;

17 
	}
}

19 
	gGamma_IK
::
	$š™
()

21 
	`£tWšdowT™Ë
("Ğ“Ğ°Ğ¼Ğ¼Ğ° Ğ¸Ğ·Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ -Ğ¸Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ğµ ĞºĞ°Ğ¼ĞµÑ€Ñ‹");

22 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

24 
QSqlD©aba£
 
db
 = QSqlD©aba£::
	`d©aba£
("myDB");

25 
db
.
	`£tD©aba£Name
("config.db");

26 if(!
db
.
	`İ’
()){
	`qDebug
()<<"DB was‚ot opened";}

27 
QSqlQu”y
 
	`qu”y
(
db
);

28 
QSŒšg
 
qu”ySŒ
 = "SELECT * FROM fullName";

29 if(!
qu”y
.
	`exec
(
qu”ySŒ
))

30 {
	`qDebug
()<<"unableƒxecute query SELECT";}

31 if(
qu”y
.
	`fœ¡
())

33 
ui
->
lšeEd™
->
	`£tText
(
qu”y
.
	`v®ue
("suºame").
	`toSŒšg
());

34 
ui
->
lšeEd™_2
->
	`£tText
(
qu”y
.
	`v®ue
("Çme").
	`toSŒšg
());

35 
ui
->
lšeEd™_3
->
	`£tText
(
qu”y
.
	`v®ue
("·ŒÚymic").
	`toSŒšg
());

38 
	}
}

40 
	gGamma_IK
::
	$Ú_pushBu‰Ú_şicked
()

42 
	`şo£
();

43 
	}
}

45 
	gGamma_IK
::
	$Ú_pushBu‰Ú_2_şicked
()

47 
EËùrom‘”_‹¡
* 
–Te¡
 = 
Ãw
 
	`EËùrom‘”_‹¡
(
this
);

48 
–Te¡
->
	`£tMod®
(
Œue
);

49 
–Te¡
->
	`show
();

50 
	}
}

52 
	gGamma_IK
::
	$Ú_pushBu‰Ú_3_şicked
()

54 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

56 
QSqlD©aba£
 
db
 = QSqlD©aba£::
	`d©aba£
("myDB");

57 
db
.
	`£tD©aba£Name
("config.db");

58 if(!
db
.
	`İ’
())

59 {
	`qDebug
()<<"DB was‚ot opened";}

60 
QSqlQu”y
 
	`qu”y
(
db
);

61 
QSŒšg
 
qu”ySŒ
;

62 
QSŒšg
 
	`suºame
(
ui
->
lšeEd™
->
	`‹xt
());

63 
QSŒšg
 
	`Çme
(
ui
->
lšeEd™_2
->
	`‹xt
());

64 
QSŒšg
 
	`·ŒÚimyc
(
ui
->
lšeEd™_3
->
	`‹xt
());

65 
QSŒšg
 
qu”ySŒ1
 = "UPDATE fullName SET "

69 
qu”ySŒ
 = 
qu”ySŒ1
.
	`¬g
(
suºame
)

70 .
	`¬g
(
Çme
)

71 .
	`¬g
(
·ŒÚimyc
);

72 if(!
qu”y
.
	`exec
(
qu”ySŒ
))

73 {
	`qDebug
()<<"unableƒxecute query UPDATE";}

75 
Gamma_IK_m—suršg
* 
gammaIKmes
 = 
Ãw
 
	`Gamma_IK_m—suršg
(
this
);

76 
gammaIKmes
->
	`£tMod®
(
Œue
);

77 
gammaIKmes
->
	`show
();

78 
	}
}

	@gamma_ik.h

1 #iâdeà
GAMMA_IK_H


2 
	#GAMMA_IK_H


	)

4 
	~"gamma_ik_m—suršg.h
"

6 
	~<QDŸlog
>

8 
Çme¥aû
 
	gUi
 {

9 
şass
 
	gGamma_IK
;

12 şas 
	cGamma_IK
 : 
public
 
QDŸlog


14 
Q_OBJECT


16 
public
:

17 
ex¶ic™
 
Gamma_IK
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
);

18 ~
Gamma_IK
();

20 
´iv©e
 
	m¦Ùs
:

21 
Ú_pushBu‰Ú_şicked
();

23 
Ú_pushBu‰Ú_2_şicked
();

25 
Ú_pushBu‰Ú_3_şicked
();

27 
	m´iv©e
:

28 
Ui
::
Gamma_IK
 *
ui
;

29 
š™
();

	@gamma_ik_measuring.cpp

3 
	~"gamma_ik_m—suršg.h
"

4 
	~"ui_gamma_ik_m—suršg.h
"

6 
	gGamma_IK_m—suršg
::
	$Gamma_IK_m—suršg
(
QWidg‘
 *
·»Á
) :

7 
	`QDŸlog
(
·»Á
),

8 
	$ui
(
Ãw
 
Ui
::
Gamma_IK_m—suršg
)

10 
ui
->
	`£tupUi
(
this
);

11 
	`š™
();

12 
	}
}

14 
	gGamma_IK_m—suršg
::~
	$Gamma_IK_m—suršg
()

16 
d–‘e
 
ui
;

17 
	}
}

19 
	gGamma_IK_m—suršg
::
	$š™
()

21 
	`£tWšdowT™Ë
("Ğ“Ğ°Ğ¼Ğ¼Ğ° Ğ¸Ğ·Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ - Ğ¸Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ğµ ĞºĞ°Ğ¼ĞµÑ€Ñ‹ - Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ¸Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ñ");

22 
this
->
	`£tA‰ribu‹
(
Qt
::
WA_D–‘eOnClo£
);

24 
·ss
=
PasswÜd
::
	`check
();

25 
·ss
)

27 2: 
ui
->
pushBu‰Ú_3
->
	`£tEÇbËd
(
Œue
);ui->pushBu‰Ú_3->
	`£tVisibË
(true);

28 
ui
->
Ïb–_8
->
	`£tText
("Ğ˜Ğ—Ğ“ĞĞ¢ĞĞ’Ğ˜Ğ¢Ğ•Ğ›Ğ¬:");

30 1: 
ui
->
pushBu‰Ú_3
->
	`£tEÇbËd
(
Œue
);ui->pushBu‰Ú_3->
	`£tVisibË
(true);

31 
ui
->
Ïb–_8
->
	`£tText
("ĞŸĞĞ’Ğ•Ğ Ğ˜Ğ¢Ğ•Ğ›Ğ¬:");

33 :
ui
->
pushBu‰Ú_3
->
	`£tEÇbËd
(
çl£
);ui->pushBu‰Ú_3->
	`£tVisibË
(false);

34 
ui
->
Ïb–_8
->
	`£tText
("ĞĞŸĞ•Ğ ĞĞ¢ĞĞ :");

37 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

39 
QSqlD©aba£
 
db
 = QSqlD©aba£::
	`d©aba£
("myDB");

40 
db
.
	`£tD©aba£Name
("config.db");

41 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

42 
QSqlQu”y
 
	`qu”y
(
db
);

43 
QSŒšg
 
qSŒ
="SELECT *FROM gammaChambers";

44 if(!
qu”y
.
	`exec
(
qSŒ
)){
	`qDebug
()<<"unableƒxecute query SELECT *FROMable gammaChambers";}

45 
QLi¡
<
QSŒšg
> 
¡rLi¡
;

46 
qu”y
.
	`Ãxt
())

48 
¡rLi¡
.
	`­³nd
(
qu”y
.
	`v®ue
("Çme").
	`toSŒšg
()+" Ğ´Ğ°Ñ‚Ğ° Ğ¿Ğ¾Ğ²ĞµÑ€ĞºĞ¸: "+query.value("VerificationDate").toString());

50 
ui
->
comboBox
->
	`addI‹ms
(
¡rLi¡
);

52 
ui
->
comboBox_4
->
	`addI‹m
("ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ ĞĞ¼Ğ±Ğ¸ĞµĞ½Ñ‚Ğ½Ğ¾Ğ³Ğ¾ Ğ­ĞºĞ²Ğ¸Ğ²Ğ°Ğ»ĞµĞ½Ñ‚Ğ° Ğ”Ğ¾Ğ·Ñ‹");

53 
ui
->
comboBox_4
->
	`addI‹m
("ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ ĞĞ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ Ğ­ĞºĞ²Ğ¸Ğ²Ğ°Ğ»ĞµĞ½Ñ‚Ğ° Ğ”Ğ¾Ğ·Ñ‹");

54 
ui
->
comboBox_4
->
	`addI‹m
("ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ Ğ˜Ğ½Ğ´Ğ¸Ğ²Ğ¸Ğ´ÑƒĞ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ­ĞºĞ²Ğ¸Ğ²Ğ°Ğ»ĞµĞ½Ñ‚Ğ° Ğ”Ğ¾Ğ·Ñ‹");

55 
ui
->
comboBox_4
->
	`addI‹m
("ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ ĞšĞ•Ğ ĞœĞ«");

56 
ui
->
comboBox_4
->
	`addI‹m
("ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ ĞŸĞ¾Ğ³Ğ»Ğ¾Ñ‰ĞµĞ½Ğ½Ğ¾Ğ¹ Ğ”Ğ¾Ğ·Ñ‹");

57 
ui
->
comboBox_4
->
	`addI‹m
("ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ Ğ­ĞºÑĞ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¾Ğ½Ğ½Ğ¾Ğ¹ Ğ”Ğ¾Ğ·Ñ‹");

59 
ui
->
comboBox_3
->
	`ş—r
();

60 
ui
->
comboBox_3
->
	`addI‹m
("Ğ—Ğ²/Ñ");

61 
ui
->
comboBox_3
->
	`addI‹m
("Ğ—Ğ²/Ğ¼Ğ¸Ğ½");

62 
ui
->
comboBox_3
->
	`addI‹m
("Ğ—Ğ²/Ñ‡");

64 
ui
->
comboBox_5
->
	`addI‹m
("Ğ§ÑƒĞ²ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹");

65 
ui
->
comboBox_5
->
	`addI‹m
("Ğ¡Ñ€ĞµĞ´Ğ½Ğ¸Ğ¹");

66 
ui
->
comboBox_5
->
	`addI‹m
("Ğ“Ñ€ÑƒĞ±Ñ‹Ğ¹");

68 
ui
->
¿dioBu‰Ú
->
	`£tChecked
(
Œue
);

69 
ui
->
comboBox_2
->
	`addI‹m
("Ğ ÑƒÑ‡Ğ½Ğ¾Ğ¹");

70 
ui
->
comboBox_2
->
	`addI‹m
("ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹");

71 
ui
->
lšeEd™
->
	`£tText
("20");

72 
ui
->
lšeEd™_2
->
	`£tText
("760");

73 
ui
->
Ïb–_15
->
	`£tText
("101323");

74 
ui
->
lšeEd™_3
->
	`£tText
("1");

75 
ui
->
lšeEd™_4
->
	`£tEÇbËd
(
çl£
);

76 
ui
->
lšeEd™_4
->
	`£tVisibË
(
çl£
);

77 
ui
->
lšeEd™_5
->
	`£tEÇbËd
(
çl£
);

78 
ui
->
lšeEd™_5
->
	`£tVisibË
(
çl£
);

80 
ui
->
lšeEd™
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->lineEdit));

81 
ui
->
lšeEd™_2
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->lineEdit_2));

82 
ui
->
lšeEd™_3
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->lineEdit_3));

84 
ui
->
lšeEd™_5
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->lineEdit_5));

86 
ui
->
lšeEd™_6
->
	`£tEÇbËd
(
çl£
);

87 
ui
->
lšeEd™_6
->
	`£tVisibË
(
çl£
);

88 
ui
->
lšeEd™_7
->
	`£tEÇbËd
(
çl£
);

89 
ui
->
lšeEd™_7
->
	`£tVisibË
(
çl£
);

91 
ui
->
Ïb–_12
->
	`£tVisibË
(
çl£
);

92 
QSŒšg
 
qu”yS1
 = "";

93 
QSŒšg
 
qu”yS
 = "SELECT * FROM fullName";

94 if(!
qu”y
.
	`exec
(
qu”yS
))

95 {
	`qDebug
()<<"unableƒxecute query SELECT";}

96 if(
qu”y
.
	`fœ¡
())

98 
ui
->
Ïb–_9
->
	`£tText
(
qu”y
.
	`v®ue
("suºame").
	`toSŒšg
()+

99 " "+
qu”y
.
	`v®ue
("Çme").
	`toSŒšg
()+

100 " "+
qu”y
.
	`v®ue
("·ŒÚymic").
	`toSŒšg
());

102 
db
.
	`şo£
();

104 
–Te¡
=
Ãw
 
	`EËùrom‘”_‹¡
(
this
);

105 
–Te¡
->
	`‹¡Sourû
(
Œue
);

106 
	`cÚÃù
(
–Te¡
,&
EËùrom‘”_‹¡
::
şo£Te¡AÎ
,
this
,&
Gamma_IK_m—suršg
::
‹¡FauÉ
);

107 
–Te¡
->
	`£tMod®
(
Œue
);

108 
–Te¡
->
	`show
();

109 
	}
}

111 
	gGamma_IK_m—suršg
::
	$Ú_pushBu‰Ú_şicked
()

113 
	`şo£
();

114 
	}
}

116 
	gGamma_IK_m—suršg
::
	$Ú_pushBu‰Ú_2_şicked
()

118 
ušt8_t
 
iR
=
	`ušt8_t
(
ui
->
comboBox_5
->
	`cu¼’tIndex
());

119 
boŞ
 
Comp
=
ui
->
checkBox
->
	`isChecked
();

120 
Temp
=
ui
->
lšeEd™
->
	`‹xt
().
	`toDoubË
();

121 
P
=
ui
->
lšeEd™_2
->
	`‹xt
().
	`toDoubË
();

122 
CÜrF
=
ui
->
lšeEd™_3
->
	`‹xt
().
	`toDoubË
();

123 
QSŒšg
 
chamName
=
ui
->
comboBox
->
	`cu¼’tText
();

124 
qušt8
 
mesP¬am
 = 
	`qušt8
(
ui
->
comboBox_4
->
	`cu¼’tIndex
());

130 
IKgamma
 = 
Ãw
 
	`GammaIK_chamb”
(
iR
,
Comp
,
Temp
,
P
,
CÜrF
,
chamName
,
mesP¬am
);

132 
	`cÚÃù
(
this
,&
Gamma_IK_m—suršg
::
£ndToComSig
,
IKgamma
,&
GammaIK_chamb”
::
£tVŞgeSlÙ
);

136 
QSŒšg
 
Dim’siÚ
=
ui
->
comboBox_3
->
	`cu¼’tText
();

137 cÚ¡ 
Dim’siÚFÜTime
=
ui
->
comboBox_3
->
	`cu¼’tIndex
();

138 
boŞ
 
Regime
=
ui
->
comboBox_2
->
	`cu¼’tIndex
();

139 cÚ¡ 
ušt
 
TimesAutom©ic
=
ui
->
lšeEd™_6
->
	`‹xt
().
	`toUIÁ
();

140 cÚ¡ 
ušt
 
TimeAutom©ic
=
ui
->
lšeEd™_7
->
	`‹xt
().
	`toUIÁ
();

142 
ušt8_t
 
Th»ashŞd
=0;

143 if(
ui
->
¿dioBu‰Ú
->
	`isChecked
())

144 { 
Th»ashŞd
=0; }

145 if(
ui
->
¿dioBu‰Ú_2
->
	`isChecked
())

146 { 
Th»ashŞd
=1; }

147 if(
ui
->
¿dioBu‰Ú_3
->
	`isChecked
())

148 { 
Th»ashŞd
=2; }

149 cÚ¡ 
ušt
 
TimeTh»ashŞd
 = 
ui
->
lšeEd™_4
->
	`‹xt
().
	`toUIÁ
();

150 
QSŒšg
 
¡r
=
ui
->
lšeEd™_5
->
	`‹xt
();

151 
¡r
.
	`»¶aû
(",",".");

152 cÚ¡ 
Do£Th»ashŞd
=
¡r
.
	`toDoubË
();

154 
Gamma_IK_m—suršg_m—su»
* 
gamma_IK_mesMes
 = 
Ãw
 
	`Gamma_IK_m—suršg_m—su»
(
this
,
Dim’siÚ
,

155 
Dim’siÚFÜTime
,

156 
Regime
,

157 
TimesAutom©ic
,

158 
TimeAutom©ic
,

159 
Th»ashŞd
,

160 
TimeTh»ashŞd
,

161 
Do£Th»ashŞd
);

163 
gamma_IK_mesMes
->
	`£tMod®
(
Œue
);

164 
gamma_IK_mesMes
->
	`GammaIK
(
IKgamma
);

165 
gamma_IK_mesMes
->
	`show
();

167 
¡r
=
chamName
;

168 
x
=
¡r
.
	`šdexOf
(" ");

169 
chamName
=
¡r
.
	`Ëá
(
x
);

170 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

172 
QSqlD©aba£
 
db
 = QSqlD©aba£::
	`d©aba£
("myDB");

173 
db
.
	`£tD©aba£Name
("config.db");

174 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

175 
QSqlQu”y
 
	`qu”y
(
db
);

176 
QSŒšg
 
qSŒ
 = "SELECT * FROM gammaChambers WHERE‚ame='%1'";

177 
QSŒšg
 
qSŒ1
 = 
qSŒ
.
	`¬g
(
chamName
);

178 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"unableƒxecute query SELECT FROM gammaChambers WHERE‚ame='%1";}

179 if(
qu”y
.
	`fœ¡
())

181 
vŞge
 = 
qu”y
.
	`v®ue
("vŞge").
	`toIÁ
();

183 
db
.
	`şo£
();

185 
QBy‹A¼ay
 
by‹VŞt
;

186 
vŞtHex
 
vŞthex
;

187 
by‹VŞt
=
vŞthex
.
	`štVŞt
(
vŞge
);

191 
em™
 
	`£ndToComSig
(
by‹VŞt
);

192 
	}
}

194 
	gGamma_IK_m—suršg
::
	$Ú_pushBu‰Ú_3_şicked
()

196 
ušt8_t
 
iR
=
	`ušt8_t
(
ui
->
comboBox_5
->
	`cu¼’tIndex
());

197 
boŞ
 
Comp
=
ui
->
checkBox
->
	`isChecked
();

198 
Temp
=
ui
->
lšeEd™
->
	`‹xt
().
	`toDoubË
();

199 
P
=
ui
->
lšeEd™_2
->
	`‹xt
().
	`toDoubË
();

200 
CÜrF
=
ui
->
lšeEd™_3
->
	`‹xt
().
	`toDoubË
();

201 
QSŒšg
 
chamName
=
ui
->
comboBox
->
	`cu¼’tText
();

202 
qušt8
 
mesP¬am
 = 
	`qušt8
(
ui
->
comboBox_4
->
	`cu¼’tIndex
());

206 
IKgamma
 = 
Ãw
 
	`GammaIK_chamb”
(
iR
,
Comp
,
Temp
,
P
,
CÜrF
,
chamName
,
mesP¬am
);

208 
	`cÚÃù
(
this
,&
Gamma_IK_m—suršg
::
£ndToComSig
,
IKgamma
,&
GammaIK_chamb”
::
£tVŞgeSlÙ
);

209 
Gamma_IK_v”ify
* 
gammaIKv”
 = 
Ãw
 
	`Gamma_IK_v”ify
(
this
);

210 
gammaIKv”
->
	`£tMod®
(
Œue
);

211 
gammaIKv”
->
	`show
();

212 
gammaIKv”
->
	`g‘GammaChamb”
(
IKgamma
);

215 
QSŒšg
 
¡r
=
chamName
;

216 
x
=
¡r
.
	`šdexOf
(" ");

217 
chamName
=
¡r
.
	`Ëá
(
x
);

218 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

220 
QSqlD©aba£
 
db
 = QSqlD©aba£::
	`d©aba£
("myDB");

221 
db
.
	`£tD©aba£Name
("config.db");

222 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

223 
QSqlQu”y
 
	`qu”y
(
db
);

224 
QSŒšg
 
qSŒ
 = "SELECT * FROM gammaChambers WHERE‚ame='%1'";

225 
QSŒšg
 
qSŒ1
 = 
qSŒ
.
	`¬g
(
chamName
);

226 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"unableƒxecute query SELECT FROM gammaChambers WHERE‚ame='%1";}

227 if(
qu”y
.
	`fœ¡
())

229 
vŞge
 = 
qu”y
.
	`v®ue
("vŞge").
	`toIÁ
();

231 
db
.
	`şo£
();

233 
QBy‹A¼ay
 
by‹VŞt
;

234 
vŞtHex
 
vŞthex
;

235 
by‹VŞt
=
vŞthex
.
	`štVŞt
(
vŞge
);

240 
em™
 
	`£ndToComSig
(
by‹VŞt
);

241 
	}
}

243 
	gGamma_IK_m—suršg
::
	$Ú_comboBox_4_cu¼’tIndexChªged
(
šdex
)

245 
šdex
)

248 
ui
->
comboBox_3
->
	`ş—r
();

249 
ui
->
comboBox_3
->
	`addI‹m
("Ğ—Ğ²/Ñ");

250 
ui
->
comboBox_3
->
	`addI‹m
("Ğ—Ğ²/Ğ¼Ğ¸Ğ½");

251 
ui
->
comboBox_3
->
	`addI‹m
("Ğ—Ğ²/Ñ‡");

252 
ui
->
¿dioBu‰Ú_3
->
	`£tText
("Ğ¿Ğ¾ Ğ´Ğ¾Ğ·Ğµ, Ğ¼Ğ—Ğ²");

255 
ui
->
comboBox_3
->
	`ş—r
();

256 
ui
->
comboBox_3
->
	`addI‹m
("Ğ—Ğ²/Ñ");

257 
ui
->
comboBox_3
->
	`addI‹m
("Ğ—Ğ²/Ğ¼Ğ¸Ğ½");

258 
ui
->
comboBox_3
->
	`addI‹m
("Ğ—Ğ²/Ñ‡");

259 
ui
->
¿dioBu‰Ú_3
->
	`£tText
("Ğ¿Ğ¾ Ğ´Ğ¾Ğ·Ğµ, Ğ¼Ğ—Ğ²");

262 
ui
->
comboBox_3
->
	`ş—r
();

263 
ui
->
comboBox_3
->
	`addI‹m
("Ğ—Ğ²/Ñ");

264 
ui
->
comboBox_3
->
	`addI‹m
("Ğ—Ğ²/Ğ¼Ğ¸Ğ½");

265 
ui
->
comboBox_3
->
	`addI‹m
("Ğ—Ğ²/Ñ‡");

266 
ui
->
¿dioBu‰Ú_3
->
	`£tText
("Ğ¿Ğ¾ Ğ´Ğ¾Ğ·Ğµ, Ğ¼Ğ—Ğ²");

269 
ui
->
comboBox_3
->
	`ş—r
();

270 
ui
->
comboBox_3
->
	`addI‹m
("Ğ“Ñ€/Ñ");

271 
ui
->
comboBox_3
->
	`addI‹m
("Ğ“Ñ€/Ğ¼Ğ¸Ğ½");

272 
ui
->
comboBox_3
->
	`addI‹m
("Ğ“Ñ€/Ñ‡");

273 
ui
->
¿dioBu‰Ú_3
->
	`£tText
("Ğ¿Ğ¾ Ğ´Ğ¾Ğ·Ğµ, Ğ¼Ğ“Ñ€");

276 
ui
->
comboBox_3
->
	`ş—r
();

277 
ui
->
comboBox_3
->
	`addI‹m
("Ğ“Ñ€/Ñ");

278 
ui
->
comboBox_3
->
	`addI‹m
("Ğ“Ñ€/Ğ¼Ğ¸Ğ½");

279 
ui
->
comboBox_3
->
	`addI‹m
("Ğ“Ñ€/Ñ‡");

280 
ui
->
¿dioBu‰Ú_3
->
	`£tText
("Ğ¿Ğ¾ Ğ´Ğ¾Ğ·Ğµ, Ğ¼Ğ“Ñ€");

283 
ui
->
comboBox_3
->
	`ş—r
();

284 
ui
->
comboBox_3
->
	`addI‹m
("Ğ /Ñ");

285 
ui
->
comboBox_3
->
	`addI‹m
("Ğ /Ğ¼Ğ¸Ğ½");

286 
ui
->
comboBox_3
->
	`addI‹m
("Ğ /Ñ‡");

287 
ui
->
¿dioBu‰Ú_3
->
	`£tText
("Ğ¿Ğ¾ Ğ´Ğ¾Ğ·Ğµ, Ğ¼Ğ ");

291 
	}
}

293 
	gGamma_IK_m—suršg
::
	$Ú_lšeEd™_2_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
)

295 cÚ¡ 
QSŒšg
 
¡r
=
¬g1
;

296 cÚ¡ 
P
=
¬g1
.
	`toDoubË
();

297 cÚ¡ 
mm_š_Pa
=
P
*133.32;

298 
ui
->
Ïb–_15
->
	`£tText
(
QSŒšg
::
	`numb”
(
mm_š_Pa
,'f',0));

299 
	}
}

301 
	gGamma_IK_m—suršg
::
	$Ú_comboBox_2_cu¼’tIndexChªged
(
šdex
)

303 if(
šdex
==0)

305 
ui
->
lšeEd™_6
->
	`£tEÇbËd
(
çl£
);

306 
ui
->
lšeEd™_6
->
	`£tVisibË
(
çl£
);

307 
ui
->
lšeEd™_7
->
	`£tEÇbËd
(
çl£
);

308 
ui
->
lšeEd™_7
->
	`£tVisibË
(
çl£
);

309 
ui
->
Ïb–_7
->
	`£tVisibË
(
çl£
);

310 
ui
->
Ïb–_12
->
	`£tVisibË
(
çl£
);

312 
ui
->
¿dioBu‰Ú
->
	`£tChecked
(
Œue
);

313 
ui
->
¿dioBu‰Ú_2
->
	`£tEÇbËd
(
Œue
);

314 
ui
->
¿dioBu‰Ú_3
->
	`£tEÇbËd
(
Œue
);

317 if(
šdex
==1)

319 
ui
->
lšeEd™_6
->
	`£tEÇbËd
(
Œue
);

320 
ui
->
lšeEd™_6
->
	`£tVisibË
(
Œue
);

321 
ui
->
lšeEd™_7
->
	`£tEÇbËd
(
Œue
);

322 
ui
->
lšeEd™_7
->
	`£tVisibË
(
Œue
);

323 
ui
->
Ïb–_7
->
	`£tVisibË
(
Œue
);

324 
ui
->
Ïb–_12
->
	`£tVisibË
(
Œue
);

325 
ui
->
¿dioBu‰Ú
->
	`£tChecked
(
Œue
);

326 
ui
->
¿dioBu‰Ú_2
->
	`£tEÇbËd
(
çl£
);

327 
ui
->
¿dioBu‰Ú_3
->
	`£tEÇbËd
(
çl£
);

328 
ui
->
lšeEd™_4
->
	`£tVisibË
(
çl£
);

329 
ui
->
lšeEd™_5
->
	`£tVisibË
(
çl£
);

331 
	}
}

333 
	gGamma_IK_m—suršg
::
	$Ú_¿dioBu‰Ú_2_şicked
()

335 
ui
->
lšeEd™_4
->
	`£tEÇbËd
(
Œue
);

336 
ui
->
lšeEd™_4
->
	`£tVisibË
(
Œue
);

337 
ui
->
lšeEd™_5
->
	`£tEÇbËd
(
çl£
);

338 
ui
->
lšeEd™_5
->
	`£tVisibË
(
çl£
);

339 
	}
}

341 
	gGamma_IK_m—suršg
::
	$Ú_¿dioBu‰Ú_3_şicked
()

343 
ui
->
lšeEd™_4
->
	`£tEÇbËd
(
çl£
);

344 
ui
->
lšeEd™_4
->
	`£tVisibË
(
çl£
);

345 
ui
->
lšeEd™_5
->
	`£tEÇbËd
(
Œue
);

346 
ui
->
lšeEd™_5
->
	`£tVisibË
(
Œue
);

347 
	}
}

349 
	gGamma_IK_m—suršg
::
	$Ú_¿dioBu‰Ú_şicked
()

351 
ui
->
lšeEd™_4
->
	`£tEÇbËd
(
çl£
);

352 
ui
->
lšeEd™_4
->
	`£tVisibË
(
çl£
);

353 
ui
->
lšeEd™_5
->
	`£tEÇbËd
(
çl£
);

354 
ui
->
lšeEd™_5
->
	`£tVisibË
(
çl£
);

355 
	}
}

357 
	gGamma_IK_m—suršg
::
	$‹¡FauÉ
()

359 
	`şo£
();

360 
	}
}

363 
	gGamma_IK_m—suršg
::
	$Ú_pushBu‰Ú_4_şicked
()

365 
QSŒšg
 
chamb”Name
 = 
ui
->
comboBox
->
	`cu¼’tText
();

366 
x
=
chamb”Name
.
	`šdexOf
(" ");

367 
chamb”Name
=chamb”Name.
	`Ëá
(
x
);

368 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

370 
QSqlD©aba£
 
db
 = QSqlD©aba£::
	`d©aba£
("myDB");

371 
db
.
	`£tD©aba£Name
("config.db");

372 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

373 
QSqlQu”y
 
	`qu”y
(
db
);

374 
QSŒšg
 
qSŒ
 = "SELECT * FROM gammaChambers WHERE‚ame='%1'";

375 
QSŒšg
 
qSŒ1
 = 
qSŒ
.
	`¬g
(
chamb”Name
);

376 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"unableƒxecute query SELECT FROM betaChambers WHERE‚ame='%1";}

377 if(
qu”y
.
	`fœ¡
())

379 
vŞge
 = 
qu”y
.
	`v®ue
("vŞge").
	`toIÁ
();

381 
db
.
	`şo£
();

383 
	`qDebug
()<<
vŞge
;

384 
chambComp
 = 
Ãw
 
	`Chamb”Com³n§tiÚ
(
this
,
vŞge
);

385 
	`cÚÃù
(
chambComp
,&
Chamb”Com³n§tiÚ
::
com³n§tiÚFÏgSig
,
this
,&
Gamma_IK_m—suršg
::
com³n§tiÚFÏgSlÙ
);

386 
chambComp
->
	`£tMod®
(
Œue
);

387 
chambComp
->
	`show
();

388 
	}
}

390 
	gGamma_IK_m—suršg
::
	$Ú_comboBox_cu¼’tIndexChªged
(
šdex
)

392 
com³n§tiÚ
=
çl£
;

393 if(
šdex
==0){};

394 
	}
}

396 
	gGamma_IK_m—suršg
::
	$com³n§tiÚFÏgSlÙ
()

398 
com³n§tiÚ
=
Œue
;

399 
	}
}

402 
	gGamma_IK_m—suršg
::
	$Ú_checkBox_şicked
()

404 if(
com³n§tiÚ
)

406 if(
ui
->
checkBox
->
	`isChecked
())

408 
ui
->
checkBox
->
	`£tChecked
(
Œue
);

410 
ui
->
checkBox
->
	`£tChecked
(
çl£
);

414 
ui
->
checkBox
->
	`£tChecked
(
çl£
);

415 
QMes§geBox
::
	`w¬nšg
(
this
, "ĞÑˆĞ¸Ğ±ĞºĞ°","ĞĞµ Ğ±Ñ‹Ğ»Ğ° Ğ¿Ñ€Ğ¾Ğ²ĞµĞ´ĞµĞ½Ğ° ĞºĞ¾Ğ¼Ğ¿ĞµĞ½ÑĞ°Ñ†Ğ¸Ñ");

417 
	}
}

	@gamma_ik_measuring.h

1 #iâdeà
GAMMA_IK_MEASURING_H


2 
	#GAMMA_IK_MEASURING_H


	)

4 
	~"gamma_ik_m—suršg_m—su».h
"

5 
	~"gamma_ik_v”ify.h
"

6 
	~"·sswÜd.h
"

7 
	~"gammaik_chamb”.h
"

8 
	~"–eùrom‘”_‹¡.h
"

9 
	~"chamb”com³n§tiÚ.h
"

10 
	~"vŞthex.h
"

12 
	~<QDŸlog
>

13 
	~<QDebug
>

15 
Çme¥aû
 
	gUi
 {

16 
şass
 
	gGamma_IK_m—suršg
;

19 şas 
	cGamma_IK_m—suršg
 : 
public
 
QDŸlog


21 
Q_OBJECT


23 
public
:

24 
ex¶ic™
 
Gamma_IK_m—suršg
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
);

25 ~
Gamma_IK_m—suršg
();

27 
	msigÇls
:

28 
£ndToComSig
(cÚ¡ 
QBy‹A¼ay
 &);

30 
public
 
	m¦Ùs
:

31 
‹¡FauÉ
();

32 
com³n§tiÚFÏgSlÙ
();

35 
´iv©e
 
	m¦Ùs
:

36 
Ú_pushBu‰Ú_şicked
();

38 
Ú_pushBu‰Ú_2_şicked
();

40 
Ú_pushBu‰Ú_3_şicked
();

42 
Ú_comboBox_4_cu¼’tIndexChªged
(
šdex
);

44 
Ú_lšeEd™_2_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
);

46 
Ú_comboBox_2_cu¼’tIndexChªged
(
šdex
);

48 
Ú_¿dioBu‰Ú_2_şicked
();

50 
Ú_¿dioBu‰Ú_3_şicked
();

52 
Ú_¿dioBu‰Ú_şicked
();

54 
Ú_pushBu‰Ú_4_şicked
();

56 
Ú_comboBox_cu¼’tIndexChªged
(
šdex
);

58 
Ú_checkBox_şicked
();

60 
	m´iv©e
:

61 
Ui
::
Gamma_IK_m—suršg
 *
ui
;

62 
GammaIK_chamb”
* 
	mIKgamma
;

63 
EËùrom‘”_‹¡
* 
	m–Te¡
{
	mnuÎ±r
};

64 
Chamb”Com³n§tiÚ
* 
	gchambComp
{
	gnuÎ±r
};

67 
š™
();

69 
	gvŞge
{0};

70 
boŞ
 
	gcom³n§tiÚ
{0};

71 
ušt
 
	gDAC1
{0};

	@gamma_ik_measuring_measure.cpp

3 
	~"gamma_ik_m—suršg_m—su».h
"

4 
	~"ui_gamma_ik_m—suršg_m—su».h
"

6 
	gGamma_IK_m—suršg_m—su»
::
	$Gamma_IK_m—suršg_m—su»
(
QWidg‘
 *
·»Á
,cÚ¡ 
QSŒšg
 
dim’siÚ
,

7 cÚ¡ 
dim’siÚFÜTime
,

8 
boŞ
 
»gime
, cÚ¡ 
ušt
 
timesAutom©ic
,

9 cÚ¡ 
ušt
 
timeAutom©ic
, cÚ¡ 
ušt8_t
 
th»ashŞd
,

10 cÚ¡ 
ušt
 
timeTh»ashŞd
, cÚ¡ 
do£Th»ashŞd
) :

11 
	`QDŸlog
(
·»Á
),

12 
	`Ab¡¿ù_m—su»m’t_m—su»m’t
(
dim’siÚ
, 
dim’siÚFÜTime
,
»gime
,

13 
timesAutom©ic
, 
timeAutom©ic
,

14 
th»ashŞd
, 
timeTh»ashŞd
, 
do£Th»ashŞd
),

15 
	$ui
(
Ãw
 
Ui
::
Gamma_IK_m—suršg_m—su»
)

17 
ui
->
	`£tupUi
(
this
);

18 
	`š™
();

19 
	}
}

21 
	gGamma_IK_m—suršg_m—su»
::~
	$Gamma_IK_m—suršg_m—su»
()

23 
d–‘e
 
tim”
;

24 
d–‘e
 
IKgamma
;

25 
d–‘e
 
autoResuÉ
;

26 
d–‘e
 
ui
;

27 
	}
}

29 
	gGamma_IK_m—suršg_m—su»
::
	$š™
()

31 
this
->
	`£tA‰ribu‹
(
Qt
::
WA_D–‘eOnClo£
);

32 
	`£tWšdowT™Ë
("Ğ“Ğ°Ğ¼Ğ¼Ğ° Ğ¸Ğ·Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ - Ğ˜Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ğµ ĞºĞ°Ğ¼ĞµÑ€Ñ‹ - Ğ¸Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ğµ");

33 
ui
->
Ïb–_22
->
	`£tStyËSh“t
("font-size:100px; color:„ed;");

34 
ui
->
Ïb–_25
->
	`£tStyËSh“t
("font-size:100px; color:„ed;");

35 
ui
->
Ïb–_21
->
	`£tStyËSh“t
("font-size:50px; color: yellow;");

36 
ui
->
Ïb–_3
->
	`£tStyËSh“t
("font-size:50px; color: cyan;");

38 
ui
->
Ïb–_11
->
	`£tStyËSh“t
("font-size:20px; color: yellow;");

39 
tim”
 = 
Ãw
 
	`QTim”
(
this
);

40 
	`cÚÃù
(
tim”
,&
QTim”
::
timeout
,
this
,&
Gamma_IK_m—suršg_m—su»
::
timeOut
);

41 
tim”S¹
=
Ãw
 
	`QTim”
(
this
);

42 
	`cÚÃù
(
tim”S¹
,&
QTim”
::
timeout
,
this
,&
Gamma_IK_m—suršg_m—su»
::
¡¬tTimeOut
);

44 if(
Regime
==
Œue
&&
TimeAutom©ic
!=0&&
TimesAutom©ic
!=0)

46 
ui
->
Ïb–_11
->
	`£tText
("ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹");

47 
ui
->
Ïb–_12
->
	`£tText
("ĞĞ¾Ğ¼ĞµÑ€");

48 
ui
->
Ïb–_13
->
	`£tText
("0");

49 
ui
->
Ïb–_14
->
	`£tText
("Ğ¸Ğ·");

50 
ui
->
Ïb–_15
->
	`£tText
(
QSŒšg
::
	`numb”
(
TimesAutom©ic
));

51 
ui
->
Ïb–_16
->
	`£tText
("Ğ²Ñ€ĞµĞ¼Ñ");

52 
ui
->
Ïb–_17
->
	`£tText
("0");

53 
ui
->
Ïb–_18
->
	`£tText
("Ğ¿Ğ¾Ñ€Ğ¾Ğ³ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸");

54 
ui
->
Ïb–_19
->
	`£tText
(
QSŒšg
::
	`numb”
(
TimeAutom©ic
));

58 
ui
->
Ïb–_11
->
	`£tText
("Ğ ÑƒÑ‡Ğ½Ğ¾Ğ¹");

59 
ui
->
Ïb–_12
->
	`£tText
("");

60 
ui
->
Ïb–_13
->
	`£tText
("");

61 
ui
->
Ïb–_14
->
	`£tText
("");

62 
ui
->
Ïb–_15
->
	`£tText
("");

63 
ui
->
Ïb–_16
->
	`£tText
("");

64 
ui
->
Ïb–_17
->
	`£tText
("");

65 
ui
->
Ïb–_18
->
	`£tText
("");

66 
ui
->
Ïb–_19
->
	`£tText
("");

69 
QMes§geBox
* 
¡¬tMsg
 = 
Ãw
 
	`QMes§geBox
(QMes§geBox::
IcÚ
::
InfÜm©iÚ
,"","",QMes§geBox::
NoBu‰Ú
,
this
,
Qt
::
F¿m–essWšdowHšt
);

70 
¡¬tMsg
->
	`£tText
("ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ¾Ğ´Ğ¸Ñ‚ÑÑ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¾Ğ±Ğ¾Ñ€ÑƒĞ´Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ");

71 
¡¬tMsg
->
	`£tSnd¬dBu‰Ús
(0);

72 
¡¬tMsg
->
	`£tStyËSh“t
("background-color:„gb(180,178,177);");

73 
QTim”
::
	`sšgËShÙ
(4000,
¡¬tMsg
,
	`SLOT
(
	`hide
()));

74 
¡¬tMsg
->
	`exec
();

75 
d–‘e
 
¡¬tMsg
;

76 
	}
}

78 
	gGamma_IK_m—suršg_m—su»
::
	$autoModeResuÉ
(
Av”ageDo£R©e
, 
Do£R©e_devŸtiÚ_av”age
,

79 
Av”ageDo£
, 
Do£_devŸtiÚ_av”age
)

82 
autoIn™Ÿliz©iÚ
 ="Ğ“Ğ°Ğ¼Ğ¼Ğ° Ğ¸Ğ·Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ, ĞºĞ°Ğ¼ĞµÑ€Ğ° \n" + 
blockName
 +

83 "\nĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ¸Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ğ¹: "+
QSŒšg
::
	`numb”
(
TimesAutom©ic
) +

84 "\nĞ’Ñ€ĞµĞ¼Ñ Ğ¸Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ğ¹: "+
QSŒšg
::
	`numb”
(
TimeAutom©ic
)+" c";

85 
autoResuÉ
 = 
Ãw
 
	`Auto_m—su»m’t_»suÉ
(
this
,
V®ue
,
IÁeg¿lV®ue
,
autoIn™Ÿliz©iÚ
);

86 
autoResuÉ
->
	`£tMod®
(
Œue
);

87 
	`do£To4
(
Av”ageDo£R©e
,
Dim’siÚ
,
autoResuÉ
->
avDo£R©e
,autoResuÉ->
avDo£R©eDim’siÚ
);

88 
	`do£To4
(
Av”ageDo£
,
Dim’siÚDo£
,
autoResuÉ
->
avDo£
,autoResuÉ->
avDo£Dim’siÚ
);

89 
autoResuÉ
->
avDo£R©eDevŸtiÚ
->
	`£tText
(
QSŒšg
::
	`numb”
(
Do£R©e_devŸtiÚ_av”age
) +" %");

90 
autoResuÉ
->
avDo£DevŸtiÚ
->
	`£tText
(
QSŒšg
::
	`numb”
(
Do£_devŸtiÚ_av”age
) +" %");

91 
autoResuÉ
->
	`show
();

92 
	}
}

94 
	gGamma_IK_m—suršg_m—su»
::
	$timeOut
()

97 
time
++;

98 
ui
->
Ïb–_3
->
	`£tText
(
QSŒšg
::
	`numb”
(
time
) + " c");

100 
do£R©e
 = (
IKgamma
->
	`g‘Do£R©e
());

102 
cu¼’tDo£R©e
 = 
do£R©e
*
timeCÛf
;

103 
	`do£To4
(
cu¼’tDo£R©e
,
Dim’siÚ
,
ui
->
Ïb–_9
,ui->
Ïb–_2
);

109 
do£
+=
do£R©e
;

110 
do£FÜAuto
+=
do£R©e
;

111 
	`do£To4
(
do£
,
Dim’siÚDo£
,
ui
->
Ïb–_8
,ui->
Ïb–_7
);

114 
avDo£R©e
=(
do£FÜAuto
/
time
)*
timeCÛf
;

116 
	`do£To4
(
avDo£R©e
,
Dim’siÚ
,
ui
->
Ïb–_22
,ui->
Ïb–_25
);

117 
Ùkl
+=
do£R©e
*do£R©e*
timeCÛf
*timeCoef;

118 if(
time
>0)

120 
z
=
	`sq¹
((
Ùkl
/
time
)-
avDo£R©e
*avDoseRate);

128 
Snd¬dDevŸtiÚ
=
¡d
::
	`abs
(
z
/
avDo£R©e
);

129 
ui
->
Ïb–_20
->
	`£tText
(
QSŒšg
::
	`numb”
(
Snd¬dDevŸtiÚ
*100,'f',3)+" %");

132 if(
Regime
==
Œue
&&
TimeAutom©ic
!=0&&
TimesAutom©ic
!=0)

134 
	`autoMode
(
do£
,
tim”
,
ui
->
Ïb–_17
,ui->
Ïb–_13
);

139 
	`timeTh»ashŞd
(
time
,
ui
->
Ïb–_21
,
tim”
);

140 
	`do£Th»ashŞd
(
do£
,
ui
->
Ïb–_21
,
tim”
);

142 
	}
}

145 
	gGamma_IK_m—suršg_m—su»
::
	$GammaIK
(
GammaIK_chamb”
 *
ikgamma
)

147 
IKgamma
=
ikgamma
;

148 
blockName
=
IKgamma
->
	`g‘BlockName
();

149 
ui
->
Ïb–_5
->
	`£tText
(
blockName
);

150 
IKgamma
->
	`g‘MesP¬am
())

153 
V®ue
="ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ ĞĞ¼Ğ±Ğ¸ĞµĞ½Ñ‚Ğ½Ğ¾Ğ³Ğ¾ Ğ­ĞºĞ²Ğ¸Ğ²Ğ°Ğ»ĞµĞ½Ñ‚Ğ° Ğ”Ğ¾Ğ·Ñ‹";

154 
IÁeg¿lV®ue
 = "ĞĞ¼Ğ±Ğ¸ĞµĞ½Ñ‚Ğ½Ñ‹Ğ¹ Ğ­ĞºĞ²Ğ¸Ğ²Ğ°Ğ»ĞµĞ½Ñ‚ Ğ”Ğ¾Ğ·Ñ‹";;

156 
V®ue
="ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ ĞĞ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ Ğ­ĞºĞ²Ğ¸Ğ²Ğ°Ğ»ĞµĞ½Ñ‚Ğ° Ğ”Ğ¾Ğ·Ñ‹";

157 
IÁeg¿lV®ue
 = "ĞĞ°Ğ¿Ñ€Ğ²Ğ»ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ­ĞºĞ²Ğ¸Ğ²Ğ°Ğ»ĞµĞ½Ñ‚ Ğ”Ğ¾Ğ·Ñ‹";;

159 
V®ue
="ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ Ğ˜Ğ½Ğ´Ğ¸Ğ²Ğ¸Ğ´ÑƒĞ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ­ĞºĞ²Ğ¸Ğ²Ğ°Ğ»ĞµĞ½Ñ‚Ğ° Ğ”Ğ¾Ğ·Ñ‹";

160 
IÁeg¿lV®ue
 = "Ğ˜Ğ½Ğ´Ğ¸Ğ²Ğ¸Ğ´ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ­ĞºĞ²Ğ¸Ğ²Ğ°Ğ»ĞµĞ½Ñ‚ Ğ”Ğ¾Ğ·Ñ‹";;

162 
V®ue
="ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ ĞšĞ•Ğ ĞœĞ«";

163 
IÁeg¿lV®ue
 = "ĞšĞ•Ğ ĞœĞ";;

165 
V®ue
="ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ ĞŸĞ¾Ğ³Ğ»Ğ¾Ñ‰ĞµĞ½Ğ½Ğ¾Ğ¹ Ğ”Ğ¾Ğ·Ñ‹";

166 
IÁeg¿lV®ue
 = "ĞŸĞ¾Ğ³Ğ»Ğ¾Ñ‰ĞµĞ½Ğ½Ğ°Ñ Ğ”Ğ¾Ğ·Ğ°";;

168 
V®ue
="ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ Ğ­ĞºÑĞ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¾Ğ½Ğ½Ğ¾Ğ¹ Ğ”Ğ¾Ğ·Ñ‹";

169 
IÁeg¿lV®ue
 = "Ğ­ĞºÑĞ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¾Ğ½Ğ½Ğ°Ñ Ğ”Ğ¾Ğ·Ñ‹";;

171 
ui
->
Ïb–
->
	`£tText
(
V®ue
);

172 
ui
->
Ïb–_6
->
	`£tText
(
IÁeg¿lV®ue
);

173 
	}
}

175 
	gGamma_IK_m—suršg_m—su»
::
	$Ú_pushBu‰Ú_9_şicked
()

177 
	`şo£
();

178 
	}
}

180 
	gGamma_IK_m—suršg_m—su»
::
	$Ú_pushBu‰Ú_7_şicked
()

182 
ui
->
pushBu‰Ú_7
->
	`£tEÇbËd
(
çl£
);

183 
ui
->
pushBu‰Ú_9
->
	`£tEÇbËd
(
çl£
);

184 
ui
->
pushBu‰Ú_7
->
	`£tVisibË
(
çl£
);

185 
ui
->
pushBu‰Ú_9
->
	`£tVisibË
(
çl£
);

186 
ui
->
pushBu‰Ú_8
->
	`£tEÇbËd
(
çl£
);

188 
tim”S¹
->
	`£tSšgËShÙ
(
Œue
);

189 
tim”S¹
->
	`¡¬t
(60000);

190 
ui
->
Ïb–_3
->
	`£tText
(
QSŒšg
::
	`numb”
(
time
));

191 
ui
->
Ïb–_21
->
	`£tText
("ĞŸĞ ĞĞ“Ğ Ğ•Ğ’!!!");

192 
	}
}

194 
	gGamma_IK_m—suršg_m—su»
::
	$¡¬tTimeOut
()

196 
ui
->
pushBu‰Ú_8
->
	`£tEÇbËd
(
Œue
);

197 
tim”
->
	`¡¬t
(1000);

198 
time
=0;

199 
ui
->
Ïb–_3
->
	`£tText
(
QSŒšg
::
	`numb”
(
time
));

200 
do£
=0;

201 
Ùkl
=0;

202 
do£FÜAuto
=0;

203 
ui
->
Ïb–_21
->
	`£tText
("");

204 
	}
}

207 
	gGamma_IK_m—suršg_m—su»
::
	$Ú_pushBu‰Ú_8_şicked
()

209 
ui
->
pushBu‰Ú_7
->
	`£tEÇbËd
(
Œue
);

210 
ui
->
pushBu‰Ú_9
->
	`£tEÇbËd
(
Œue
);

211 
ui
->
pushBu‰Ú_7
->
	`£tVisibË
(
Œue
);

212 
ui
->
pushBu‰Ú_9
->
	`£tVisibË
(
Œue
);

214 
tim”
->
	`¡İ
();

215 
	}
}

217 
	gGamma_IK_m—suršg_m—su»
::
	$”rÜCÚÃùiÚSlÙ
()

219 
QMes§geBox
::
	`w¬nšg
(
this
, "ĞÑˆĞ¸Ğ±ĞºĞ°","ĞÑˆĞ¸Ğ±ĞºĞ° Ğ² Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğ¸");

220 
	`şo£
();

221 
	}
}

	@gamma_ik_measuring_measure.h

1 #iâdeà
GAMMA_IK_MEASURING_MEASURE_H


2 
	#GAMMA_IK_MEASURING_MEASURE_H


	)

4 
	~"gammaik_chamb”.h
"

5 
	~"auto_m—su»m’t_»suÉ.h
"

6 
	~"ab¡¿ù_m—su»m’t_m—su»m’t.h
"

8 
	~<QDŸlog
>

9 
	~<QMes§geBox
>

11 
Çme¥aû
 
	gUi
 {

12 
şass
 
	gGamma_IK_m—suršg_m—su»
;

15 
şass
 
	gGamma_IK_m—suršg_m—su»
 : 
public
 
QDŸlog
,…ubliø
	gAb¡¿ù_m—su»m’t_m—su»m’t


17 
Q_OBJECT


19 
	gpublic
:

20 
ex¶ic™
 
Gamma_IK_m—suršg_m—su»
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
,cÚ¡ 
QSŒšg
 
dim’siÚ
="",cÚ¡ 
dim’siÚFÜTime
=0,

21 
boŞ
 
»gime
=0, cÚ¡ 
ušt
 
timesAutom©ic
=0,

22 cÚ¡ 
ušt
 
timeAutom©ic
=0, cÚ¡ 
ušt8_t
 
th»ashŞd
=0,

23 cÚ¡ 
ušt
 
timeTh»ashŞd
=0, cÚ¡ 
do£Th»ashŞd
=0);

24 ~
Gamma_IK_m—suršg_m—su»
(è
	gov”ride
;

26 
GammaIK
(
GammaIK_chamb”
* 
ikgamma
);

28 
	gsigÇls
:

29 
”rÜCÚÃùiÚSig
();

31 
public
 
	g¦Ùs
:

32 
”rÜCÚÃùiÚSlÙ
();

34 
´iv©e
 
	g¦Ùs
:

35 
timeOut
();

36 
¡¬tTimeOut
();

38 
Ú_pushBu‰Ú_9_şicked
();

40 
Ú_pushBu‰Ú_7_şicked
();

42 
Ú_pushBu‰Ú_8_şicked
();

44 
	g´iv©e
:

45 
Ui
::
Gamma_IK_m—suršg_m—su»
 *
ui
;

46 
GammaIK_chamb”
* 
	gIKgamma
{
	gnuÎ±r
};

47 
Auto_m—su»m’t_»suÉ
* 
	gautoResuÉ
{
	gnuÎ±r
};

48 
QTim”
 *
	gtim”
{
	gnuÎ±r
};

49 
QTim”
 *
	gtim”S¹
{
	gnuÎ±r
};

51 
š™
();

52 
autoModeResuÉ
(,,,è
	gov”ride
;

55 
ulÚg
 
	gtime
{0};

56 
	gdo£R©e
{0};

57 
	gdo£
{0};

59 
QSŒšg
 
	gblockName
{""};

60 
QSŒšg
 
	gV®ue
{""};

61 
QSŒšg
 
	gIÁeg¿lV®ue
{""};

	@gamma_ik_verify.cpp

3 
	~"gamma_ik_v”ify.h
"

4 
	~"ui_gamma_ik_v”ify.h
"

6 
	gGamma_IK_v”ify
::
	$Gamma_IK_v”ify
(
QWidg‘
 *
·»Á
) :

7 
	`QDŸlog
(
·»Á
),

8 
	$ui
(
Ãw
 
Ui
::
Gamma_IK_v”ify
)

10 
ui
->
	`£tupUi
(
this
);

11 
	`š™
();

12 
	}
}

14 
	gGamma_IK_v”ify
::~
	$Gamma_IK_v”ify
()

16 
d–‘e
 
tim”
;

17 
d–‘e
 
¡¬tTim”
;

18 
d–‘e
 
IKgamma
;

19 
d–‘e
 
ui
;

20 
	}
}

22 
	gGamma_IK_v”ify
::
	$š™
()

24 
	`£tA‰ribu‹
(
Qt
::
WA_D–‘eOnClo£
);

25 
	`£tWšdowT™Ë
("Ğ“Ğ°Ğ¼Ğ¼Ğ° Ğ¸Ğ·Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ - Ğ¸Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ğµ ĞºĞ°Ğ¼ĞµÑ€Ñ‹ - ĞºĞ°Ğ»Ğ¸Ğ±Ñ€Ğ¾Ğ²ĞºĞ°");

26 
ui
->
Ïb–
->
	`£tStyËSh“t
("font-size:100px; color:„ed;");

27 
ui
->
Ïb–_2
->
	`£tStyËSh“t
("font-size:100px; color:„ed;");

28 
ui
->
Ïb–_3
->
	`£tStyËSh“t
("font-size:50px; color: cyan;");

29 
ui
->
lšeEd™
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->lineEdit));

31 
ui
->
lšeEd™_2
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->lineEdit_2));

34 
tim”
 = 
Ãw
 
	`QTim”
(
this
);

35 
	`cÚÃù
(
tim”
,&
QTim”
::
timeout
,
this
,&
Gamma_IK_v”ify
::
timeOut
);

36 
¡¬tTim”
 = 
Ãw
 
	`QTim”
(
this
);

37 
	`cÚÃù
(
¡¬tTim”
,&
QTim”
::
timeout
,
this
,&
Gamma_IK_v”ify
::
¡¬tTimeOut
);

40 
QMes§geBox
* 
¡¬tMsg
 = 
Ãw
 
	`QMes§geBox
(QMes§geBox::
IcÚ
::
InfÜm©iÚ
,"","",QMes§geBox::
NoBu‰Ú
,
this
,
Qt
::
F¿m–essWšdowHšt
);

41 
¡¬tMsg
->
	`£tText
("ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ¾Ğ´Ğ¸Ñ‚ÑÑ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¾Ğ±Ğ¾Ñ€ÑƒĞ´Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ");

42 
¡¬tMsg
->
	`£tSnd¬dBu‰Ús
(0);

43 
¡¬tMsg
->
	`£tStyËSh“t
("background-color:„gb(180,178,177);");

44 
QTim”
::
	`sšgËShÙ
(4000,
¡¬tMsg
,
	`SLOT
(
	`hide
()));

45 
¡¬tMsg
->
	`exec
();

46 
d–‘e
 
¡¬tMsg
;

47 
	}
}

49 
	gGamma_IK_v”ify
::
	$timeOut
()

52 
time
++;

53 
ui
->
Ïb–_3
->
	`£tText
(
QSŒšg
::
	`numb”
(
time
) + " c");

55 
I
 = 
IKgamma
->
	`g‘I»s
();

59 
Isum
+=
I
;

60 
avI
=(
Isum
/
time
);

62 
ui
->
Ïb–
->
	`£tText
(
QSŒšg
::
	`numb”
(
avI
,'E'));

63 
Ùkl
+=
I
*I;

64 if(
time
>0)

66 
z
=
	`sq¹
((
Ùkl
/
time
)-
avI
*avI);

74 
Snd¬dDevŸtiÚ
=
¡d
::
	`abs
(
z
/
avI
);

75 
ui
->
Ïb–_4
->
	`£tText
(
QSŒšg
::
	`numb”
(
Snd¬dDevŸtiÚ
*100,'f',3)+" %");

77 
	}
}

80 
	gGamma_IK_v”ify
::
	$g‘GammaChamb”
(
GammaIK_chamb”
 *
b‘a
)

82 
IKgamma
 = 
b‘a
;

83 
ui
->
Ïb–_5
->
	`£tText
(
IKgamma
->
	`g‘BlockName
());

84 
chamb”Name
 = 
IKgamma
->
	`g‘BlockName
();

85 
MesP¬am
 = 
IKgamma
->
	`g‘MesP¬am
();

86 if(
MesP¬am
==0)

88 
ui
->
Ïb–_8
->
	`£tText
("ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ ĞĞ¼Ğ±Ğ¸ĞµĞ½Ñ‚Ğ½Ğ¾Ğ³Ğ¾ Ğ­ĞºĞ²Ğ¸Ğ²Ğ°Ğ»ĞµĞ½Ñ‚Ğ° Ğ”Ğ¾Ğ·Ñ‹");

89 
ui
->
comboBox
->
	`addI‹m
("Ğ—Ğ²/Ñ");

90 
ui
->
comboBox
->
	`addI‹m
("Ğ¼Ğ—Ğ²/Ñ");

91 
ui
->
comboBox
->
	`addI‹m
("Ğ¼ĞºĞ—Ğ²/Ñ");

92 
ui
->
comboBox
->
	`addI‹m
("Ğ—Ğ²/Ñ‡");

93 
ui
->
comboBox
->
	`addI‹m
("Ğ¼Ğ—Ğ²/Ñ‡");

94 
ui
->
comboBox
->
	`addI‹m
("Ğ¼ĞºĞ—Ğ²/Ñ‡");

95 
ui
->
Ïb–_6
->
	`£tText
("Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ ĞœĞĞ­Ğ”");

96 
ui
->
Ïb–_7
->
	`£tText
("Ğ§ÑƒĞ²ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ, Ğ—Ğ²/ĞšĞ»");

98 if(
MesP¬am
==1)

100 
ui
->
Ïb–_8
->
	`£tText
("ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ Ğ˜Ğ½Ğ´Ğ¸Ğ²Ğ¸Ğ´ÑƒĞ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ­ĞºĞ²Ğ¸Ğ²Ğ°Ğ»ĞµĞ½Ñ‚Ğ° Ğ”Ğ¾Ğ·Ñ‹");

101 
ui
->
comboBox
->
	`addI‹m
("Ğ—Ğ²/Ñ");

102 
ui
->
comboBox
->
	`addI‹m
("Ğ¼Ğ—Ğ²/Ñ");

103 
ui
->
comboBox
->
	`addI‹m
("Ğ¼ĞºĞ—Ğ²/Ñ");

104 
ui
->
comboBox
->
	`addI‹m
("Ğ—Ğ²/Ñ‡");

105 
ui
->
comboBox
->
	`addI‹m
("Ğ¼Ğ—Ğ²/Ñ‡");

106 
ui
->
comboBox
->
	`addI‹m
("Ğ¼ĞºĞ—Ğ²/Ñ‡");

107 
ui
->
Ïb–_6
->
	`£tText
("Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ ĞœĞ˜Ğ­Ğ”");

108 
ui
->
Ïb–_7
->
	`£tText
("Ğ§ÑƒĞ²ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ, Ğ—Ğ²/ĞšĞ»");

110 if(
MesP¬am
==2)

112 
ui
->
Ïb–_8
->
	`£tText
("ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ ĞĞ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ Ğ­ĞºĞ²Ğ¸Ğ²Ğ°Ğ»ĞµĞ½Ñ‚Ğ° Ğ”Ğ¾Ğ·Ñ‹");

113 
ui
->
comboBox
->
	`addI‹m
("Ğ—Ğ²/Ñ");

114 
ui
->
comboBox
->
	`addI‹m
("Ğ¼Ğ—Ğ²/Ñ");

115 
ui
->
comboBox
->
	`addI‹m
("Ğ¼ĞºĞ—Ğ²/Ñ");

116 
ui
->
comboBox
->
	`addI‹m
("Ğ—Ğ²/Ñ‡");

117 
ui
->
comboBox
->
	`addI‹m
("Ğ¼Ğ—Ğ²/Ñ‡");

118 
ui
->
comboBox
->
	`addI‹m
("Ğ¼ĞºĞ—Ğ²/Ñ‡");

119 
ui
->
Ïb–_6
->
	`£tText
("Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ ĞœĞĞ­Ğ”");

120 
ui
->
Ïb–_7
->
	`£tText
("Ğ§ÑƒĞ²ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ, Ğ—Ğ²/ĞšĞ»");

122 if(
MesP¬am
==3)

124 
ui
->
Ïb–_8
->
	`£tText
("ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ ĞšĞµÑ€Ğ¼Ñ‹");

125 
ui
->
comboBox
->
	`addI‹m
("Ğ“Ñ€/Ñ");

126 
ui
->
comboBox
->
	`addI‹m
("Ğ¼Ğ“Ñ€/Ñ");

127 
ui
->
comboBox
->
	`addI‹m
("Ğ¼ĞºĞ“Ñ€/Ñ");

128 
ui
->
comboBox
->
	`addI‹m
("Ğ“Ñ€/Ñ‡");

129 
ui
->
comboBox
->
	`addI‹m
("Ğ¼Ğ“Ñ€/Ñ‡");

130 
ui
->
comboBox
->
	`addI‹m
("Ğ¼ĞºĞ“Ñ€/Ñ‡");

131 
ui
->
Ïb–_6
->
	`£tText
("Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚Ğ¸ ĞšĞ•Ğ ĞœĞ");

132 
ui
->
Ïb–_7
->
	`£tText
("Ğ§ÑƒĞ²ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ, Ğ“Ñ€/ĞšĞ»");

134 if(
MesP¬am
==4)

136 
ui
->
Ïb–_8
->
	`£tText
("ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ ĞŸĞ¾Ğ³Ğ»Ğ¾Ñ‰ĞµĞ½Ğ½Ğ¾Ğ¹ Ğ”Ğ¾Ğ·Ñ‹");

137 
ui
->
comboBox
->
	`addI‹m
("Ğ“Ñ€/Ñ");

138 
ui
->
comboBox
->
	`addI‹m
("Ğ¼Ğ“Ñ€/Ñ");

139 
ui
->
comboBox
->
	`addI‹m
("Ğ¼ĞºĞ“Ñ€/Ñ");

140 
ui
->
comboBox
->
	`addI‹m
("Ğ“Ñ€/Ñ‡");

141 
ui
->
comboBox
->
	`addI‹m
("Ğ¼Ğ“Ñ€/Ñ‡");

142 
ui
->
comboBox
->
	`addI‹m
("Ğ¼ĞºĞ“Ñ€/Ñ‡");

143 
ui
->
Ïb–_6
->
	`£tText
("Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ ĞœĞŸĞ”");

144 
ui
->
Ïb–_7
->
	`£tText
("Ğ§ÑƒĞ²ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ, Ğ“Ñ€/ĞšĞ»");

146 if(
MesP¬am
==5)

148 
ui
->
Ïb–_8
->
	`£tText
("ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ Ğ­ĞºÑĞ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¾Ğ½Ğ½Ğ¾Ğ¹ Ğ”Ğ¾Ğ·Ñ‹");

149 
ui
->
comboBox
->
	`addI‹m
("Ğ /Ñ");

150 
ui
->
comboBox
->
	`addI‹m
("Ğ¼Ğ /Ñ");

151 
ui
->
comboBox
->
	`addI‹m
("Ğ¼ĞºĞ /Ñ");

152 
ui
->
comboBox
->
	`addI‹m
("Ğ /Ñ‡");

153 
ui
->
comboBox
->
	`addI‹m
("Ğ¼Ğ /Ñ‡");

154 
ui
->
comboBox
->
	`addI‹m
("Ğ¼ĞºĞ /Ñ‡");

155 
ui
->
Ïb–_6
->
	`£tText
("Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ ĞœĞ­Ğ”");

156 
ui
->
Ïb–_7
->
	`£tText
("Ğ§ÑƒĞ²ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ, Ğ /ĞšĞ»");

158 
QSŒšg
 
msgSŒ
 = "Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ° %1 \n"

162 
QSŒšg
 
msgSŒ1
 = 
msgSŒ
.
	`¬g
(
ui
->
Ïb–_8
->
	`‹xt
());

163 
QMes§geBox
::
	`šfÜm©iÚ
(
this
,"Ğ’Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ",
msgSŒ1
,QMes§geBox::
Ok
);

164 
	}
}

166 
	gGamma_IK_v”ify
::
	$Ú_pushBu‰Ú_şicked
()

169 
	`şo£
();

170 
	}
}

172 
	gGamma_IK_v”ify
::
	$Ú_pushBu‰Ú_2_şicked
()

174 
ui
->
pushBu‰Ú_2
->
	`£tEÇbËd
(
çl£
);

175 
ui
->
pushBu‰Ú
->
	`£tEÇbËd
(
çl£
);

176 
ui
->
pushBu‰Ú_2
->
	`£tVisibË
(
çl£
);

177 
ui
->
pushBu‰Ú
->
	`£tVisibË
(
çl£
);

178 
ui
->
pushBu‰Ú_3
->
	`£tEÇbËd
(
çl£
);

179 
¡¬tTim”
->
	`£tSšgËShÙ
(
Œue
);

180 
¡¬tTim”
->
	`¡¬t
(60000);

181 
Isum
=0;

182 
time
=0;

183 
Ùkl
=0;

184 
ui
->
Ïb–_3
->
	`£tText
("ĞŸĞ ĞĞ“Ğ Ğ•Ğ’!");

185 
	}
}

187 
	gGamma_IK_v”ify
::
	$¡¬tTimeOut
()

189 
ui
->
pushBu‰Ú_3
->
	`£tEÇbËd
(
Œue
);

190 
tim”
->
	`¡¬t
(1000);

191 
	}
}

193 
	gGamma_IK_v”ify
::
	$Ú_pushBu‰Ú_3_şicked
()

195 
ui
->
pushBu‰Ú_2
->
	`£tEÇbËd
(
Œue
);

196 
ui
->
pushBu‰Ú
->
	`£tEÇbËd
(
Œue
);

197 
ui
->
pushBu‰Ú_2
->
	`£tVisibË
(
Œue
);

198 
ui
->
pushBu‰Ú
->
	`£tVisibË
(
Œue
);

199 
tim”
->
	`¡İ
();

200 if(
ui
->
Ïb–
->
	`‹xt
()=="Ğ¢Ğ¾Ğº"||ui->
lšeEd™
->‹xt()==""){ui->
lšeEd™_2
->
	`£tText
("");}

203 
I
 = 
avI
;

204 
QSŒšg
 
¡r
=
ui
->
lšeEd™
->
	`‹xt
();

205 
¡r
.
	`»¶aû
(",",".");

206 
do£R©e
 = 
¡r
.
	`toDoubË
();

207 
£ns
=0;

208 
ui
->
comboBox
->
	`cu¼’tIndex
())

210 0: 
£ns
=
¡d
::
	`abs
(
do£R©e
/
I
);;

211 1: 
£ns
=
¡d
::
	`abs
((1/(1E3))*
do£R©e
/
I
);;

212 2: 
£ns
=
¡d
::
	`abs
((1/(1E6))*
do£R©e
/
I
);;

213 3: 
£ns
=
¡d
::
	`abs
((1/(3.6E3))*
do£R©e
/
I
);;

214 4: 
£ns
=
¡d
::
	`abs
((1/(3.6E6))*
do£R©e
/
I
);;

215 5: 
£ns
=
¡d
::
	`abs
((1/(3.6E9))*
do£R©e
/
I
);;

219 
QSŒšg
 
£nsib™y
 = QSŒšg::
	`numb”
(
£ns
);

220 
ui
->
lšeEd™_2
->
	`£tText
(
£nsib™y
);

222 
	}
}

224 
	gGamma_IK_v”ify
::
	$Ú_pushBu‰Ú_4_şicked
()

226 ià(
ui
->
lšeEd™_2
->
	`‹xt
()==""){
QMes§geBox
::
	`w¬nšg
(
this
,"Ğ’Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ","ĞĞµ Ğ·Ğ°Ğ´Ğ°Ğ½Ğ¾ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ",QMes§geBox::
Ok
);}

229 
QSŒšg
 
£nsib™y
 = 
ui
->
lšeEd™_2
->
	`‹xt
();

230 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

232 
QSqlD©aba£
 
db
 = QSqlD©aba£::
	`d©aba£
("myDB");

233 
db
.
	`£tD©aba£Name
("config.db");

234 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

235 
QSqlQu”y
 
	`qu”y
(
db
);

236 
QSŒšg
 
qSŒ
="";

237 ià(
MesP¬am
==0){
qSŒ
="UPDATE gammaChambers SET sensibilityMAED='%1' WHERE‚ame='%2'";}

238 ià(
MesP¬am
==1){
qSŒ
="UPDATE gammaChambers SET sensibilityMNED='%1' WHERE‚ame='%2'";}

239 ià(
MesP¬am
==2){
qSŒ
="UPDATE gammaChambers SET sensibilityMIED='%1' WHERE‚ame='%2'";}

240 ià(
MesP¬am
==3){
qSŒ
="UPDATE gammaChambers SET sensibilityKERMA='%1' WHERE‚ame='%2'";}

241 ià(
MesP¬am
==4){
qSŒ
="UPDATE gammaChambers SET sensibilityMPD='%1' WHERE‚ame='%2'";}

242 ià(
MesP¬am
==5){
qSŒ
="UPDATE gammaChambers SET sensibilityMED='%1' WHERE‚ame='%2'";}

244 
QSŒšg
 
qSŒ1
=
qSŒ
.
	`¬g
(
ui
->
lšeEd™_2
->
	`‹xt
()).¬g(
chamb”Name
);

245 
	`qDebug
()<<
IKgamma
->
	`g‘BlockName
();

246 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y UPDATE gammaChamb”s";
db
.
	`Ï¡E¼Ü
().
	`‹xt
();}

247 
db
.
	`şo£
();

249 
QMes§geBox
::
	`w¬nšg
(
this
,"Ğ’Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ","Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ Ñ‡ÑƒĞ²ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸ Ğ±Ñ‹Ğ»Ğ¾ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¾",QMes§geBox::
Ok
);

251 
	}
}

	@gamma_ik_verify.h

1 #iâdeà
GAMMA_IK_VERIFY_H


2 
	#GAMMA_IK_VERIFY_H


	)

4 
	~"gammaik_chamb”.h
"

6 
	~<cm©h
>

7 
	~<QDŸlog
>

8 
	~<QMes§geBox
>

10 
Çme¥aû
 
	gUi
 {

11 
şass
 
	gGamma_IK_v”ify
;

14 şas 
	cGamma_IK_v”ify
 : 
public
 
QDŸlog


16 
Q_OBJECT


18 
public
:

19 
ex¶ic™
 
Gamma_IK_v”ify
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
);

20 ~
Gamma_IK_v”ify
();

22 
g‘GammaChamb”
(
GammaIK_chamb”
* 
b‘a
);

25 
´iv©e
 
	m¦Ùs
:

26 
timeOut
();

27 
¡¬tTimeOut
();

29 
Ú_pushBu‰Ú_şicked
();

31 
Ú_pushBu‰Ú_2_şicked
();

33 
Ú_pushBu‰Ú_3_şicked
();

35 
Ú_pushBu‰Ú_4_şicked
();

37 
	m´iv©e
:

38 
Ui
::
Gamma_IK_v”ify
 *
ui
;

39 
GammaIK_chamb”
* 
	mIKgamma
{
	mnuÎ±r
};

40 
QTim”
* 
	gtim”
{
	gnuÎ±r
};

41 
QTim”
* 
	g¡¬tTim”
{
	gnuÎ±r
};

43 
š™
();

45 
	gtime
{0};

46 
	gI
{0};

47 
	gIsum
{0};

48 
	gavI
{0};

49 
	gÙkl
{0};

50 
	gSnd¬dDevŸtiÚ
{0};

52 
qušt8
 
	gMesP¬am
{0};

53 
QSŒšg
 
	gchamb”Name
{""};

	@gammaik_chamber.cpp

1 
	~"gammaik_chamb”.h
"

3 
	gGammaIK_chamb”
::
	$GammaIK_chamb”
(
ušt8_t
 
r
, 
boŞ
 
comp
,
‹mp
,
p
, 
cÜrF
, 
QSŒšg
 
chamName
, 
qušt8
 
me¥¬am
)

4 :
	`Ichamb”
(
r
,
comp
,
‹mp
,
p
,
cÜrF
),
	`chamb”Name
(
chamName
),
	$mesP¬am
(
me¥¬am
)

6 
	`š™
();

7 
	}
}

9 
	gGammaIK_chamb”
::~
	$GammaIK_chamb”
()

11 
	`qDebug
()<<"~GammaIK_chamber()";

12 
	}
}

14 
	gGammaIK_chamb”
::
	$š™
()

16 
QSŒšg
 
¡r
 = 
chamb”Name
;

17 
x
=
¡r
.
	`šdexOf
(" ");

18 
chamb”Name
=
¡r
.
	`Ëá
(
x
);

19 
MAED
=0;

20 
MNED
=0;

21 
MIED
=0;

22 
KERMA
=0;

23 
MPD
=0;

24 
MED
=0;

25 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

27 
QSqlD©aba£
 
db
 = QSqlD©aba£::
	`d©aba£
("myDB");

28 
db
.
	`£tD©aba£Name
("config.db");

29 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

30 
QSqlQu”y
 
	`qu”y
(
db
);

31 
QSŒšg
 
qSŒ
="SELECT *FROM gammaChambers WHERE‚ame='%1'";

32 
QSŒšg
 
qSŒ1
=
qSŒ
.
	`¬g
(
chamb”Name
);

33 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"unableƒxecute query SELECT sensibility FROM gammaChambers WHERE‚ame='%1'";}

34 ià(
qu”y
.
	`fœ¡
())

36 
MAED
=
qu”y
.
	`v®ue
("£nsib™yMAED").
	`toDoubË
();

37 
MNED
=
qu”y
.
	`v®ue
("£nsib™yMNED").
	`toDoubË
();

38 
MIED
=
qu”y
.
	`v®ue
("£nsib™yMIED").
	`toDoubË
();

39 
KERMA
=
qu”y
.
	`v®ue
("£nsib™yKERMA").
	`toDoubË
();

40 
MPD
=
qu”y
.
	`v®ue
("£nsib™yMPD").
	`toDoubË
();

41 
MED
=
qu”y
.
	`v®ue
("£nsib™yMED").
	`toDoubË
();

44 
db
.
	`şo£
();

46 
mesP¬am
)

48 0: 
£nsCu¼
=
MAED
; ;

49 1: 
£nsCu¼
=
MNED
; ;

50 2: 
£nsCu¼
=
MIED
; ;

51 3: 
£nsCu¼
=
KERMA
; ;

52 4: 
£nsCu¼
=
MPD
; ;

53 5: 
£nsCu¼
=
MED
; ;

56 
	}
}

58 
	gGammaIK_chamb”
::
	$do£R©eCouÁ
()

60 
do£R©e
 = 
¡d
::
	`abs
(
	`g‘I»s
()*
£nsCu¼
);

63 
	}
}

65 
	gGammaIK_chamb”
::
	$g‘Do£R©e
()

67 
	`do£R©eCouÁ
();

68  
do£R©e
;

69 
	}
}

71 
QSŒšg
 
	gGammaIK_chamb”
::
	$g‘BlockName
()

73  
chamb”Name
;

74 
	}
}

76 
qušt8
 
	gGammaIK_chamb”
::
	$g‘MesP¬am
()

78  
mesP¬am
;

79 
	}
}

	@gammaik_chamber.h

1 #iâdeà
GAMMAIK_CHAMBER_H


2 
	#GAMMAIK_CHAMBER_H


	)

4 
	~<cm©h
>

5 
	~"ichamb”.h
"

7 şas 
	cGammaIK_chamb”
: 
public
 
Ichamb”


9 
public
:

10 
GammaIK_chamb”
(
ušt8_t
 
r
=0, 
boŞ
 
comp
=0,
‹mp
=0,
p
=0,

11 
cÜrF
=0, 
QSŒšg
 
chamName
="",
qušt8
 
me¥¬am
=0);

12 ~
GammaIK_chamb”
();

14 
	mpublic
:

15 
g‘Do£R©e
();

16 
QSŒšg
 
g‘BlockName
();

17 
qušt8
 
g‘MesP¬am
();

19 
	m´iv©e
:

20 
š™
();

21 
do£R©eCouÁ
();

23 
QSŒšg
 
	mchamb”Name
{""};

25 
qušt8
 
	gmesP¬am
{0};

26 
	g£nsCu¼
{0};

27 
	gdo£R©e
{0};

	@iblock.cpp

2 
	~"iblock.h
"

4 
	gIblock
::
	$Iblock
(
‹mp
,
p
, 
cÜrF
):

5 
	`Temp
(
‹mp
),
	`P
(
p
),
	$CÜrF
(
cÜrF
)

7 
	`š™
();

9 
	}
}

10 
	gIblock
::~
	$Iblock
()

12 
	`qDebug
()<<"~Iblock()";

13 
tim”
->
	`¡İ
();

14 
	`qDebug
()<<"timer->stop();";

15 
d–‘e
 
tim”
;

16 
	`qDebug
()<<"deleteimer;";

17 
d–‘e
 
av”ageMod
;

18 
	`qDebug
()<<"delete‡verageMod;";

19 
	}
}

23 
	gIblock
::
	$š™
()

25 
av”ageMod
 = 
Ãw
 
Av”ageModbus
;

26 
	`cÚÃù
(
av”ageMod
,&
Av”ageModbus
::
”rÜSig
,
this
,&
Iblock
::
”rÜSlÙ
);

27 
tim”
 = 
Ãw
 
QTim”
;

28 
	`cÚÃù
(
tim”
,&
QTim”
::
timeout
,
this
,&
Iblock
::
timeOut
);

30 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

32 
QSqlD©aba£
 
db
=QSqlD©aba£::
	`d©aba£
("myDB");

33 
db
.
	`£tD©aba£Name
("config.db");

34 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

35 
QSqlQu”y
 
	`qu”y
(
db
);

36 
QSŒšg
 
qSŒ
= "SELECT * FROM backgroundgamma";

37 if(!
qu”y
.
	`exec
(
qSŒ
)){

38 
	`qDebug
()<<"unableƒxecute query SELECT from backgroundgamma";

40 if(
qu”y
.
	`fœ¡
()) {

41 
backgroundCR
 = 
qu”y
.
	`v®ue
("backgroundGamma").
	`toFlßt
();

42 
	`qDebug
()<<"AAA"<<
backgroundCR
;

44 
db
.
	`şo£
();

47 
tim”
->
	`¡¬t
(500);

48 
	}
}

50 
	gIblock
::
	$timeOut
()

52 
	`accouÁ_CR
();

53 
	}
}

56 
	gIblock
::
	$accouÁ_CR
()

58 
CR
 = 
av”ageMod
->
	`g‘AvCR
();

59 
IblockCR_Res
 = (
CR
*
CÜrF
*760*((273+
Temp
)/(293*
P
)));

60 
IblockCR_ResGamma
 = ((
CR
 - 
backgroundCR
)*
CÜrF
*760*((273+
Temp
)/(293*
P
)));

61 
	`qDebug
()<<
IblockCR_ResGamma
;

62 
	}
}

64 
	gIblock
::
	$”rÜSlÙ
()

66 
em™
 
	`”rÜSig
();

67 
	}
}

	@iblock.h

1 #iâdeà
IBLOCK_H


2 
	#IBLOCK_H


	)

4 
	~"av”agemodbus.h
"

6 
	~<QObjeù
>

8 şas 
	cIblock
:
public
 
QObjeù


10 
Q_OBJECT


11 
public
:

12 
Iblock
(
‹mp
=0,
p
=0, 
cÜrF
=0);

13 ~
Iblock
();

15 
	msigÇls
:

16 
”rÜSig
();

18 
public
 
	m¦Ùs
:

19 
”rÜSlÙ
();

21 
´iv©e
 
	m¦Ùs
:

22 
timeOut
();

23 
	mpublic
:

24 
IblockCR_Res
{0};

25 
	gIblockCR_ResGamma
{0};

26 
	g´iv©e
:

27 
Av”ageModbus
* 
av”ageMod
{
nuÎ±r
};

28 
QTim”
* 
	gtim”
{
	gnuÎ±r
};

30 
š™
();

31 
accouÁ_CR
();

33 
	gTemp
{0};

34 
	gP
{0};

35 
	gCÜrF
{0};

36 
	gbackgroundCR
{0};

	@ichamber.cpp

3 
	~"ichamb”.h
"

4 
	~"q­¶iÿtiÚ.h
"

6 
	gIchamb”
::
	$Ichamb”
(
ušt8_t
 
r
,
boŞ
 
comp
,
‹mp
,
p
, 
cÜrF
):

7 
	`iR
(
r
),
	`Comp
(
comp
),
	`Temp
(
‹mp
),
	`P
(
p
),
	$CÜrF
(
cÜrF
)

9 
	`š™
();

10 
	}
}

12 
	gIchamb”
::~
	$Ichamb”
()

14 
	`qDebug
()<<"~Ichamber()";

15 
d–‘e
 
tim”
;

16 
d–‘e
 
av”ageADC
;

17 
	}
}

20 
	gIchamb”
::
	$š™
()

22 
hC2
.
	`»size
(2);

23 
hC2
[0]=0x2C; hC2[1]=0x32;

24 
h90
.
	`»size
(2);

25 
h90
[0]=0x29; h90[1]=0x30;

26 
hA0
.
	`»size
(2);

27 
hA0
[0]=0x2A; hA0[1]=0x30;

29 
av”ageADC
=
Ãw
 
Av”ageADC
;

30 
	`cÚÃù
(
this
,&
Ichamb”
::
wr™eToComSig
,
av”ageADC
,&
Av”ageADC
::
£ndToComSlÙ
);

32 
tim”
 = 
Ãw
 
	`QTim”
(
this
);

33 
	`cÚÃù
(
tim”
,&
QTim”
::
timeout
,
this
,&
Ichamb”
::
timeOut
);

34 
tim”
->
	`¡¬t
(500);

36 
sšgËTim”
 = 
Ãw
 
	`QTim”
(
this
);

37 
	`cÚÃù
(
sšgËTim”
,&
QTim”
::
timeout
,
this
,&
Ichamb”
::
sšgËTimeOut
);

38 
sšgËTim”
->
	`£tSšgËShÙ
(
Œue
);

42 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

44 
QSqlD©aba£
 
db
=QSqlD©aba£::
	`d©aba£
("myDB");

45 
db
.
	`£tD©aba£Name
("config.db");

46 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

47 
QSqlQu”y
 
	`qu”y
(
db
);

48 
QSŒšg
 
qSŒ
 = "SELECT *FROMƒlectrometer";

49 if(!
qu”y
.
	`exec
(
qSŒ
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y SELECTabËƒËùrom‘”"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

50 if(
qu”y
.
	`fœ¡
())

52 
R1
=
qu”y
.
	`v®ue
("R1").
	`toDoubË
();

54 
qSŒ
 = "SELECT *FROMƒlectrometerTest";

55 if(!
qu”y
.
	`exec
(
qSŒ
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y SELECTabËƒËùrom‘”Te¡"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

56 if(
qu”y
.
	`fœ¡
())

58 
DAC1
 = 
qu”y
.
	`v®ue
("DAC").
	`toUIÁ
();

59 
R2
=
qu”y
.
	`v®ue
("R2").
	`toDoubË
();

60 
R3
=
qu”y
.
	`v®ue
("R3").
	`toDoubË
();

61 
Iš
=
qu”y
.
	`v®ue
("Iš").
	`toLÚgLÚg
();

63 ià(
Comp
==1)

65 
qSŒ
 = "SELECT *FROM chamberCompensation";

66 if(!
qu”y
.
	`exec
(
qSŒ
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y SELECTabËƒËùrom‘”"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

67 if(
qu”y
.
	`fœ¡
())

69 
Comp1
=
qu”y
.
	`v®ue
("Comp1").
	`toIÁ
();

70 
Comp2
=
qu”y
.
	`v®ue
("Comp2").
	`toIÁ
();

71 
Comp3
=
qu”y
.
	`v®ue
("Comp3").
	`toIÁ
();

73 } {
CompCu¼
=0;}

75 
by‹sDAC
.
	`ş—r
();

76 
QAµliÿtiÚ
::
	`£tOv”rideCursÜ
(
Qt
::
Wa™CursÜ
);

77 
iR
)

79 0:
Rcu¼
=
R3
*1e9;
CompCu¼
=
Comp1
;

80 
i
=0; i<500000000;i++){;}

81 
em™
 
	`wr™eToComSig
(
hC2
);

82 
by‹sDAC
.
	`­³nd
(
hC2
);

84 1:
Rcu¼
=
R2
*1e6;
CompCu¼
=
Comp2
;

85 
i
=0; i<500000000;i++){;}

86 
em™
 
	`wr™eToComSig
(
h90
);

87 
by‹sDAC
.
	`­³nd
(
h90
);

89 2:
Rcu¼
=
R1
*1e6;
CompCu¼
=
Comp3
;

90 
i
=0; i<500000000;i++){;}

91 
em™
 
	`wr™eToComSig
(
hA0
);

92 
by‹sDAC
.
	`­³nd
(
hA0
);

96 
	`qDebug
()<<"ID1";

97 
QAµliÿtiÚ
::
	`»¡ÜeOv”rideCursÜ
();

99 
QSŒšg
 
¡rDAC
=QSŒšg::
	`numb”
(
DAC1
,16);

100 
QSŒšg
 
DAC4
="",
DAC5
="",
DAC6
="";

101 
DAC4
="4"+
¡rDAC
[0];

102 
DAC5
="5"+
¡rDAC
[1];

103 
DAC6
="6"+
¡rDAC
[2];

105 
by‹sDAC
.
	`­³nd
(
¡©ic_ÿ¡
<>(
DAC4
.
	`toUIÁ
(
nuÎ±r
,16)));

106 
by‹sDAC
.
	`­³nd
(
¡©ic_ÿ¡
<>(
DAC5
.
	`toUIÁ
(
nuÎ±r
,16)));

107 
by‹sDAC
.
	`­³nd
(
¡©ic_ÿ¡
<>(
DAC6
.
	`toUIÁ
(
nuÎ±r
,16)));

110 
	}
}

112 
	gIchamb”
::
	$timeOut
()

114 
	`accouÁ_I
();

115 
	}
}

118 
	gIchamb”
::
	$accouÁ_I
()

120 
Ucomp
=
av”ageADC
->
	`g‘Av”ageADC
()-
Iš
-
nuÎADC
-
CompCu¼
;

123 
Ichamb”Res
 = ((
Ucomp
*0.0000003)*
CÜrF
*760*(273+
Temp
)/(293*
P
))/
Rcu¼
;

127 
	}
}

131 
	gIchamb”
::
	$g‘I»s
()

134  
Ichamb”Res
;

135 
	}
}

137 
	gIchamb”
::
	$£tVŞgeSlÙ
(cÚ¡ 
QBy‹A¼ay
 &
vŞt
)

139 
by‹sDAC
.
	`­³nd
(
vŞt
);

140 
em™
 
	`wr™eToComSig
(
by‹sDAC
);

141 
sšgËTim”
->
	`¡¬t
(4000);

150 
	}
}

152 
	gIchamb”
::
	$sšgËTimeOut
()

154 
em™
 
	`wr™eToComSig
(
by‹sDAC
);

155 
	`£ndToEËùrom‘”
();

156 
	`qDebug
()<<
by‹sDAC
.
	`toHex
();

158 
	`qDebug
()<<"Cursor";

159 
	}
}

162 
	gIchamb”
::
	$£ndToEËùrom‘”
()

167 
em™
 
	`wr™eToComSig
(
by‹sDAC
);

174 
	}
}

	@ichamber.h

1 #iâdeà
ICHAMBER_H


2 
	#ICHAMBER_H


	)

4 
	~"av”ag—dc.h
"

6 
	~<QObjeù
>

7 
	~<QSqlD©aba£
>

8 
	~<QSqlQu”y
>

9 
	~<QSqlE¼Ü
>

10 
	~<QDebug
>

11 
	~<QTim”
>

13 şas 
	cIchamb”
:
public
 
QObjeù


15 
Q_OBJECT


16 
public
:

17 
Ichamb”
(
ušt8_t
 
r
=0, 
boŞ
 
comp
=0,
‹mp
=0,
p
=0, 
cÜrF
=0);

18 ~
Ichamb”
();

22 
	msigÇls
:

23 
wr™eToComSig
(cÚ¡ 
QBy‹A¼ay
 &);

25 
public
 
	m¦Ùs
:

26 
£tVŞgeSlÙ
(cÚ¡ 
QBy‹A¼ay
 &);

27 
´iv©e
 
	m¦Ùs
:

28 
timeOut
();

29 
sšgËTimeOut
();

31 
	mpublic
:

32 
g‘I»s
();

34 
	m´iv©e
:

35 
Av”ageADC
* 
av”ageADC
{
nuÎ±r
};

36 
QTim”
* 
	gtim”
{
	gnuÎ±r
};

37 
QTim”
* 
	gsšgËTim”
{
	gnuÎ±r
};

39 
š™
();

40 
accouÁ_I
();

41 
£ndToEËùrom‘”
();

43 
ušt8_t
 
	giR
{0};

44 
boŞ
 
	gComp
;

45 
	gTemp
{0};

46 
	gP
{0};

47 
	gCÜrF
{0};

48 
	gR1
{0};

49 
	gR2
{0};

50 
	gR3
{0};

51 
	gRcu¼
{0};

52 
	gComp1
{0};

53 
	gComp2
{0};

54 
	gComp3
{0};

55 
	gCompCu¼
{0};

56 
ušt
 
	gDAC1
{0};

57 
QBy‹A¼ay
 
	gby‹sDAC
;

58 
	gIš
{0};

59 
	gnuÎADC
{0x7FFFFF};

60 
	gIchamb”Res
{0};

61 
QBy‹A¼ay
 
	ghC2
,

62 
	gh90
,

63 
	ghA0
;

	@main.cpp

1 
	~"mašwšdow.h
"

2 
	~<QAµliÿtiÚ
>

4 
	$maš
(
¬gc
, *
¬gv
[])

6 
QAµliÿtiÚ
 
	`a
(
¬gc
, 
¬gv
);

8 
QSŒšg
 
cŞ
="QWidget{color: white; background-color:„gb(223,239,255);}"

60 
a
.
	`£tStyËSh“t
(
cŞ
);

62 
MašWšdow
 *
w
=
Ãw
 
	`MašWšdow
();

63 
w
->
	`move
(0,0);

65 
w
->
	`showFuÎSü“n
();

67  
a
.
	`exec
();

68 
	}
}

	@mainwindow.cpp

4 
	~"mašwšdow.h
"

5 
	~"ui_mašwšdow.h
"

7 
	gMašWšdow
::
	$MašWšdow
(
QWidg‘
 *
·»Á
) :

8 
	`QMašWšdow
(
·»Á
),

9 
	$ui
(
Ãw
 
Ui
::
MašWšdow
)

11 
ui
->
	`£tupUi
(
this
);

12 
	`š™
();

13 
	}
}

15 
	gMašWšdow
::~
	$MašWšdow
()

17 
d–‘e
 
ui
;

18 
	}
}

20 
	gMašWšdow
::
	$Ú_pushBu‰Ú_4_şicked
()

22 
	`şo£
();

23 
	}
}

25 
	gMašWšdow
::
	$š™
()

27 
	`£tWšdowT™Ë
("Ğ‘Ğ°ÑĞºĞµÑ‚-Ğ‘Ğ“Ğ");

28 
ui
->
pushBu‰Ú_6
->
	`£tEÇbËd
(
çl£
);

29 
ui
->
pushBu‰Ú_6
->
	`£tVisibË
(
çl£
);

30 
ui
->
pushBu‰Ú_7
->
	`£tEÇbËd
(
çl£
);

31 
ui
->
pushBu‰Ú_7
->
	`£tVisibË
(
çl£
);

32 
QSqlD©aba£
::
	`addD©aba£
("QSQLITE","myDB");

33 
QSqlD©aba£
 
db
=QSqlD©aba£::
	`d©aba£
("myDB");

34 
db
.
	`£tD©aba£Name
("config.db");

36 if(!
db
.
	`İ’
())

37 { 
	`qDebug
()<<"DB wa nÙ o³Ãd"<<
db
.
	`Ï¡E¼Ü
().
	`‹xt
(); }

39 
QSqlQu”y
 
	`qu”y
(
db
);

43 
QSŒšg
 
qu”ySŒ
 = "CREATE TABLE IF NOT EXISTS…assword (id INTEGER PRIMARY KEY CHECK (id=0),"

49 if(!
qu”y
.
	`exec
(
qu”ySŒ
))

50 {
	`qDebug
()<<"uÇbËƒxecu‹ qu”y CREATE"<<
qu”y
.
	`Ï¡E¼Ü
().
	`‹xt
();}

54 
qu”ySŒ
 = "UPDATE…assword SET…assCurrent='1';";

55 if(!
qu”y
.
	`exec
(
qu”ySŒ
))

56 {
	`qDebug
()<<"uÇbËƒxecu‹ qu”y UPDATE"<<
qu”y
.
	`Ï¡E¼Ü
().
	`‹xt
();}

58 
qu”ySŒ
 = "CREATE TABLE IF NOT EXISTS backgroundgamma (id INTEGER PRIMARY KEY CHECK (id=0),"

60 if(!
qu”y
.
	`exec
(
qu”ySŒ
)) {

61 
	`qDebug
()<<"uÇbËƒxecu‹ qu”y CREATE background"<<
qu”y
.
	`Ï¡E¼Ü
().
	`‹xt
();

68 
db
.
	`şo£
();

69 
	}
}

71 
	gMašWšdow
::
	$Ú_pushBu‰Ú_5_şicked
()

73 
QSŒšg
 
·ssCu¼’t
{"1"};

74 
QSŒšg
 
·ssMªuçùu»r
{""};

75 
QSŒšg
 
·ssV”if›r
{""};

77 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

79 
QSqlD©aba£
 
db
 = QSqlD©aba£::
	`d©aba£
("myDB");

80 
db
.
	`£tD©aba£Name
("config.db");

81 if(!
db
.
	`İ’
()è{
	`qDebug
()<<"db was‚ot opened";}

82 
QSqlQu”y
 
	`qu”y
(
db
);

83 
QSŒšg
 
qu”ySŒ
 = "UPDATE…assword SET…assCurrent='%1'";

84 
QSŒšg
 
qu”ySŒ1
 = 
qu”ySŒ
.
	`¬g
(
ui
->
lšeEd™
->
	`‹xt
());

85 if(!
qu”y
.
	`exec
(
qu”ySŒ1
))

86 {
	`qDebug
()<<"uÇbËƒxecu‹ qu”y UPDATE"<<
qu”y
.
	`Ï¡E¼Ü
().
	`‹xt
();}

88 
qu”ySŒ
 = "SELECT * FROM…assword";

89 if(!
qu”y
.
	`exec
(
qu”ySŒ
))

90 {
	`qDebug
()<<"uÇbËƒxecu‹ qu”y SELECT"<<
qu”y
.
	`Ï¡E¼Ü
().
	`‹xt
();}

91 if(
qu”y
.
	`fœ¡
())

93 
·ssCu¼’t
=
qu”y
.
	`v®ue
("·ssCu¼’t").
	`toSŒšg
();

94 
·ssMªuçùu»r
=
qu”y
.
	`v®ue
("·ssMªuçùu»r").
	`toSŒšg
();

95 
·ssV”if›r
=
qu”y
.
	`v®ue
("·ssV”if›r").
	`toSŒšg
();

98 if(
·ssCu¼’t
==
·ssMªuçùu»r
)

100 
ui
->
pushBu‰Ú_6
->
	`£tEÇbËd
(
Œue
);

101 
ui
->
pushBu‰Ú_6
->
	`£tVisibË
(
Œue
);

102 
ui
->
pushBu‰Ú_7
->
	`£tEÇbËd
(
Œue
);

103 
ui
->
pushBu‰Ú_7
->
	`£tVisibË
(
Œue
);

104 
ui
->
Ïb–_2
->
	`£tText
("Ğ˜Ğ—Ğ“ĞĞ¢ĞĞ’Ğ˜Ğ¢Ğ•Ğ›Ğ¬");

106 ià(
·ssCu¼’t
==
·ssV”if›r
)

108 
ui
->
pushBu‰Ú_6
->
	`£tEÇbËd
(
çl£
);

109 
ui
->
pushBu‰Ú_6
->
	`£tVisibË
(
çl£
);

110 
ui
->
pushBu‰Ú_7
->
	`£tEÇbËd
(
Œue
);

111 
ui
->
pushBu‰Ú_7
->
	`£tVisibË
(
Œue
);

112 
ui
->
Ïb–_2
->
	`£tText
("ĞŸĞĞ’Ğ•Ğ Ğ˜Ğ¢Ğ•Ğ›Ğ¬");

116 
ui
->
pushBu‰Ú_6
->
	`£tEÇbËd
(
çl£
);

117 
ui
->
pushBu‰Ú_6
->
	`£tVisibË
(
çl£
);

118 
ui
->
pushBu‰Ú_7
->
	`£tEÇbËd
(
çl£
);

119 
ui
->
pushBu‰Ú_7
->
	`£tVisibË
(
çl£
);

120 
ui
->
Ïb–_2
->
	`£tText
("ĞĞŸĞ•Ğ ĞĞ¢ĞĞ ");

122 
	}
}

124 
	gMašWšdow
::
	$Ú_pushBu‰Ú_6_şicked
()

126 
S‘tšgs
 *
£‰šgs
 = 
Ãw
 
	`S‘tšgs
(
this
);

127 
£‰šgs
->
	`£tMod®
(
Œue
);

128 
£‰šgs
->
	`show
();

129 
	}
}

131 
	gMašWšdow
::
	$Ú_pushBu‰Ú_7_şicked
()

133 
S‘tšgs_v”if›r
 *
£tV”
 = 
Ãw
 
	`S‘tšgs_v”if›r
(
this
);

134 
£tV”
->
	`£tMod®
(
Œue
);

135 
£tV”
->
	`show
();

136 
	}
}

138 
	gMašWšdow
::
	$Ú_pushBu‰Ú_şicked
()

140 
B‘a
 * 
b‘a
 = 
Ãw
 
	`B‘a
(
this
);

141 
b‘a
->
	`£tMod®
(
Œue
);

142 
b‘a
->
	`show
();

143 
	}
}

145 
	gMašWšdow
::
	$Ú_pushBu‰Ú_2_şicked
()

147 
Gamma
 * 
gamma
 = 
Ãw
 
	`Gamma
(
this
);

148 
gamma
->
	`£tMod®
(
Œue
);

149 
gamma
->
	`show
();

150 
	}
}

152 
	gMašWšdow
::
	$Ú_pushBu‰Ú_3_şicked
()

154 
NeuŒÚ
 * 
ÃuŒÚ
 = 
Ãw
 
	`NeuŒÚ
(
this
);

155 
ÃuŒÚ
->
	`£tMod®
(
Œue
);

156 
ÃuŒÚ
->
	`show
();

157 
	}
}

	@mainwindow.h

1 #iâdeà
MAINWINDOW_H


2 
	#MAINWINDOW_H


	)

4 
	~"b‘a.h
"

5 
	~"gamma.h
"

6 
	~"ÃuŒÚ.h
"

7 
	~"£‰šgs.h
"

8 
	~"£‰šgs_v”if›r.h
"

10 
	~<QMašWšdow
>

12 
	~<QSqlD©aba£
>

13 
	~<QSqlQu”y
>

14 
	~<QSqlE¼Ü
>

15 
	~<QDebug
>

17 
Çme¥aû
 
	gUi
 {

18 
şass
 
	gMašWšdow
;

21 şas 
	cMašWšdow
 : 
public
 
QMašWšdow


23 
Q_OBJECT


25 
public
:

26 
ex¶ic™
 
MašWšdow
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
);

27 ~
MašWšdow
();

29 
´iv©e
 
	m¦Ùs
:

30 
Ú_pushBu‰Ú_4_şicked
();

32 
Ú_pushBu‰Ú_5_şicked
();

34 
Ú_pushBu‰Ú_6_şicked
();

36 
Ú_pushBu‰Ú_7_şicked
();

38 
Ú_pushBu‰Ú_şicked
();

40 
Ú_pushBu‰Ú_2_şicked
();

42 
Ú_pushBu‰Ú_3_şicked
();

44 
	m´iv©e
:

45 
Ui
::
MašWšdow
 *
ui
;

46 
š™
();

	@modbus_emulator.cpp

1 
	~"modbus_emuÏtÜ.h
"

3 
	gModbus_emuÏtÜ
::
	$Modbus_emuÏtÜ
()

5 
	`š™
();

6 
	}
}

8 
	gModbus_emuÏtÜ
::~
	$Modbus_emuÏtÜ
()

10 
d–‘e
 
tim”
;

11 
d–‘e
 
time
;

12 
d–‘e
 
g’”©Ü
;

13 
d–‘e
 
di¡ributiÚ
;

14 
	}
}

15 
	gModbus_emuÏtÜ
::
	$š™
()

17 
tim”
=
Ãw
 
	`QTim”
(
this
);

18 
	`cÚÃù
(
tim”
,&
QTim”
::
timeout
,
this
,&
Modbus_emuÏtÜ
::
timeOut
);

19 
couÁsR©e
=400;

21 
devŸtiÚ
=
couÁsR©e
*(((5.0/100)*(100/countsRate)));

22 
time
 =
Ãw
 
QTime
;

23 
	`q¤ªd
(
¡©ic_ÿ¡
<
ušt
>(
time
->
	`cu¼’tTime
().
	`£cÚd
()));

29 
	}
}

31 
	gModbus_emuÏtÜ
::
	$gausRªd
(
MO
, 
sko
)

33 
sum
=0, 
x
=0;

34 
i
=0;i<25;i++)

35 
sum
+=1.0*
	`¿nd
()/
RAND_MAX
;

36 
x
 = (
	`sq¹
(1.77)*(
sko
)*(
sum
-13.93))/(1.91è+sko+ 
MO
;

37  
x
;

38 
	}
}

40 
	gModbus_emuÏtÜ
::
	$¡¬t
()

42 
tim”
->
	`¡¬t
(200);

43 
	}
}

45 
	gModbus_emuÏtÜ
::
	$¡İ
()

47 
tim”
->
	`¡İ
();

48 
	}
}

50 
	gModbus_emuÏtÜ
::
	$doWÜk
()

53 
	`¡¬t
();

54 
	}
}

56 
	gModbus_emuÏtÜ
::
	$’dWÜk
()

58 
	`¡İ
();

59 
	}
}

61 
	gModbus_emuÏtÜ
::
	$timeOut
()

70 
qæßt16
 
x
=(
	`gausRªd
((
couÁsR©e
),(
devŸtiÚ
)));

76 
couÁR©e
 = 
x
;

77 
em™
 
	`modReg
(
couÁR©e
);

78 
	}
}

	@modbus_emulator.h

1 #iâdeà
MODBUS_EMULATOR_H


2 
	#MODBUS_EMULATOR_H


	)

5 
	~<QTim”
>

6 
	~<QTime
>

7 
	~<QDebug
>

8 
	~<qæßt16.h
>

9 
	~<cm©h
>

10 
	~<¿ndom
>

12 şas 
	cModbus_emuÏtÜ
: 
public
 
QObjeù


14 
Q_OBJECT


15 
public
:

16 
Modbus_emuÏtÜ
();

17 ~
Modbus_emuÏtÜ
();

18 
¡¬t
();

19 
¡İ
();

21 
	msigÇls
:

22 
modReg
(
couÁR©e
);

23 
fšish
();

24 
public
 
	m¦Ùs
:

25 
doWÜk
();

26 
’dWÜk
();

27 
´iv©e
 
	m¦Ùs
:

28 
timeOut
();

30 
	m´iv©e
:

31 
QTim”
* 
tim”
;

33 
š™
();

34 
gausRªd
(
MO
, 
sko
);

38 
qæßt16
 
	mcouÁsR©e
{0};

39 
qæßt16
 
	gdevŸtiÚ
{0};

40 
QTime
* 
	gtime
;

41 
	g¡d
::
deçuÉ_¿ndom_’gše
* 
g’”©Ü
{
nuÎ±r
};

42 
	g¡d
::
nÜm®_di¡ributiÚ
<>* 
di¡ributiÚ
{
nuÎ±r
};

	@neutron.cpp

3 
	~"ÃuŒÚ.h
"

4 
	~"ui_ÃuŒÚ.h
"

6 
	gNeuŒÚ
::
	$NeuŒÚ
(
QWidg‘
 *
·»Á
) :

7 
	`QDŸlog
(
·»Á
),

8 
	$ui
(
Ãw
 
Ui
::
NeuŒÚ
)

10 
ui
->
	`£tupUi
(
this
);

11 
	`š™
();

12 
	}
}

14 
	gNeuŒÚ
::~
	$NeuŒÚ
()

16 
d–‘e
 
ui
;

17 
	}
}

19 
	gNeuŒÚ
::
	$š™
()

21 
	`£tWšdowT™Ë
("ĞĞµĞ¹Ñ‚Ñ€Ğ¾Ğ½Ğ½Ğ¾Ğµ Ğ¸Ğ·Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ");

22 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

24 
QSqlD©aba£
 
db
 = QSqlD©aba£::
	`d©aba£
("myDB");

25 
db
.
	`£tD©aba£Name
("config.db");

26 if(!
db
.
	`İ’
()){
	`qDebug
()<<"DB was‚ot opened";}

27 
QSqlQu”y
 
	`qu”y
(
db
);

28 
QSŒšg
 
qu”ySŒ
 = "SELECT * FROM fullName";

29 if(!
qu”y
.
	`exec
(
qu”ySŒ
))

30 {
	`qDebug
()<<"unableƒxecute query SELECT";}

31 if(
qu”y
.
	`fœ¡
())

33 
ui
->
lšeEd™
->
	`£tText
(
qu”y
.
	`v®ue
("suºame").
	`toSŒšg
());

34 
ui
->
lšeEd™_2
->
	`£tText
(
qu”y
.
	`v®ue
("Çme").
	`toSŒšg
());

35 
ui
->
lšeEd™_3
->
	`£tText
(
qu”y
.
	`v®ue
("·ŒÚymic").
	`toSŒšg
());

38 
	}
}

40 
	gNeuŒÚ
::
	$Ú_pushBu‰Ú_şicked
()

42 
	`şo£
();

43 
	}
}

45 
	gNeuŒÚ
::
	$Ú_pushBu‰Ú_2_şicked
()

47 
NeuŒÚ_BDKN_‹¡
 * 
ÃuŒÚTe¡
 = 
Ãw
 
	`NeuŒÚ_BDKN_‹¡
(
this
);

48 
ÃuŒÚTe¡
->
	`£tMod®
(
Œue
);

49 
ÃuŒÚTe¡
->
	`show
();

50 
	}
}

52 
	gNeuŒÚ
::
	$Ú_pushBu‰Ú_3_şicked
()

54 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

56 
QSqlD©aba£
 
db
 = QSqlD©aba£::
	`d©aba£
("myDB");

57 
db
.
	`£tD©aba£Name
("config.db");

58 if(!
db
.
	`İ’
())

59 {
	`qDebug
()<<"DB was‚ot opened";}

60 
QSqlQu”y
 
	`qu”y
(
db
);

61 
QSŒšg
 
qu”ySŒ
;

62 
QSŒšg
 
	`suºame
(
ui
->
lšeEd™
->
	`‹xt
());

63 
QSŒšg
 
	`Çme
(
ui
->
lšeEd™_2
->
	`‹xt
());

64 
QSŒšg
 
	`·ŒÚimyc
(
ui
->
lšeEd™_3
->
	`‹xt
());

65 
QSŒšg
 
qu”ySŒ1
 = "UPDATE fullName SET "

69 
qu”ySŒ
 = 
qu”ySŒ1
.
	`¬g
(
suºame
)

70 .
	`¬g
(
Çme
)

71 .
	`¬g
(
·ŒÚimyc
);

72 if(!
qu”y
.
	`exec
(
qu”ySŒ
))

73 {
	`qDebug
()<<"unableƒxecute query UPDATE";}

75 
NeuŒÚ_m—suršg
* 
ÃuŒÚMes
 = 
Ãw
 
	`NeuŒÚ_m—suršg
(
this
);

76 
ÃuŒÚMes
->
	`£tMod®
(
Œue
);

77 
ÃuŒÚMes
->
	`show
();

78 
	}
}

	@neutron.h

1 #iâdeà
NEUTRON_H


2 
	#NEUTRON_H


	)

4 
	~"ÃuŒÚ_bdkn_‹¡.h
"

5 
	~"ÃuŒÚ_m—suršg.h
"

6 
	~<QDŸlog
>

8 
Çme¥aû
 
	gUi
 {

9 
şass
 
	gNeuŒÚ
;

12 şas 
	cNeuŒÚ
 : 
public
 
QDŸlog


14 
Q_OBJECT


16 
public
:

17 
ex¶ic™
 
NeuŒÚ
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
);

18 ~
NeuŒÚ
();

20 
´iv©e
 
	m¦Ùs
:

21 
Ú_pushBu‰Ú_şicked
();

23 
Ú_pushBu‰Ú_2_şicked
();

25 
Ú_pushBu‰Ú_3_şicked
();

27 
	m´iv©e
:

28 
Ui
::
NeuŒÚ
 *
ui
;

29 
š™
();

	@neutron_bdkn_test.cpp

3 
	~"ÃuŒÚ_bdkn_‹¡.h
"

4 
	~"ui_ÃuŒÚ_bdkn_‹¡.h
"

6 
	gNeuŒÚ_BDKN_‹¡
::
	$NeuŒÚ_BDKN_‹¡
(
QWidg‘
 *
·»Á
) :

7 
	`QDŸlog
(
·»Á
),

8 
	$ui
(
Ãw
 
Ui
::
NeuŒÚ_BDKN_‹¡
)

10 
ui
->
	`£tupUi
(
this
);

11 
	`š™
();

12 
	}
}

14 
	gNeuŒÚ_BDKN_‹¡
::~
	$NeuŒÚ_BDKN_‹¡
()

16 
d–‘e
 
ui
;

17 
	}
}

19 
	gNeuŒÚ_BDKN_‹¡
::
	$š™
()

21 
	`£tWšdowT™Ë
("ĞĞµĞ¹Ñ‚Ñ€Ğ¾Ğ½Ğ½Ñ‹Ğ¹ Ğ±Ğ»Ğ¾Ğº - Ñ‚ĞµÑÑ‚ Ğ¾Ğ±Ğ¾Ñ€ÑƒĞ´Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ");

22 
	`£tA‰ribu‹
(
Qt
::
WA_D–‘eOnClo£
);

23 
ui
->
Ïb–
->
	`£tText
("");

24 
	`‹¡
();

25 
QTim”
::
	`sšgËShÙ
(2000,
this
,
	`SLOT
(
	`‹¡Pas£dSlÙ
()));

26 
	}
}

28 
	gNeuŒÚ_BDKN_‹¡
::
	$‹¡
()

30 
bdg
 = 
Ãw
 
Block_BDG
;

31 
	`cÚÃù
(
bdg
,&
Block_BDG
::
”rÜSig
,
this
,&
NeuŒÚ_BDKN_‹¡
::
”rÜCÚÃùiÚSlÙ
);

32 
	}
}

33 
	gNeuŒÚ_BDKN_‹¡
::
	$”rÜCÚÃùiÚSlÙ
()

37 
Pas£d
=
çl£
;

38 
ui
->
Ïb–
->
	`£tText
("Ğ¢ĞµÑÑ‚ Ğ½Ğµ Ğ¿Ñ€Ğ¾Ğ¹Ğ´ĞµĞ½, Ğ¾ÑˆĞ¸Ğ±ĞºĞ° Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ");

39 
	}
}

41 
	gNeuŒÚ_BDKN_‹¡
::
	$‹¡Pas£dSlÙ
()

43 if(
Pas£d
)

44 {
ui
->
Ïb–
->
	`£tText
("Ğ¢ĞµÑÑ‚ ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾ Ğ¿Ñ€Ğ¾Ğ¹Ğ´ĞµĞ½");}

45 
	}
}

48 
	gNeuŒÚ_BDKN_‹¡
::
	$Ú_pushBu‰Ú_şicked
()

50 
	`şo£
();

51 
	}
}

	@neutron_bdkn_test.h

1 #iâdeà
NEUTRON_BDKN_TEST_H


2 
	#NEUTRON_BDKN_TEST_H


	)

4 
	~"block_bdg.h
"

6 
	~<QDŸlog
>

8 
Çme¥aû
 
	gUi
 {

9 
şass
 
	gNeuŒÚ_BDKN_‹¡
;

12 şas 
	cNeuŒÚ_BDKN_‹¡
 : 
public
 
QDŸlog


14 
Q_OBJECT


16 
public
:

17 
ex¶ic™
 
NeuŒÚ_BDKN_‹¡
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
);

18 ~
NeuŒÚ_BDKN_‹¡
();

20 
´iv©e
 
	m¦Ùs
:

21 
Ú_pushBu‰Ú_şicked
();

22 
”rÜCÚÃùiÚSlÙ
();

23 
‹¡Pas£dSlÙ
();

25 
	m´iv©e
:

26 
Ui
::
NeuŒÚ_BDKN_‹¡
 *
ui
;

27 
Block_BDG
* 
	mbdg
{
	mnuÎ±r
};

28 
š™
();

29 
‹¡
();

31 
boŞ
 
	gPas£d
=
Œue
;

	@neutron_measuring.cpp

3 
	~"ÃuŒÚ_m—suršg.h
"

4 
	~"ui_ÃuŒÚ_m—suršg.h
"

6 
	gNeuŒÚ_m—suršg
::
	$NeuŒÚ_m—suršg
(
QWidg‘
 *
·»Á
) :

7 
	`QDŸlog
(
·»Á
),

8 
	$ui
(
Ãw
 
Ui
::
NeuŒÚ_m—suršg
)

10 
ui
->
	`£tupUi
(
this
);

11 
	`š™
();

12 
	}
}

14 
	gNeuŒÚ_m—suršg
::~
	$NeuŒÚ_m—suršg
()

16 
	`qDebug
()<<"~Neutron_measuring(), bdkn";

18 
	`qDebug
()<<"AAAA~Neutron_measuring(), bdkn";

19 
d–‘e
 
ui
;

20 
	}
}

22 
	gNeuŒÚ_m—suršg
::
	$š™
()

24 
RS485
::
BDGÜBDKN
 = 1;

25 
this
->
	`£tA‰ribu‹
(
Qt
::
WA_D–‘eOnClo£
);

26 
	`£tWšdowT™Ë
("ĞĞµĞ¹Ñ‚Ñ€Ğ¾Ğ½Ğ½Ğ¾Ğµ Ğ¸Ğ·Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ - Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ¸Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ñ");

27 
·ss
=
PasswÜd
::
	`check
();

28 
·ss
)

30 2: 
ui
->
pushBu‰Ú_3
->
	`£tEÇbËd
(
Œue
);ui->pushBu‰Ú_3->
	`£tVisibË
(true);

31 
ui
->
Ïb–_8
->
	`£tText
("Ğ˜Ğ—Ğ“ĞĞ¢ĞĞ’Ğ˜Ğ¢Ğ•Ğ›Ğ¬:");

33 1: 
ui
->
pushBu‰Ú_3
->
	`£tEÇbËd
(
Œue
);ui->pushBu‰Ú_3->
	`£tVisibË
(true);

34 
ui
->
Ïb–_8
->
	`£tText
("ĞŸĞĞ’Ğ•Ğ Ğ˜Ğ¢Ğ•Ğ›Ğ¬:");

36 :
ui
->
pushBu‰Ú_3
->
	`£tEÇbËd
(
çl£
);ui->pushBu‰Ú_3->
	`£tVisibË
(false);

37 
ui
->
Ïb–_8
->
	`£tText
("ĞĞŸĞ•Ğ ĞĞ¢ĞĞ :");

40 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

42 
QSqlD©aba£
 
db
 = QSqlD©aba£::
	`d©aba£
("myDB");

43 
db
.
	`£tD©aba£Name
("config.db");

44 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

45 
QSqlQu”y
 
	`qu”y
(
db
);

46 
QSŒšg
 
qSŒ
="SELECT *FROM‚eutronBlocks";

47 if(!
qu”y
.
	`exec
(
qSŒ
)){
	`qDebug
()<<"unableƒxecute query SELECT *FROMable‚eutronBlocks";}

48 
QLi¡
<
QSŒšg
> 
¡rLi¡
;

49 
qu”y
.
	`Ãxt
())

51 
¡rLi¡
.
	`­³nd
(
qu”y
.
	`v®ue
("Çme").
	`toSŒšg
()+" Ğ´Ğ°Ñ‚Ğ° Ğ¿Ğ¾Ğ²ĞµÑ€ĞºĞ¸: "+query.value("VerificationDate").toString());

53 
ui
->
comboBox
->
	`addI‹ms
(
¡rLi¡
);

55 
ui
->
comboBox_4
->
	`addI‹m
("ĞŸĞ»Ğ¾Ñ‚Ğ½Ğ¾ÑÑ‚ÑŒ ĞŸĞ¾Ñ‚Ğ¾ĞºĞ°");

56 
ui
->
comboBox_4
->
	`addI‹m
("ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ ĞŸĞ¾Ğ³Ğ»Ğ¾Ñ‰ĞµĞ½Ğ½Ğ¾Ğ¹ Ğ”Ğ¾Ğ·Ñ‹");

57 
ui
->
comboBox_4
->
	`addI‹m
("ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ ĞĞ¼Ğ±Ğ¸ĞµĞ½Ñ‚Ğ½Ğ¾Ğ³Ğ¾ Ğ­ĞºĞ²Ğ¸Ğ²Ğ°Ğ»ĞµĞ½Ñ‚Ğ° Ğ”Ğ¾Ğ·Ñ‹");

59 
ui
->
comboBox_3
->
	`ş—r
();

60 
ui
->
comboBox_3
->
	`addI‹m
("Ñ‡Ğ°ÑÑ‚/(Ñ*ĞºĞ².ÑĞ¼)");

61 
ui
->
comboBox_3
->
	`addI‹m
("Ñ‡Ğ°ÑÑ‚/(Ğ¼Ğ¸Ğ½*ĞºĞ².ÑĞ¼)");

62 
ui
->
comboBox_3
->
	`addI‹m
("Ñ‡Ğ°ÑÑ‚/(Ñ‡*ĞºĞ².ÑĞ¼)");

64 
ui
->
comboBox_5
->
	`addI‹m
("ĞĞ¸Ğ¶Ğ½Ğ¸Ğ¹ (Ğ±ĞµĞ· ĞºĞ°Ğ´Ğ¼Ğ¸ĞµĞ²Ğ¾Ğ³Ğ¾ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°)");

65 
ui
->
comboBox_5
->
	`addI‹m
("Ğ’ĞµÑ€Ñ…Ğ½Ğ¸Ğ¹ (Ñ ĞºĞ°Ğ´Ğ¼Ğ¸ĞµĞ²Ñ‹Ğ¼ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ¾Ğ¼)");

67 
ui
->
¿dioBu‰Ú
->
	`£tChecked
(
Œue
);

68 
ui
->
comboBox_2
->
	`addI‹m
("Ğ ÑƒÑ‡Ğ½Ğ¾Ğ¹");

69 
ui
->
comboBox_2
->
	`addI‹m
("ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹");

70 
ui
->
lšeEd™
->
	`£tText
("20");

71 
ui
->
lšeEd™_2
->
	`£tText
("760");

72 
ui
->
Ïb–_15
->
	`£tText
("101323");

73 
ui
->
lšeEd™_3
->
	`£tText
("1");

74 
ui
->
lšeEd™_4
->
	`£tEÇbËd
(
çl£
);

75 
ui
->
lšeEd™_4
->
	`£tVisibË
(
çl£
);

76 
ui
->
lšeEd™_5
->
	`£tEÇbËd
(
çl£
);

77 
ui
->
lšeEd™_5
->
	`£tVisibË
(
çl£
);

79 
ui
->
lšeEd™
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->
lšeEd™_4
));

80 
ui
->
lšeEd™_2
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->
lšeEd™_4
));

81 
ui
->
lšeEd™_3
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->
lšeEd™_4
));

83 
ui
->
lšeEd™_5
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->
lšeEd™_4
));

85 
ui
->
lšeEd™_6
->
	`£tEÇbËd
(
çl£
);

86 
ui
->
lšeEd™_6
->
	`£tVisibË
(
çl£
);

87 
ui
->
lšeEd™_7
->
	`£tEÇbËd
(
çl£
);

88 
ui
->
lšeEd™_7
->
	`£tVisibË
(
çl£
);

90 
ui
->
Ïb–_12
->
	`£tVisibË
(
çl£
);

91 
QSŒšg
 
qu”yS1
 = "";

92 
QSŒšg
 
qu”yS
 = "SELECT * FROM fullName";

93 if(!
qu”y
.
	`exec
(
qu”yS
))

94 {
	`qDebug
()<<"unableƒxecute query SELECT";}

95 if(
qu”y
.
	`fœ¡
())

97 
ui
->
Ïb–_9
->
	`£tText
(
qu”y
.
	`v®ue
("suºame").
	`toSŒšg
()+

98 " "+
qu”y
.
	`v®ue
("Çme").
	`toSŒšg
()+

99 " "+
qu”y
.
	`v®ue
("·ŒÚymic").
	`toSŒšg
());

101 
db
.
	`şo£
();

103 
ui
->
comboBox_3
->
	`£tStyËSh“t
("font-size: 12px;");

104 
	}
}

106 
	gNeuŒÚ_m—suršg
::
	$Ú_pushBu‰Ú_şicked
()

108 
	`şo£
();

109 
	}
}

112 
	gNeuŒÚ_m—suršg
::
	$Ú_pushBu‰Ú_3_şicked
()

114 
Temp
=
ui
->
lšeEd™
->
	`‹xt
().
	`toFlßt
();

115 
P
 = 
ui
->
lšeEd™_2
->
	`‹xt
().
	`toFlßt
();

116 
CÜrF
=
ui
->
lšeEd™_3
->
	`‹xt
().
	`toFlßt
();

118 
QSŒšg
 
blockName
=
ui
->
comboBox
->
	`cu¼’tText
();

119 
x
=
blockName
.
	`šdexOf
(" ");

120 
blockName
=blockName.
	`Ëá
(
x
);

122 
qušt8
 
mesP¬am
 = 
	`qušt8
(
ui
->
comboBox_4
->
	`cu¼’tIndex
());

123 
qušt8
 
dŸpP¬am
 = 
	`qušt8
(
ui
->
comboBox_5
->
	`cu¼’tIndex
());

125 
bdkn
 = 
Ãw
 
	`Block_BDKN
(
Temp
,
P
,
CÜrF
,
blockName
,
mesP¬am
,
dŸpP¬am
);

126 
	`cÚÃù
(
bdkn
,&
Block_BDKN
::
”rÜSig
,
this
,&
NeuŒÚ_m—suršg
::
”rÜCÚÃùiÚSlÙ
);

128 
NeuŒÚ_v”ify
* 
ÃuŒÚV”
 = 
Ãw
 
	`NeuŒÚ_v”ify
(
this
);

129 
	`cÚÃù
(
this
,&
NeuŒÚ_m—suršg
::
”rÜCÚÃùiÚSigÇl
,
ÃuŒÚV”
,&
NeuŒÚ_v”ify
::
”rÜCÚÃùiÚSlÙ
);

130 
ÃuŒÚV”
->
	`g‘BlockBDKN
(
bdkn
);

131 
ÃuŒÚV”
->
	`£tMod®
(
Œue
);

132 
ÃuŒÚV”
->
	`show
();

133 
	}
}

135 
	gNeuŒÚ_m—suršg
::
	$Ú_pushBu‰Ú_2_şicked
()

137 
Temp
=
ui
->
lšeEd™
->
	`‹xt
().
	`toFlßt
();

138 
P
 = 
ui
->
lšeEd™_2
->
	`‹xt
().
	`toFlßt
();

139 
CÜrF
=
ui
->
lšeEd™_3
->
	`‹xt
().
	`toFlßt
();

141 
QSŒšg
 
blockName
=
ui
->
comboBox
->
	`cu¼’tText
();

142 
x
=
blockName
.
	`šdexOf
(" ");

143 
blockName
=blockName.
	`Ëá
(
x
);

145 
qušt8
 
mesP¬am
 = 
	`qušt8
(
ui
->
comboBox_4
->
	`cu¼’tIndex
());

146 
qušt8
 
dŸpP¬am
 = 
	`qušt8
(
ui
->
comboBox_5
->
	`cu¼’tIndex
());

148 
bdkn
 = 
Ãw
 
	`Block_BDKN
(
Temp
,
P
,
CÜrF
,
blockName
,
mesP¬am
,
dŸpP¬am
);

149 
	`cÚÃù
(
bdkn
,&
Block_BDKN
::
”rÜSig
,
this
,&
NeuŒÚ_m—suršg
::
”rÜCÚÃùiÚSlÙ
);

153 
QSŒšg
 
Dim’siÚ
=
ui
->
comboBox_3
->
	`cu¼’tText
();

154 cÚ¡ 
Dim’siÚFÜTime
=
ui
->
comboBox_3
->
	`cu¼’tIndex
();

155 
boŞ
 
Regime
=
ui
->
comboBox_2
->
	`cu¼’tIndex
();

156 cÚ¡ 
ušt
 
TimesAutom©ic
=
ui
->
lšeEd™_6
->
	`‹xt
().
	`toUIÁ
();

157 cÚ¡ 
ušt
 
TimeAutom©ic
=
ui
->
lšeEd™_7
->
	`‹xt
().
	`toUIÁ
();

159 
ušt8_t
 
Th»ashŞd
=0;

160 if(
ui
->
¿dioBu‰Ú
->
	`isChecked
())

161 { 
Th»ashŞd
=0; }

162 if(
ui
->
¿dioBu‰Ú_2
->
	`isChecked
())

163 { 
Th»ashŞd
=1; }

164 if(
ui
->
¿dioBu‰Ú_3
->
	`isChecked
())

165 { 
Th»ashŞd
=2; }

167 cÚ¡ 
ušt
 
TimeTh»ashŞd
 = 
ui
->
lšeEd™_4
->
	`‹xt
().
	`toUIÁ
();

169 
QSŒšg
 
¡r
=
ui
->
lšeEd™_5
->
	`‹xt
();

170 
¡r
.
	`»¶aû
(",",".");

171 cÚ¡ 
Do£Th»ashŞd
=
¡r
.
	`toDoubË
();

174 
NeuŒÚ_m—suršg_m—su»
* 
ÃuŒÚMesMes
 = 
Ãw
 
	`NeuŒÚ_m—suršg_m—su»
(
this
,

175 
Dim’siÚ
,

176 
Dim’siÚFÜTime
,

177 
Regime
,

178 
TimesAutom©ic
,

179 
TimeAutom©ic
,

180 
Th»ashŞd
,

181 
TimeTh»ashŞd
,

182 
Do£Th»ashŞd
);

183 
	`cÚÃù
(
this
,&
NeuŒÚ_m—suršg
::
”rÜCÚÃùiÚSigÇl
,
ÃuŒÚMesMes
,&
NeuŒÚ_m—suršg_m—su»
::
”rÜCÚÃùiÚSlÙ
);

184 
ÃuŒÚMesMes
->
	`£tMod®
(
Œue
);

185 
ÃuŒÚMesMes
->
	`ÃuŒÚ
(
bdkn
);

186 
ÃuŒÚMesMes
->
	`show
();

187 
	}
}

189 
	gNeuŒÚ_m—suršg
::
	$Ú_comboBox_2_cu¼’tIndexChªged
(
šdex
)

191 if(
šdex
==0)

193 
ui
->
lšeEd™_6
->
	`£tEÇbËd
(
çl£
);

194 
ui
->
lšeEd™_6
->
	`£tVisibË
(
çl£
);

195 
ui
->
lšeEd™_7
->
	`£tEÇbËd
(
çl£
);

196 
ui
->
lšeEd™_7
->
	`£tVisibË
(
çl£
);

197 
ui
->
Ïb–_7
->
	`£tVisibË
(
çl£
);

198 
ui
->
Ïb–_12
->
	`£tVisibË
(
çl£
);

200 
ui
->
¿dioBu‰Ú
->
	`£tChecked
(
Œue
);

201 
ui
->
¿dioBu‰Ú_2
->
	`£tEÇbËd
(
Œue
);

202 
ui
->
¿dioBu‰Ú_3
->
	`£tEÇbËd
(
Œue
);

205 if(
šdex
==1)

207 
ui
->
lšeEd™_6
->
	`£tEÇbËd
(
Œue
);

208 
ui
->
lšeEd™_6
->
	`£tVisibË
(
Œue
);

209 
ui
->
lšeEd™_7
->
	`£tEÇbËd
(
Œue
);

210 
ui
->
lšeEd™_7
->
	`£tVisibË
(
Œue
);

211 
ui
->
Ïb–_7
->
	`£tVisibË
(
Œue
);

212 
ui
->
Ïb–_12
->
	`£tVisibË
(
Œue
);

213 
ui
->
¿dioBu‰Ú
->
	`£tChecked
(
Œue
);

214 
ui
->
¿dioBu‰Ú_2
->
	`£tEÇbËd
(
çl£
);

215 
ui
->
¿dioBu‰Ú_3
->
	`£tEÇbËd
(
çl£
);

216 
ui
->
lšeEd™_4
->
	`£tVisibË
(
çl£
);

217 
ui
->
lšeEd™_5
->
	`£tVisibË
(
çl£
);

219 
	}
}

221 
	gNeuŒÚ_m—suršg
::
	$Ú_¿dioBu‰Ú_2_şicked
()

223 
ui
->
lšeEd™_4
->
	`£tEÇbËd
(
Œue
);

224 
ui
->
lšeEd™_4
->
	`£tVisibË
(
Œue
);

225 
ui
->
lšeEd™_5
->
	`£tEÇbËd
(
çl£
);

226 
ui
->
lšeEd™_5
->
	`£tVisibË
(
çl£
);

227 
	}
}

229 
	gNeuŒÚ_m—suršg
::
	$Ú_¿dioBu‰Ú_3_şicked
()

231 
ui
->
lšeEd™_4
->
	`£tEÇbËd
(
çl£
);

232 
ui
->
lšeEd™_4
->
	`£tVisibË
(
çl£
);

233 
ui
->
lšeEd™_5
->
	`£tEÇbËd
(
Œue
);

234 
ui
->
lšeEd™_5
->
	`£tVisibË
(
Œue
);

235 
	}
}

237 
	gNeuŒÚ_m—suršg
::
	$Ú_¿dioBu‰Ú_şicked
()

239 
ui
->
lšeEd™_4
->
	`£tEÇbËd
(
çl£
);

240 
ui
->
lšeEd™_4
->
	`£tVisibË
(
çl£
);

241 
ui
->
lšeEd™_5
->
	`£tEÇbËd
(
çl£
);

242 
ui
->
lšeEd™_5
->
	`£tVisibË
(
çl£
);

243 
	}
}

245 
	gNeuŒÚ_m—suršg
::
	$Ú_comboBox_4_cu¼’tIndexChªged
(
šdex
)

247 
šdex
)

250 
ui
->
comboBox_3
->
	`ş—r
();

251 
ui
->
comboBox_3
->
	`addI‹m
("Ñ‡Ğ°ÑÑ‚/(Ñ*ĞºĞ².ÑĞ¼)");

252 
ui
->
comboBox_3
->
	`addI‹m
("Ñ‡Ğ°ÑÑ‚/(Ğ¼Ğ¸Ğ½*ĞºĞ².ÑĞ¼)");

253 
ui
->
comboBox_3
->
	`addI‹m
("Ñ‡Ğ°ÑÑ‚/(Ñ‡*ĞºĞ².ÑĞ¼)");

254 
ui
->
¿dioBu‰Ú_3
->
	`£tText
("Ğ¿Ğ¾ Ñ„Ğ»ÑĞµĞ½ÑÑƒ, Ñ‡Ğ°ÑÑ‚/ÑĞ¼.ĞºĞ².");

257 
ui
->
comboBox_3
->
	`ş—r
();

258 
ui
->
comboBox_3
->
	`addI‹m
("Ğ“Ñ€/Ñ");

259 
ui
->
comboBox_3
->
	`addI‹m
("Ğ“Ñ€/Ğ¼Ğ¸Ğ½");

260 
ui
->
comboBox_3
->
	`addI‹m
("Ğ“Ñ€/Ñ‡");

261 
ui
->
¿dioBu‰Ú_3
->
	`£tText
("Ğ¿Ğ¾ Ğ´Ğ¾Ğ·Ğµ, Ğ¼Ğ“Ñ€");

264 
ui
->
comboBox_3
->
	`ş—r
();

265 
ui
->
comboBox_3
->
	`addI‹m
("Ğ—Ğ²/Ñ");

266 
ui
->
comboBox_3
->
	`addI‹m
("Ğ—Ğ²/Ğ¼Ğ¸Ğ½");

267 
ui
->
comboBox_3
->
	`addI‹m
("Ğ—Ğ²/Ñ‡");

268 
ui
->
¿dioBu‰Ú_3
->
	`£tText
("Ğ¿Ğ¾ Ğ´Ğ¾Ğ·Ğµ, Ğ¼Ğ—Ğ²");

272 
	}
}

274 
	gNeuŒÚ_m—suršg
::
	$Ú_lšeEd™_2_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
)

276 cÚ¡ 
QSŒšg
 
¡r
=
¬g1
;

277 cÚ¡ 
P
=
¬g1
.
	`toDoubË
();

278 cÚ¡ 
mm_š_Pa
=
P
*133.32;

279 
ui
->
Ïb–_15
->
	`£tText
(
QSŒšg
::
	`numb”
(
mm_š_Pa
,'f',0));

280 
	}
}

282 
	gNeuŒÚ_m—suršg
::
	$”rÜCÚÃùiÚSlÙ
()

284 
em™
 
	`”rÜCÚÃùiÚSigÇl
();

285 
	}
}

	@neutron_measuring.h

1 #iâdeà
NEUTRON_MEASURING_H


2 
	#NEUTRON_MEASURING_H


	)

4 
	~"·sswÜd.h
"

5 
	~"ÃuŒÚ_m—suršg_m—su».h
"

6 
	~"ÃuŒÚ_v”ify.h
"

7 
	~"block_bdkn.h
"

9 
	~<QDŸlog
>

11 
Çme¥aû
 
	gUi
 {

12 
şass
 
	gNeuŒÚ_m—suršg
;

15 şas 
	cNeuŒÚ_m—suršg
 : 
public
 
QDŸlog


17 
Q_OBJECT


19 
public
:

20 
ex¶ic™
 
NeuŒÚ_m—suršg
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
);

21 ~
NeuŒÚ_m—suršg
();

23 
	msigÇls
:

24 
”rÜCÚÃùiÚSigÇl
();

26 
public
 
	m¦Ùs
:

27 
”rÜCÚÃùiÚSlÙ
();

29 
´iv©e
 
	m¦Ùs
:

30 
Ú_pushBu‰Ú_şicked
();

32 
Ú_pushBu‰Ú_3_şicked
();

34 
Ú_pushBu‰Ú_2_şicked
();

36 
Ú_comboBox_2_cu¼’tIndexChªged
(
šdex
);

38 
Ú_¿dioBu‰Ú_2_şicked
();

40 
Ú_¿dioBu‰Ú_3_şicked
();

42 
Ú_¿dioBu‰Ú_şicked
();

44 
Ú_comboBox_4_cu¼’tIndexChªged
(
šdex
);

46 
Ú_lšeEd™_2_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
);

48 
	m´iv©e
:

49 
Ui
::
NeuŒÚ_m—suršg
 *
ui
;

50 
Block_BDKN
* 
	mbdkn
{
	mnuÎ±r
};

51 
š™
();

	@neutron_measuring_measure.cpp

3 
	~"ÃuŒÚ_m—suršg_m—su».h
"

4 
	~"ui_ÃuŒÚ_m—suršg_m—su».h
"

6 
	gNeuŒÚ_m—suršg_m—su»
::
	$NeuŒÚ_m—suršg_m—su»
(
QWidg‘
 *
·»Á
,

7 cÚ¡ 
QSŒšg
 
dim’siÚ
,

8 cÚ¡ 
dim’siÚFÜTime
,

9 
boŞ
 
»gime
, cÚ¡ 
ušt
 
timesAutom©ic
,

10 cÚ¡ 
ušt
 
timeAutom©ic
, cÚ¡ 
ušt8_t
 
th»ashŞd
,

11 cÚ¡ 
ušt
 
timeTh»ashŞd
, cÚ¡ 
do£Th»ashŞd
) :

12 
	`QDŸlog
(
·»Á
),

13 
	`Ab¡¿ù_m—su»m’t_m—su»m’t
(
dim’siÚ
, 
dim’siÚFÜTime
,
»gime
,

14 
timesAutom©ic
, 
timeAutom©ic
,

15 
th»ashŞd
, 
timeTh»ashŞd
, 
do£Th»ashŞd
),

16 
	$ui
(
Ãw
 
Ui
::
NeuŒÚ_m—suršg_m—su»
)

18 
ui
->
	`£tupUi
(
this
);

19 
	`š™
();

20 
	}
}

22 
	gNeuŒÚ_m—suršg_m—su»
::~
	$NeuŒÚ_m—suršg_m—su»
()

24 
	`qDebug
()<<"delete bdkn;";

25 
d–‘e
 
bdkn
;

26 
	`qDebug
()<<"deleteimer;";

27 
d–‘e
 
tim”
;

28 
d–‘e
 
ui
;

29 
	`qDebug
()<<"~Neutron_measuring_measure()";

30 
	}
}

32 
	gNeuŒÚ_m—suršg_m—su»
::
	$š™
()

34 
	`£tA‰ribu‹
(
Qt
::
WA_D–‘eOnClo£
);

35 
	`£tWšdowT™Ë
("ĞĞµĞ¹Ñ‚Ñ€Ğ¾Ğ½Ğ½Ğ¾Ğµ Ğ¸Ğ·Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ - Ğ¸Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ğµ");

36 
ui
->
Ïb–_22
->
	`£tStyËSh“t
("font-size:100px; color:„ed;");

37 
ui
->
Ïb–_25
->
	`£tStyËSh“t
("font-size:25px; color:„ed;");

39 
ui
->
Ïb–_3
->
	`£tStyËSh“t
("font-size:50px; color: cyan;");

41 
ui
->
Ïb–_11
->
	`£tStyËSh“t
("font-size:20px; color: yellow;");

42 
tim”
 = 
Ãw
 
	`QTim”
(
this
);

43 
	`cÚÃù
(
tim”
,&
QTim”
::
timeout
,
this
,&
NeuŒÚ_m—suršg_m—su»
::
timeOut
);

45 if(
Regime
==
Œue
&&
TimeAutom©ic
!=0&&
TimesAutom©ic
!=0)

47 
ui
->
Ïb–_11
->
	`£tText
("ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹");

48 
ui
->
Ïb–_12
->
	`£tText
("ĞĞ¾Ğ¼ĞµÑ€");

49 
ui
->
Ïb–_13
->
	`£tText
("0");

50 
ui
->
Ïb–_14
->
	`£tText
("Ğ¸Ğ·");

51 
ui
->
Ïb–_15
->
	`£tText
(
QSŒšg
::
	`numb”
(
TimesAutom©ic
));

52 
ui
->
Ïb–_16
->
	`£tText
("Ğ²Ñ€ĞµĞ¼Ñ");

53 
ui
->
Ïb–_17
->
	`£tText
("0");

54 
ui
->
Ïb–_18
->
	`£tText
("Ğ¿Ğ¾Ñ€Ğ¾Ğ³ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸");

55 
ui
->
Ïb–_19
->
	`£tText
(
QSŒšg
::
	`numb”
(
TimeAutom©ic
));

59 
ui
->
Ïb–_11
->
	`£tText
("Ğ ÑƒÑ‡Ğ½Ğ¾Ğ¹");

60 
ui
->
Ïb–_12
->
	`£tText
("");

61 
ui
->
Ïb–_13
->
	`£tText
("");

62 
ui
->
Ïb–_14
->
	`£tText
("");

63 
ui
->
Ïb–_15
->
	`£tText
("");

64 
ui
->
Ïb–_16
->
	`£tText
("");

65 
ui
->
Ïb–_17
->
	`£tText
("");

66 
ui
->
Ïb–_18
->
	`£tText
("");

67 
ui
->
Ïb–_19
->
	`£tText
("");

69 
	}
}

71 
	gNeuŒÚ_m—suršg_m—su»
::
	$timeOut
()

74 
time
++;

75 
ui
->
Ïb–_3
->
	`£tText
(
QSŒšg
::
	`numb”
(
time
) + " c");

77 
do£R©e
 = (
bdkn
->
	`g‘Do£R©e
());

79 
cu¼’tDo£R©e
 = 
do£R©e
*
timeCÛf
;

80 ià(
V®ue
=="ĞŸĞ»Ğ¾Ñ‚Ğ½Ğ¾ÑÑ‚ÑŒ ĞŸĞ¾Ñ‚Ğ¾ĞºĞ°")

82 
	`do£To4
(
cu¼’tDo£R©e
,
Dim’siÚ
,
ui
->
Ïb–_9
,ui->
Ïb–_2
,
Œue
,
çl£
);

84 
	`do£To4
(
cu¼’tDo£R©e
,
Dim’siÚ
,
ui
->
Ïb–_9
,ui->
Ïb–_2
,
çl£
,false);

91 
do£
+=
do£R©e
;

92 
do£FÜAuto
+=
do£R©e
;

94 ià(
V®ue
=="ĞŸĞ»Ğ¾Ñ‚Ğ½Ğ¾ÑÑ‚ÑŒ ĞŸĞ¾Ñ‚Ğ¾ĞºĞ°")

96 
	`do£To4
(
do£
,
Dim’siÚDo£
,
ui
->
Ïb–_8
,ui->
Ïb–_7
,
Œue
,true);

98 
	`do£To4
(
do£
,
Dim’siÚDo£
,
ui
->
Ïb–_8
,ui->
Ïb–_7
,
çl£
,false);

101 
avDo£R©e
=(
do£FÜAuto
/
time
)*
timeCÛf
;

103 ià(
V®ue
=="ĞŸĞ»Ğ¾Ñ‚Ğ½Ğ¾ÑÑ‚ÑŒ ĞŸĞ¾Ñ‚Ğ¾ĞºĞ°")

105 
	`do£To4
(
avDo£R©e
,
Dim’siÚ
,
ui
->
Ïb–_22
,ui->
Ïb–_25
,
Œue
,
çl£
);

107 
	`do£To4
(
avDo£R©e
,
Dim’siÚ
,
ui
->
Ïb–_22
,ui->
Ïb–_25
,
çl£
,false);

109 
Ùkl
+=
do£R©e
*do£R©e*
timeCÛf
*timeCoef;

110 if(
time
>0)

112 
z
=
	`sq¹
((
Ùkl
/
time
)-
avDo£R©e
*avDoseRate);

120 
Snd¬dDevŸtiÚ
=
¡d
::
	`abs
(
z
/
avDo£R©e
);

121 
ui
->
Ïb–_20
->
	`£tText
(
QSŒšg
::
	`numb”
(
Snd¬dDevŸtiÚ
*100,'f',3)+" %");

124 if(
Regime
==
Œue
&&
TimeAutom©ic
!=0&&
TimesAutom©ic
!=0)

126 
	`autoMode
(
do£
,
tim”
,
ui
->
Ïb–_17
,ui->
Ïb–_13
);

131 
	`timeTh»ashŞd
(
time
,
ui
->
Ïb–_5
,
tim”
);

132 ià(
V®ue
=="ĞŸĞ»Ğ¾Ñ‚Ğ½Ğ¾ÑÑ‚ÑŒ ĞŸĞ¾Ñ‚Ğ¾ĞºĞ°")

134 
	`do£Th»ashŞd
(
do£
,
ui
->
Ïb–_5
,
tim”
,
Œue
);

136 
	`do£Th»ashŞd
(
do£
,
ui
->
Ïb–_5
,
tim”
,
çl£
);

138 
	}
}

141 
	gNeuŒÚ_m—suršg_m—su»
::
	$autoModeResuÉ
(
Av”ageDo£R©e
, 
Do£R©e_devŸtiÚ_av”age
,

142 
Av”ageDo£
, 
Do£_devŸtiÚ_av”age
)

144 
autoIn™Ÿliz©iÚ
 ="ĞĞµĞ¹Ñ‚Ñ€Ğ¾Ğ½Ğ½Ğ¾Ğµ Ğ¸Ğ·Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ, Ğ±Ğ»Ğ¾Ğº Ğ‘Ğ”ĞšĞ\n" + 
blockName
 +

145 "\nĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ¸Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ğ¹: "+
QSŒšg
::
	`numb”
(
TimesAutom©ic
) +

146 "\nĞ’Ñ€ĞµĞ¼Ñ Ğ¸Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ğ¹: "+
QSŒšg
::
	`numb”
(
TimeAutom©ic
)+" c";

147 
autoResuÉ
 = 
Ãw
 
	`Auto_m—su»m’t_»suÉ
(
this
,
V®ue
,
IÁeg¿lV®ue
,
autoIn™Ÿliz©iÚ
);

148 
autoResuÉ
->
	`£tMod®
(
Œue
);

150 ià(
V®ue
=="ĞŸĞ»Ğ¾Ñ‚Ğ½Ğ¾ÑÑ‚ÑŒ ĞŸĞ¾Ñ‚Ğ¾ĞºĞ°")

152 
	`do£To4
(
Av”ageDo£R©e
,
Dim’siÚ
,
autoResuÉ
->
avDo£R©e
,autoResuÉ->
avDo£R©eDim’siÚ
,
Œue
,
çl£
);

154 
	`do£To4
(
Av”ageDo£R©e
,
Dim’siÚ
,
autoResuÉ
->
avDo£R©e
,autoResuÉ->
avDo£R©eDim’siÚ
,
çl£
,false);

158 ià(
V®ue
=="ĞŸĞ»Ğ¾Ñ‚Ğ½Ğ¾ÑÑ‚ÑŒ ĞŸĞ¾Ñ‚Ğ¾ĞºĞ°")

160 
	`do£To4
(
Av”ageDo£
,
Dim’siÚDo£
,
autoResuÉ
->
avDo£
,autoResuÉ->
avDo£Dim’siÚ
,
Œue
,true);

162 
	`do£To4
(
Av”ageDo£
,
Dim’siÚDo£
,
autoResuÉ
->
avDo£
,autoResuÉ->
avDo£Dim’siÚ
,
çl£
,false);

165 
autoResuÉ
->
avDo£R©eDevŸtiÚ
->
	`£tText
(
QSŒšg
::
	`numb”
(
Do£R©e_devŸtiÚ_av”age
) +" %");

166 
autoResuÉ
->
avDo£DevŸtiÚ
->
	`£tText
(
QSŒšg
::
	`numb”
(
Do£_devŸtiÚ_av”age
) +" %");

167 
autoResuÉ
->
	`show
();

168 
	}
}

170 
	gNeuŒÚ_m—suršg_m—su»
::
	$Ú_pushBu‰Ú_şicked
()

172 
tim”
->
	`¡İ
();

173 
	`şo£
();

174 
	}
}

176 
	gNeuŒÚ_m—suršg_m—su»
::
	$Ú_pushBu‰Ú_2_şicked
()

178 
ui
->
pushBu‰Ú_2
->
	`£tEÇbËd
(
çl£
);

179 
ui
->
pushBu‰Ú
->
	`£tEÇbËd
(
çl£
);

180 
ui
->
pushBu‰Ú_2
->
	`£tVisibË
(
çl£
);

181 
ui
->
pushBu‰Ú
->
	`£tVisibË
(
çl£
);

183 
tim”
->
	`¡¬t
(1000);

184 
time
=0;

185 
ui
->
Ïb–_3
->
	`£tText
(
QSŒšg
::
	`numb”
(
time
));

186 
do£
=0;

187 
Ùkl
=0;

188 
do£FÜAuto
=0;

190 
	}
}

192 
	gNeuŒÚ_m—suršg_m—su»
::
	$Ú_pushBu‰Ú_3_şicked
()

194 
ui
->
pushBu‰Ú_2
->
	`£tEÇbËd
(
Œue
);

195 
ui
->
pushBu‰Ú
->
	`£tEÇbËd
(
Œue
);

196 
ui
->
pushBu‰Ú_2
->
	`£tVisibË
(
Œue
);

197 
ui
->
pushBu‰Ú
->
	`£tVisibË
(
Œue
);

198 
tim”
->
	`¡İ
();

199 
	}
}

201 
	gNeuŒÚ_m—suršg_m—su»
::
	$ÃuŒÚ
(
Block_BDKN
 *
x
)

203 
bdkn
=
x
;

204 
blockName
=
bdkn
->
	`g‘BlockName
();

205 
ui
->
Ïb–_5
->
	`£tText
(
blockName
);

206 
bdkn
->
	`g‘MesP¬am
())

209 
V®ue
="ĞŸĞ»Ğ¾Ñ‚Ğ½Ğ¾ÑÑ‚ÑŒ ĞŸĞ¾Ñ‚Ğ¾ĞºĞ°";

210 
IÁeg¿lV®ue
 = "Ğ¤Ğ»ÑĞµĞ½Ñ";;

212 
V®ue
="ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ ĞŸĞ¾Ğ³Ğ»Ğ¾Ñ‰ĞµĞ½Ğ½Ğ¾Ğ¹ Ğ”Ğ¾Ğ·Ñ‹";

213 
IÁeg¿lV®ue
 = "ĞŸĞ¾Ğ³Ğ»Ğ¾Ñ‰ĞµĞ½Ğ½Ğ°Ñ Ğ”Ğ¾Ğ·Ğ°";;

215 
V®ue
="ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ ĞĞ¼Ğ±Ğ¸ĞµĞ½Ñ‚Ğ½Ğ¾Ğ³Ğ¾ Ğ­ĞºĞ²Ğ¸Ğ²Ğ°Ğ»ĞµĞ½Ñ‚Ğ° Ğ”Ğ¾Ğ·Ñ‹";

216 
IÁeg¿lV®ue
 = "ĞĞ¼Ğ±Ğ¸ĞµĞ½Ñ‚Ğ½Ñ‹Ğ¹ Ğ­ĞºĞ²Ğ¸Ğ²Ğ°Ğ»ĞµĞ½Ñ‚ Ğ”Ğ¾Ğ·Ñ‹";;

219 
ui
->
Ïb–
->
	`£tText
(
V®ue
);

220 
ui
->
Ïb–_6
->
	`£tText
(
IÁeg¿lV®ue
);

221 
	}
}

223 
	gNeuŒÚ_m—suršg_m—su»
::
	$”rÜCÚÃùiÚSlÙ
()

225 
QMes§geBox
::
	`w¬nšg
(
this
, "ĞÑˆĞ¸Ğ±ĞºĞ°","ĞÑˆĞ¸Ğ±ĞºĞ° Ğ² Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğ¸");

226 
	`şo£
();

227 
	}
}

	@neutron_measuring_measure.h

1 #iâdeà
NEUTRON_MEASURING_MEASURE_H


2 
	#NEUTRON_MEASURING_MEASURE_H


	)

4 
	~"ab¡¿ù_m—su»m’t_m—su»m’t.h
"

6 
	~"auto_m—su»m’t_»suÉ.h
"

7 
	~"block_bdkn.h
"

9 
	~<QDŸlog
>

10 
	~<QTim”
>

12 
Çme¥aû
 
	gUi
 {

13 
şass
 
	gNeuŒÚ_m—suršg_m—su»
;

16 
şass
 
	gNeuŒÚ_m—suršg_m—su»
 : 
public
 
QDŸlog
,…ubliø
	gAb¡¿ù_m—su»m’t_m—su»m’t


18 
Q_OBJECT


20 
	gpublic
:

21 
ex¶ic™
 
NeuŒÚ_m—suršg_m—su»
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
,cÚ¡ 
QSŒšg
 
dim’siÚ
=nullptr,

22 cÚ¡ 
dim’siÚFÜTime
=0,

23 
boŞ
 
»gime
=0, cÚ¡ 
ušt
 
timesAutom©ic
=0,

24 cÚ¡ 
ušt
 
timeAutom©ic
=0, cÚ¡ 
ušt8_t
 
th»ashŞd
=0,

25 cÚ¡ 
ušt
 
timeTh»ashŞd
=0, cÚ¡ 
do£Th»ashŞd
=0);

26 ~
NeuŒÚ_m—suršg_m—su»
(è
	gov”ride
;

28 
public
 
	g¦Ùs
:

29 
”rÜCÚÃùiÚSlÙ
();

31 
´iv©e
 
	g¦Ùs
:

32 
timeOut
();

33 
Ú_pushBu‰Ú_şicked
();

35 
Ú_pushBu‰Ú_2_şicked
();

37 
Ú_pushBu‰Ú_3_şicked
();

39 
	gpublic
:

40 
ÃuŒÚ
(
Block_BDKN
*);

42 
	g´iv©e
:

43 
Ui
::
NeuŒÚ_m—suršg_m—su»
 *
ui
;

44 
Block_BDKN
* 
	gbdkn
{
	gnuÎ±r
};

45 
QTim”
* 
	gtim”
{
	gnuÎ±r
};

46 
Auto_m—su»m’t_»suÉ
* 
	gautoResuÉ
{
	gnuÎ±r
};

48 
š™
();

49 
autoModeResuÉ
(,,,è
	gov”ride
;

51 
	gdo£R©e
{0};

52 
	gdo£
{0};

53 
ulÚg
 
	gtime
{0};

55 
QSŒšg
 
	gblockName
{""};

56 
QSŒšg
 
	gV®ue
{""};

57 
QSŒšg
 
	gIÁeg¿lV®ue
{""};

	@neutron_verify.cpp

3 
	~"ÃuŒÚ_v”ify.h
"

4 
	~"ui_ÃuŒÚ_v”ify.h
"

6 
	gNeuŒÚ_v”ify
::
	$NeuŒÚ_v”ify
(
QWidg‘
 *
·»Á
) :

7 
	`QDŸlog
(
·»Á
),

8 
	$ui
(
Ãw
 
Ui
::
NeuŒÚ_v”ify
)

10 
ui
->
	`£tupUi
(
this
);

11 
	`š™
();

12 
	}
}

14 
	gNeuŒÚ_v”ify
::~
	$NeuŒÚ_v”ify
()

16 
d–‘e
 
tim”
;

17 
d–‘e
 
¡¬tTim”
;

18 
d–‘e
 
bdkn
;

19 
d–‘e
 
msg
;

20 
d–‘e
 
ui
;

21 
	}
}

23 
	gNeuŒÚ_v”ify
::
	$š™
()

25 
this
->
	`£tA‰ribu‹
(
Qt
::
WA_D–‘eOnClo£
);

26 
	`£tWšdowT™Ë
("ĞĞµĞ¹Ñ‚Ñ€Ğ¾Ğ½Ğ½Ğ¾Ğµ Ğ¸Ğ·Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ - ĞºĞ°Ğ»Ğ¸Ğ±Ñ€Ğ¾Ğ²ĞºĞ°");

27 
ui
->
Ïb–
->
	`£tStyËSh“t
("font-size:100px; color:„ed;");

28 
ui
->
Ïb–_2
->
	`£tStyËSh“t
("font-size:50px; color:„ed;");

29 
ui
->
Ïb–_3
->
	`£tStyËSh“t
("font-size:50px; color: cyan;");

30 
ui
->
lšeEd™
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->lineEdit));

32 
ui
->
lšeEd™_2
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->lineEdit_2));

36 
tim”
 = 
Ãw
 
	`QTim”
(
this
);

37 
	`cÚÃù
(
tim”
,&
QTim”
::
timeout
,
this
,&
NeuŒÚ_v”ify
::
timeOut
);

38 
¡¬tTim”
 = 
Ãw
 
	`QTim”
(
this
);

39 
	`cÚÃù
(
¡¬tTim”
,&
QTim”
::
timeout
,
this
,&
NeuŒÚ_v”ify
::
¡¬tTimeOut
);

40 
	}
}

42 
	gNeuŒÚ_v”ify
::
	$timeOut
()

45 
time
++;

46 
ui
->
Ïb–_3
->
	`£tText
(
QSŒšg
::
	`numb”
(
time
) + " c");

48 
I
 = (
bdkn
->
IblockCR_Res
);

52 
Isum
+=
I
;

53 
avI
=(
Isum
/
time
);

55 
ui
->
Ïb–
->
	`£tText
(
QSŒšg
::
	`numb”
(
avI
,'E'));

56 
Ùkl
+=
I
*I;

57 if(
time
>0)

59 
z
=
	`sq¹
((
Ùkl
/
time
)-
avI
*avI);

67 
Snd¬dDevŸtiÚ
=
¡d
::
	`abs
(
z
/
avI
);

68 
ui
->
Ïb–_4
->
	`£tText
(
QSŒšg
::
	`numb”
(
Snd¬dDevŸtiÚ
*100,'f',3)+" %");

70 
	}
}

73 
	gNeuŒÚ_v”ify
::
	$g‘BlockBDKN
(
Block_BDKN
* 
b
)

75 
bdkn
=
b
;

76 
ui
->
Ïb–_5
->
	`£tText
(
bdkn
->
	`g‘BlockName
());

77 
MesP¬am
 = 
bdkn
->
	`g‘MesP¬am
();

78 
MesDŸp
 = 
bdkn
->
	`g‘MesDŸp
();

79 
chamb”Name
 = 
bdkn
->
	`g‘BlockName
();

80 if(
MesP¬am
==0)

82 
ui
->
Ïb–_9
->
	`£tText
("ĞŸĞ»Ğ¾Ñ‚Ğ½Ğ¾ÑÑ‚ÑŒ ĞŸĞ¾Ñ‚Ğ¾ĞºĞ°");

83 
ui
->
comboBox
->
	`addI‹m
("Ğ¸Ğ¼Ğ¿/(ĞºĞ².ÑĞ¼*Ñ)");

84 
ui
->
comboBox
->
	`addI‹m
("Ğ¸Ğ¼Ğ¿/(ĞºĞ².Ğ¼*Ñ)");

85 
ui
->
Ïb–_6
->
	`£tText
("Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ ĞŸĞŸ");

86 
ui
->
Ïb–_7
->
	`£tText
("Ğ§ÑƒĞ²ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ, (Ğ¸Ğ¼Ğ¿/Ñ)/(Ğ¸Ğ¼Ğ¿/(ĞºĞ².ÑĞ¼*Ñ))");

88 if(
MesP¬am
==1)

90 
ui
->
Ïb–_9
->
	`£tText
("ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ ĞŸĞ¾Ğ³Ğ»Ğ¾Ñ‰ĞµĞ½Ğ½Ğ¾Ğ¹ Ğ”Ğ¾Ğ·Ñ‹");

91 
ui
->
comboBox
->
	`addI‹m
("Ğ“Ñ€/Ñ");

92 
ui
->
comboBox
->
	`addI‹m
("Ğ¼Ğ“Ñ€/Ñ");

93 
ui
->
comboBox
->
	`addI‹m
("Ğ¼ĞºĞ“Ñ€/Ñ");

94 
ui
->
comboBox
->
	`addI‹m
("Ğ“Ñ€/Ñ‡");

95 
ui
->
comboBox
->
	`addI‹m
("Ğ¼Ğ“Ñ€/Ñ‡");

96 
ui
->
comboBox
->
	`addI‹m
("Ğ¼ĞºĞ“Ñ€/Ñ‡");

97 
ui
->
Ïb–_6
->
	`£tText
("Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ ĞœĞŸĞ”");

98 
ui
->
Ïb–_7
->
	`£tText
("Ğ§ÑƒĞ²ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ, (Ğ¸Ğ¼Ğ¿/Ñ)/(Ğ“Ñ€/Ñ)");

100 if(
MesP¬am
==2)

102 
ui
->
Ïb–_9
->
	`£tText
("ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ ĞĞ¼Ğ±Ğ¸ĞµĞ½Ñ‚Ğ½Ğ¾Ğ³Ğ¾ Ğ­ĞºĞ²Ğ¸Ğ²Ğ°Ğ»ĞµĞ½Ñ‚Ğ° Ğ”Ğ¾Ğ·Ñ‹");

103 
ui
->
comboBox
->
	`addI‹m
("Ğ—Ğ²/Ñ");

104 
ui
->
comboBox
->
	`addI‹m
("Ğ¼Ğ—Ğ²/Ñ");

105 
ui
->
comboBox
->
	`addI‹m
("Ğ¼ĞºĞ—Ğ²/Ñ");

106 
ui
->
comboBox
->
	`addI‹m
("Ğ—Ğ²/Ñ‡");

107 
ui
->
comboBox
->
	`addI‹m
("Ğ¼Ğ—Ğ²/Ñ‡");

108 
ui
->
comboBox
->
	`addI‹m
("Ğ¼ĞºĞ—Ğ²/Ñ‡");

109 
ui
->
Ïb–_6
->
	`£tText
("Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ ĞœĞĞ­Ğ”");

110 
ui
->
Ïb–_7
->
	`£tText
("Ğ§ÑƒĞ²ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ, (Ğ¸Ğ¼Ğ¿/Ñ)/(Ğ—Ğ²/Ñ)");

113 if(
MesDŸp
==0)

115 
ui
->
Ïb–_8
->
	`£tText
("Ğ‘ĞµĞ· Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°");

118 if(
MesDŸp
==1)

120 
ui
->
Ïb–_8
->
	`£tText
("Ğ¡ ĞºĞ°Ğ´Ğ¼Ğ¸ĞµĞ²Ñ‹Ğ¼ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ¾Ğ¼");

123 
QSŒšg
 
msgSŒ
 = "Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ° %1 \n"

127 
QSŒšg
 
msgSŒ1
 = 
msgSŒ
.
	`¬g
(
ui
->
Ïb–_9
->
	`‹xt
());

128 
msg
 = 
Ãw
 
	`QMes§geBox
(
this
);

129 
msg
->
	`£tWšdowT™Ë
("Ğ’Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ");

130 
msg
->
	`£tText
(
msgSŒ1
);

131 
msg
->
	`exec
();

133 
	}
}

135 
	gNeuŒÚ_v”ify
::
	$Ú_pushBu‰Ú_şicked
()

137 
	`şo£
();

138 
	}
}

140 
	gNeuŒÚ_v”ify
::
	$Ú_pushBu‰Ú_2_şicked
()

142 
ui
->
pushBu‰Ú_2
->
	`£tEÇbËd
(
çl£
);

143 
ui
->
pushBu‰Ú
->
	`£tEÇbËd
(
çl£
);

144 
ui
->
pushBu‰Ú_2
->
	`£tVisibË
(
çl£
);

145 
ui
->
pushBu‰Ú
->
	`£tVisibË
(
çl£
);

147 
¡¬tTim”
->
	`£tSšgËShÙ
(
Œue
);

148 
¡¬tTim”
->
	`¡¬t
(1000);

149 
Isum
=0;

151 
time
=0;

152 
Ùkl
=0;

153 
ui
->
Ïb–_3
->
	`£tText
("ĞŸĞ ĞĞ“Ğ Ğ•Ğ’!");

154 
	}
}

156 
	gNeuŒÚ_v”ify
::
	$¡¬tTimeOut
()

158 
tim”
->
	`¡¬t
(1000);

160 
	}
}

163 
	gNeuŒÚ_v”ify
::
	$Ú_pushBu‰Ú_3_şicked
()

165 
ui
->
pushBu‰Ú_2
->
	`£tEÇbËd
(
Œue
);

166 
ui
->
pushBu‰Ú
->
	`£tEÇbËd
(
Œue
);

167 
ui
->
pushBu‰Ú_2
->
	`£tVisibË
(
Œue
);

168 
ui
->
pushBu‰Ú
->
	`£tVisibË
(
Œue
);

170 
tim”
->
	`¡İ
();

171 if(
ui
->
Ïb–
->
	`‹xt
()=="Ğ¡ĞºĞ¾Ñ€Ğ¾ÑÑ‚ÑŒ ÑÑ‡ĞµÑ‚Ğ°"||ui->
lšeEd™
->‹xt()==""){ui->
lšeEd™_2
->
	`£tText
("");}

174 
I
 = 
avI
;

175 
QSŒšg
 
¡r
=
ui
->
lšeEd™
->
	`‹xt
();

176 
¡r
.
	`»¶aû
(",",".");

177 
do£R©e
 = 
¡r
.
	`toDoubË
();

178 
£ns
=0;

179 if(
MesP¬am
==0)

181 
ui
->
comboBox
->
	`cu¼’tIndex
())

183 0: 
£ns
=
I
/
do£R©e
;;

184 1: 
£ns
=(1E3)*
I
/
do£R©e
;;

190 
ui
->
comboBox
->
	`cu¼’tIndex
())

192 0: 
£ns
=
I
/
do£R©e
;;

193 1: 
£ns
=(1E3)*
I
/
do£R©e
;;

194 2: 
£ns
=(1E6)*
I
/
do£R©e
;;

195 3: 
£ns
=(3.6E3)*
I
/
do£R©e
;;

196 4: 
£ns
=(3.6E6)*
I
/
do£R©e
;;

197 5: 
£ns
=(3.6E9)*
I
/
do£R©e
;;

201 
QSŒšg
 
£nsib™y
 = QSŒšg::
	`numb”
(
£ns
);

202 
ui
->
lšeEd™_2
->
	`£tText
(
£nsib™y
);

204 
	}
}

206 
	gNeuŒÚ_v”ify
::
	$”rÜCÚÃùiÚSlÙ
()

208 
QMes§geBox
::
	`w¬nšg
(
this
, "ĞÑˆĞ¸Ğ±ĞºĞ°","ĞÑˆĞ¸Ğ±ĞºĞ° Ğ² Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğ¸");

209 
d–‘e
 
msg
;

210 
msg
 = 
nuÎ±r
;

211 
	`şo£
();

212 
	}
}

214 
	gNeuŒÚ_v”ify
::
	$Ú_pushBu‰Ú_4_şicked
()

216 ià(
ui
->
lšeEd™_2
->
	`‹xt
()==""){
QMes§geBox
::
	`w¬nšg
(
this
,"Ğ’Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ","ĞĞµ Ğ·Ğ°Ğ´Ğ°Ğ½Ğ¾ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ",QMes§geBox::
Ok
);}

219 
QSŒšg
 
£nsib™y
 = 
ui
->
lšeEd™_2
->
	`‹xt
();

220 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

222 
QSqlD©aba£
 
db
 = QSqlD©aba£::
	`d©aba£
("myDB");

223 
db
.
	`£tD©aba£Name
("config.db");

224 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

225 
QSqlQu”y
 
	`qu”y
(
db
);

226 
QSŒšg
 
qSŒ
="";

227 ià(
MesP¬am
==0&&
MesDŸp
==0){
qSŒ
="UPDATE‚eutronBlocks SET sensibilityPPwithoutCd='%1' WHERE‚ame='%2'";}

228 ià(
MesP¬am
==0&&
MesDŸp
==1){
qSŒ
="UPDATE‚eutronBlocks SET sensibilityPPwithCd='%1' WHERE‚ame='%2'";}

229 ià(
MesP¬am
==1&&
MesDŸp
==0){
qSŒ
="UPDATE‚eutronBlocks SET sensibilityMPDwithoutCd='%1' WHERE‚ame='%2'";}

230 ià(
MesP¬am
==1&&
MesDŸp
==1){
qSŒ
="UPDATE‚eutronBlocks SET sensibilityMPDwithCd='%1' WHERE‚ame='%2'";}

231 ià(
MesP¬am
==2&&
MesDŸp
==0){
qSŒ
="UPDATE‚eutronBlocks SET sensibilityMAEDwithoutCd='%1' WHERE‚ame='%2'";}

232 ià(
MesP¬am
==2&&
MesDŸp
==1){
qSŒ
="UPDATE‚eutronBlocks SET sensibilityMAEDwithCd='%1' WHERE‚ame='%2'";}

234 
QSŒšg
 
qSŒ1
=
qSŒ
.
	`¬g
(
ui
->
lšeEd™_2
->
	`‹xt
()).¬g(
chamb”Name
);

235 
	`qDebug
()<<
chamb”Name
;

236 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y UPDATE gammaBlock";
db
.
	`Ï¡E¼Ü
().
	`‹xt
();}

237 
db
.
	`şo£
();

239 
QMes§geBox
::
	`w¬nšg
(
this
,"Ğ’Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ","Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ Ñ‡ÑƒĞ²ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸ Ğ±Ñ‹Ğ»Ğ¾ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¾",QMes§geBox::
Ok
);

241 
	}
}

	@neutron_verify.h

1 #iâdeà
NEUTRON_VERIFY_H


2 
	#NEUTRON_VERIFY_H


	)

4 
	~"block_bdkn.h
"

6 
	~<QDŸlog
>

8 
Çme¥aû
 
	gUi
 {

9 
şass
 
	gNeuŒÚ_v”ify
;

12 şas 
	cNeuŒÚ_v”ify
 : 
public
 
QDŸlog


14 
Q_OBJECT


16 
public
:

17 
ex¶ic™
 
NeuŒÚ_v”ify
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
);

18 ~
NeuŒÚ_v”ify
();

20 
g‘BlockBDKN
(
Block_BDKN
* 
b
);

22 
public
 
	m¦Ùs
:

23 
”rÜCÚÃùiÚSlÙ
();

25 
´iv©e
 
	m¦Ùs
:

26 
timeOut
();

27 
¡¬tTimeOut
();

29 
Ú_pushBu‰Ú_şicked
();

31 
Ú_pushBu‰Ú_2_şicked
();

33 
Ú_pushBu‰Ú_3_şicked
();

35 
Ú_pushBu‰Ú_4_şicked
();

37 
	m´iv©e
:

38 
Ui
::
NeuŒÚ_v”ify
 *
ui
;

39 
Block_BDKN
* 
	mbdkn
{
	mnuÎ±r
};

40 
QTim”
* 
	gtim”
{
	gnuÎ±r
};

41 
QTim”
* 
	g¡¬tTim”
{
	gnuÎ±r
};

42 
QMes§geBox
* 
	gmsg
{
	gnuÎ±r
};

44 
š™
();

45 
	gtime
{0};

46 
	gI
{0};

47 
	gIsum
{0};

48 
	gavI
{0};

49 
	gÙkl
{0};

50 
	gSnd¬dDevŸtiÚ
{0};

52 
qušt8
 
	gMesP¬am
{0};

53 
qušt8
 
	gMesDŸp
{0};

54 
QSŒšg
 
	gchamb”Name
{""};

	@password.cpp

3 
	~"·sswÜd.h
"

5 
	gPasswÜd
::
	$PasswÜd
()

6 {
	}
}

8 
PasswÜd
::
	$check
()

10 
QSŒšg
 
·ssCu¼’t
{"1"};

11 
QSŒšg
 
·ssMªuçùu»r
{""};

12 
QSŒšg
 
·ssV”if›r
{""};

14 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

16 
QSqlD©aba£
 
db
=QSqlD©aba£::
	`d©aba£
("myDB");

17 
db
.
	`£tD©aba£Name
("config.db");

18 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

19 
QSqlQu”y
 
	`qu”y
(
db
);

20 
QSŒšg
 
·ssQu”y
 = "SELECT * FROM…assword";

21 if(!
qu”y
.
	`exec
(
·ssQu”y
))

22 {
	`qDebug
()<<"uÇbËƒxecu‹ qu”y SELECT"<<
qu”y
.
	`Ï¡E¼Ü
().
	`‹xt
();}

23 if(
qu”y
.
	`fœ¡
())

25 
·ssCu¼’t
=
qu”y
.
	`v®ue
("·ssCu¼’t").
	`toSŒšg
();

26 
·ssMªuçùu»r
=
qu”y
.
	`v®ue
("·ssMªuçùu»r").
	`toSŒšg
();

27 
·ssV”if›r
=
qu”y
.
	`v®ue
("·ssV”if›r").
	`toSŒšg
();

29 
db
.
	`şo£
();

31 if(
·ssCu¼’t
==
·ssMªuçùu»r
)

35 ià(
·ssCu¼’t
==
·ssV”if›r
)

43 
	}
}

	@password.h

1 #iâdeà
PASSWORD_H


2 
	#PASSWORD_H


	)

4 
	~<QSŒšg
>

5 
	~<QSql
>

6 
	~<QSqlQu”y
>

7 
	~<QSqlE¼Ü
>

8 
	~<QDebug
>

11 şas 
	cPasswÜd


13 
	mpublic
:

14 
PasswÜd
();

15 
check
();

	@rs232.cpp

7 
	~"rs232.h
"

9 
	gRS232
::
	$RS232
(
QObjeù
* 
·»Á
):
	$QObjeù
(
·»Á
)

11 
	`š™
();

12 
	}
}

13 
	gRS232
::~
	$RS232
()

15 
d–‘e
 
tim”
;

16 
d–‘e
 
¡¬tTim”
;

17 
d–‘e
 
comPÜt
;

18 
	}
}

20 
	gRS232
::
	$š™
()

22 
comPÜt
 = 
Ãw
 
	`QS”ŸlPÜt
(
this
);

23 
comPÜt
->
	`£tPÜtName
("/dev/ttyS0");

24 
comPÜt
->
	`£tBaudR©e
(
QS”ŸlPÜt
::
Baud2400
);

25 
comPÜt
->
	`£tD©aB™s
(
QS”ŸlPÜt
::
D©a8
);

26 
comPÜt
->
	`£tP¬™y
(
QS”ŸlPÜt
::
NoP¬™y
);

27 
comPÜt
->
	`£tStİB™s
(
QS”ŸlPÜt
::
OÃStİ
);

28 
comPÜt
->
	`£tFlowCÚŒŞ
(
QS”ŸlPÜt
::
NoFlowCÚŒŞ
);

30 
tim”
 = 
Ãw
 
	`QTim”
(
this
);

31 
	`cÚÃù
(
tim”
,&
QTim”
::
timeout
,
this
,&
RS232
::
timeOut
);

32 
¡¬tTim”
 = 
Ãw
 
	`QTim”
(
this
);

33 
	`cÚÃù
(
¡¬tTim”
,&
QTim”
::
timeout
,
this
,&
RS232
::
¡¬tTimeOut
);

34 
	`cÚÃùPÜt
();

35 
	}
}

37 
	gRS232
::
	$cÚÃùPÜt
()

39 if(
comPÜt
->
	`İ’
(
QIODeviû
::
R—dWr™e
))

41 if(!
comPÜt
->
	`isO³n
())

43 
	`qDebug
()<<"error occured while opening…ort";

44 
comPÜt
->
	`şo£
();

48 
	`qDebug
()<<"Port RS-232 is connected";

49 
comPÜt
->
	`£tD©aT”mš®R—dy
(
Œue
);

50 
comPÜt
->
	`£tReque¡ToS’d
(
Œue
);

53 
¡¬tTim”
->
	`£tSšgËShÙ
(
Œue
);

54 
¡¬tTim”
->
	`¡¬t
(5000);

55 
	}
}

57 
	gRS232
::
	$discÚÃùPÜt
()

59 
tim”
->
	`¡İ
();

60 if(
comPÜt
->
	`isO³n
())

62 
	`qDebug
()<<"disconnect";

63 
comPÜt
->
	`şo£
();

67 
comPÜt
->
	`şo£
();

69 
	}
}

71 
	gRS232
::
	$¡¬tTimeOut
()

73 
tim”
->
	`¡¬t
(100);

74 
	`qDebug
()<<"start„eading…ort RS-232";

75 
	}
}

77 
	gRS232
::
	$timeOut
()

79 if(
comPÜt
->
	`isO³n
())

81 
i
 = 
comPÜt
->
QS”ŸlPÜt
::
	`by‹sAvaabË
();

82 
QBy‹A¼ay
 
¬rLi¡
;

83 if(
i
>=7)

85 
¬rLi¡
.
	`­³nd
((
comPÜt
->
	`»ad
(6)));

87 
qšt8
 *
¬r
 = 
Ãw
 qint8 [6];

88 
i
=0;i<6;i++)

90 
¬r
[
i
]=
¬rLi¡
[i];

92 
¡d
::
	`sÜt
(&
¬r
[0],&arr[6]);

94 if(
¬r
[0]!=arr[1]&&arr[0]!=arr[2]&&arr[0]!=arr[3]&&arr[0]!=arr[4]&&arr[0]!=arr[5]

95 &&
¬r
[1]!=arr[2]&&arr[1]!=arr[2]&&arr[1]!=arr[3]&&arr[1]!=arr[4]&&arr[1]!=arr[5]

96 &&
¬r
[2]!=arr[3]&&arr[2]!=arr[4]&&arr[2]!=arr[5]

97 &&
¬r
[3]!=arr[4]&&arr[3]!=arr[5]

98 &&
¬r
[4]!=arr[5])

100 
COM
=
QSŒšg
::
	`numb”
(
¬r
[0],16)+QString::number(arr[1],16)+

101 
QSŒšg
::
	`numb”
(
¬r
[2],16)+QString::number(arr[3],16)+

102 
QSŒšg
::
	`numb”
(
¬r
[4],16)+QString::number(arr[5],16);

104 
d–‘e
 [] 
¬r
;

106 
em™
 
	`outRS232
(
COM
);

108 
comPÜt
->
	`ş—r
();

110 
	}
}

112 
	gRS232
::
	$wr™eToRS232
(
QBy‹A¼ay
& 
d©a
)

114 if(
comPÜt
->
	`isO³n
())

116 
tim”
->
	`¡İ
();

118 
comPÜt
->
	`wr™e
(
d©a
);

125 
	`qDebug
()<<"Wr™eTØPÜt!!!!===ğ"<<
d©a
.
	`toHex
();

135 
tim”
->
	`¡¬t
(100);

137 
	}
}

	@rs232.h

1 #iâdeà
RS232_H


2 
	#RS232_H


	)

5 
	~<QObjeù
>

6 
	~<QtS”ŸlPÜt/QS”ŸlPÜt
>

7 
	~<QTim”
>

8 
	~<QDebug
>

10 şas 
	cRS232
:
public
 
QObjeù


12 
Q_OBJECT


13 
public
:

14 
ex¶ic™
 
RS232
(
QObjeù
* 
·»Á
=
nuÎ±r
);

15 ~
RS232
();

17 
	msigÇls
:

18 
outRS232
(
QSŒšg
);

20 
´iv©e
 
	m¦Ùs
:

21 
timeOut
();

22 
¡¬tTimeOut
();

24 
	mpublic
:

25 
wr™eToRS232
(
QBy‹A¼ay
&);

28 
	m´iv©e
:

29 
QS”ŸlPÜt
* 
comPÜt
{
nuÎ±r
};

30 
QSŒšg
 
	gCOM
;

31 
QTim”
* 
	gtim”
{
	gnuÎ±r
};

32 
QTim”
* 
	g¡¬tTim”
{
	gnuÎ±r
};

34 
š™
();

35 
cÚÃùPÜt
();

36 
discÚÃùPÜt
();

	@rs485.cpp

1 »¿#šşud
	~"rs485.h
"

5 
boŞ
 
	gRS485
::
BDGÜBDKN
=0;

7 
	gRS485
::
	$RS485
(
QObjeù
* 
·»Á
):
	$QObjeù
(
·»Á
)

9 
	`š™
();

10 
	}
}

12 
	gRS485
::~
	$RS485
()

14 if(
modbusDeviû
)

16 
modbusDeviû
->
	`discÚÃùDeviû
();

18 
d–‘e
 
modbusDeviû
;

19 
d–‘e
 
tim”
;

20 
d–‘e
 
msg
;

21 
	}
}

23 
	gRS485
::
	$š™
()

25 if(!
BDGÜBDKN
)

27 
SERVER_ADDRESS
 = 0x08;

29 
START_ADDRESS
 = 0x12d;

32 
AMOUNT
 = 1;

33 
	`qDebug
()<<"Address of BDG";

37 
SERVER_ADDRESS
 = 1;

38 
START_ADDRESS
 = 0x10d;

45 
AMOUNT
 = 1;

46 
	`qDebug
()<<"Address of BDKN";

48 
modbusDeviû
 = 
Ãw
 
	`QModbusRtuS”ŸlMa¡”
(
this
);

52 
	`cÚÃù
(
modbusDeviû
,&
QModbusCl›Á
::
”rÜOccu¼ed
,
this
,&
RS485
::
”rÜ
);

54 if(
modbusDeviû
)

57 
	`cÚÃù
(
modbusDeviû
,&
QModbusCl›Á
::
¡©eChªged
,
this
,&
RS485
::
ÚS‹Chªged
);

59 
tim”
=
Ãw
 
	`QTim”
(
this
);

60 
	`cÚÃù
(
tim”
,&
QTim”
::
timeout
,
this
,&
RS485
::
timeOut
);

61 
	`CÚÃùPÜt
();

62 
	}
}

64 
	gRS485
::
	$¡¬t
()

66 
tim”
->
	`¡¬t
(500);

67 
modbusDeviû
->
	`£tTimeout
(100);

69 
	}
}

71 
	gRS485
::
	$¡İ
()

73 
tim”
->
	`¡İ
();

74 
	`DiscÚÃùPÜt
();

75 
	}
}

77 
QModbusD©aUn™
 
	gRS485
::
	$»adReque¡
() const

79 
	`qDebug
()<<"START_ADDRESS "<<
START_ADDRESS
;

80  
	`QModbusD©aUn™
(
QModbusD©aUn™
::
HŞdšgRegi¡”s
, 
START_ADDRESS
, 
¡©ic_ÿ¡
<
qušt16
>(
AMOUNT
));

81 
	}
}

83 
QModbusD©aUn™
 
	gRS485
::
	$wr™eReque¡
() const

85  
	`QModbusD©aUn™
(
QModbusD©aUn™
::
HŞdšgRegi¡”s
, 
START_ADDRESS
,
¡©ic_ÿ¡
<
qušt16
>(
WRITE_SIZE
));

86 
	}
}

90 
	gRS485
::
	$CÚÃùPÜt
()

92 
	`qDebug
()<<"ConnectPort";

94 ià(!
modbusDeviû
) {;}

96 ià(
modbusDeviû
->
	`¡©e
(è!ğ
QModbusDeviû
::
CÚÃùedS‹
)

98 
modbusDeviû
->
	`£tCÚÃùiÚP¬am‘”
(
QModbusDeviû
::
S”ŸlPÜtNameP¬am‘”
, 
PORT
);

99 
modbusDeviû
->
	`£tCÚÃùiÚP¬am‘”
(
QModbusDeviû
::
S”ŸlP¬™yP¬am‘”
, 
PARITY
);

100 
modbusDeviû
->
	`£tCÚÃùiÚP¬am‘”
(
QModbusDeviû
::
S”ŸlBaudR©eP¬am‘”
, 
BAUDS
);

101 
modbusDeviû
->
	`£tCÚÃùiÚP¬am‘”
(
QModbusDeviû
::
S”ŸlD©aB™sP¬am‘”
, 
DATA_BITS
);

102 
modbusDeviû
->
	`£tCÚÃùiÚP¬am‘”
(
QModbusDeviû
::
S”ŸlStİB™sP¬am‘”
, 
STOP_BITS
);

103 
modbusDeviû
->
	`£tTimeout
(
RESPONSE_TIME
);

104 
	`qDebug
()<<
PORT
<<
PARITY
<<
BAUDS
<<
DATA_BITS
<<
STOP_BITS
;

105 
modbusDeviû
->
	`£tNumb”OfR‘r›s
(0);

106 ià(!
modbusDeviû
->
	`cÚÃùDeviû
())

108 
	`qDebug
()<<
modbusDeviû
->
	`”rÜSŒšg
();

113 
modbusDeviû
->
	`discÚÃùDeviû
();

117 
	}
}

119 
	gRS485
::
	$DiscÚÃùPÜt
()

122 
modbusDeviû
->
	`discÚÃùDeviû
();

123 
	}
}

125 
	gRS485
::
	$R—dPÜt
()

127 ià(!
modbusDeviû
)

129 
	`qDebug
()<<"SERVER_ADDRESS"<<
SERVER_ADDRESS
;

130 ià(
QModbusR•ly
 *
Ï¡Reque¡
 = 
modbusDeviû
->
	`£ndR—dReque¡
(
	`»adReque¡
(), 
SERVER_ADDRESS
))

134 ià(!
Ï¡Reque¡
->
	`isFšished
())

136 
	`cÚÃù
(
Ï¡Reque¡
,&
QModbusR•ly
::
fšished
,
this
,&
RS485
::
»adyR—d
);

139 
d–‘e
 
Ï¡Reque¡
;

143 
	`qDebug
()<<"R—dƒ¼Ü: " + 
modbusDeviû
->
	`”rÜSŒšg
();

145 
	}
}

147 
	gRS485
::
	$»adyR—d
()

150 autØ*
Ï¡Reque¡
=
¡©ic_ÿ¡
<
QModbusR•ly
 *>(
	`£nd”
());

151 ià(!
Ï¡Reque¡
)

156 ià(
Ï¡Reque¡
->
	`”rÜ
(è=ğ
QModbusDeviû
::
NoE¼Ü
)

159 cÚ¡ 
QModbusD©aUn™
 
un™
 = 
Ï¡Reque¡
->
	`»suÉ
();

160 
qušt16
 
f1
=0;

162 
ušt32_t
 
x
=0;

163 
z1
=0;

167 
f1
=
¡©ic_ÿ¡
<
qušt16
>(
un™
.
	`v®ue
(0));

174 
x
=(
f1
<<16)|0x0;

175 
z1
=*
»š‹½»t_ÿ¡
<*>(&
x
);

179 
	`qDebug
()<<
un™
.
	`v®ues
();

193 
em™
 
	`sigÇlD©a
(
z1
);

202 
ušt
 
i
 = 0; i < 
un™
.
	`v®ueCouÁ
(); i++)

204 cÚ¡ 
QSŒšg
 
’Œy
 = 
	`Œ
("Add»ss: %1, V®ue: %2").
	`¬g
(
un™
.
	`¡¬tAdd»ss
()+
¡©ic_ÿ¡
<>(
i
))

205 .
	`¬g
(
QSŒšg
::
	`numb”
(
un™
.
	`v®ue
(
¡©ic_ÿ¡
<>(
i
))));

212 ià(
Ï¡Reque¡
->
	`”rÜ
(è=ğ
QModbusDeviû
::
PrÙocŞE¼Ü
)

214 
QSŒšg
 
¡r
="Read„esponseƒrror: %1 (Mobusƒxception: 0x%2)";

215 
QSŒšg
 
¡r2
=
¡r
.
	`¬g
(
Ï¡Reque¡
->
	`”rÜSŒšg
()).¬gÖa¡Reque¡->
	`¿wResuÉ
().
	`exû±iÚCode
());

216 
	`qDebug
()<<
¡r2
<<" Protocolƒrror";

220 
QSŒšg
 
¡r
="Read„esponseƒrror: %1 (code: 0x%2)";

221 
QSŒšg
 
¡r2
=
¡r
.
	`¬g
(
Ï¡Reque¡
->
	`”rÜSŒšg
()).¬gÖa¡Reque¡->
	`¿wResuÉ
().
	`exû±iÚCode
());

222 
	`qDebug
()<<
¡r2
<<" Justƒrror";

223 
	`qDebug
()<<"R—dƒ¼Ü: " + 
modbusDeviû
->
	`”rÜSŒšg
();

224 
	`qDebug
()<<
Ï¡Reque¡
->
	`”rÜ
();

225 
	`qDebug
()<<
¡©ic_ÿ¡
<
qušt16
>(
Ï¡Reque¡
->
	`»suÉ
().
	`v®ue
(0));

226 
	`”rÜ
();

228 
Ï¡Reque¡
->
	`d–‘eL©”
();

229 
	}
}

231 
	gRS485
::
	$Wr™eToRegi¡”
()

234 ià(!
modbusDeviû
)

237 
QModbusD©aUn™
 
wr™eUn™
 = 
	`wr™eReque¡
();

241 ià(
QModbusR•ly
 *
Ï¡Reque¡
 = 
modbusDeviû
->
	`£ndWr™eReque¡
(
wr™eUn™
, 
SERVER_ADDRESS
))

243 ià(!
Ï¡Reque¡
->
	`isFšished
())

245 
	`qDebug
()<<
wr™eUn™
.
	`v®ue
(0);

246 ià(
Ï¡Reque¡
->
	`”rÜ
(è=ğ
QModbusDeviû
::
PrÙocŞE¼Ü
)

248 
QSŒšg
 
¡r
="Write„esponseƒrror: %1 (Mobusƒxception: 0x%2)";

249 
QSŒšg
 
¡r2
=
¡r
.
	`¬g
(
Ï¡Reque¡
->
	`”rÜSŒšg
()).¬gÖa¡Reque¡->
	`¿wResuÉ
().
	`exû±iÚCode
());

250 
	`qDebug
()<<
¡r2
;

252 ià(
Ï¡Reque¡
->
	`”rÜ
(è!ğ
QModbusDeviû
::
NoE¼Ü
)

254 
QSŒšg
 
¡r
="Write„esponseƒrror: %1 (code: 0x%2)";

255 
QSŒšg
 
¡r2
=
¡r
.
	`¬g
(
Ï¡Reque¡
->
	`”rÜSŒšg
()).¬gÖa¡Reque¡->
	`¿wResuÉ
().
	`exû±iÚCode
());

256 
	`qDebug
()<<
¡r2
;

262 
Ï¡Reque¡
->
	`d–‘eL©”
();

268 
	`qDebug
()<<"Wr™”rÜ: " + 
modbusDeviû
->
	`”rÜSŒšg
();

270 
	}
}

272 
	gRS485
::
	$timeOut
()

274 
	`R—dPÜt
();

275 
	}
}

277 
	gRS485
::
	$”rÜ
()

279 
tim”
->
	`¡İ
();

299 
	`qDebug
()<<"ERROR connection";

300 
em™
 
	`”rÜSig
();

301 
	}
}

304 
	gRS485
::
	$ÚS‹Chªged
(
qušt8
 
¡©e
)

306 ià(
¡©e
 =ğ
QModbusDeviû
::
UncÚÃùedS‹
)

307 {
	`qDebug
()<<"disonnected";}

308 ià(
¡©e
 =ğ
QModbusDeviû
::
CÚÃùedS‹
)

309 {
	`qDebug
()<<"Connected";}

310 
	}
}

312 
	gRS485
::
	$doWÜk
()

314 
	`¡¬t
();

315 
	}
}

317 
	gRS485
::
	$’dWÜk
()

319 
	`¡İ
();

320 
	}
}

	@rs485.h

1 #iâdeà
RS485_H


2 
	#RS485_H


	)

5 
	~<QObjeù
>

6 
	~<QtS”ŸlPÜt/QS”ŸlPÜt
>

7 
	~<QTim”
>

8 
	~<QDebug
>

10 
	~<QModbusCl›Á
>

11 
	~<QModbusDeviû
>

12 
	~<QModbusRtuS”ŸlMa¡”
>

13 
	~<QModbusD©aUn™
>

15 
	~<QMes§geBox
>

17 
	~<qæßt16.h
>

20 şas 
	cRS485
:
public
 
QObjeù


22 
Q_OBJECT


23 
public
:

24 
ex¶ic™
 
RS485
(
QObjeù
* 
·»Á
=
nuÎ±r
);

25 ~
RS485
();

29 
boŞ
 
	mBDGÜBDKN
;

31 
¡¬t
();

32 
¡İ
();

34 
QModbusD©aUn™
 
	$»adReque¡
() const;

35 
QModbusD©aUn™
 
	$wr™eReque¡
() const;

37 
sigÇls
:

38 
	`sigÇlD©a
(
couÁR©e
);

40 
	`”rÜSig
();

43 
public
 
¦Ùs
:

44 
	`doWÜk
();

45 
	`’dWÜk
();

47 
´iv©e
 
¦Ùs
:

48 
	`timeOut
();

49 
	`”rÜ
();

50 
	`ÚS‹Chªged
(
qušt8
);

52 
	`»adyR—d
();

54 
´iv©e
:

55 
	`š™
();

57 
	`CÚÃùPÜt
();

58 
	`DiscÚÃùPÜt
();

59 
	`Wr™eToRegi¡”
();

60 
	`R—dPÜt
();

62 
	`ÿÎE¼Ü
();

65 
QModbusCl›Á
 *
modbusDeviû
{
nuÎ±r
};

66 
QTim”
 *
tim”
{
nuÎ±r
};

68 
QMes§geBox
 *
	gmsg
{
	gnuÎ±r
};

71 
qušt8
 
	gSERVER_ADDRESS
=0;

75 
qušt16
 
	gSTART_ADDRESS
 = 0;

76 
qušt8
 
	gAMOUNT
 = 0;

78 cÚ¡ 
	gWRITE_SIZE
 = 1;

80 cÚ¡ 
	gBAUDS
 = 57600;

81 cÚ¡ 
	gSTOP_BITS
 = 1;

82 cÚ¡ 
	gDATA_BITS
 = 8;

83 cÚ¡ 
QSŒšg
 
	gPORT
 = "/dev/ttyUSB0";

84 cÚ¡ 
	gPARITY
 = 
QS”ŸlPÜt
::
NoP¬™y
;

85 cÚ¡ 
	gRESPONSE_TIME
 = 1000;

	@settings.cpp

2 
	~"£‰šgs.h
"

3 
	~"ui_£‰šgs.h
"

5 
	gS‘tšgs
::
	$S‘tšgs
(
QWidg‘
 *
·»Á
) :

6 
	`QDŸlog
(
·»Á
),

7 
	$ui
(
Ãw
 
Ui
::
S‘tšgs
)

9 
ui
->
	`£tupUi
(
this
);

10 
	`š™
();

11 
	}
}

13 
	gS‘tšgs
::~
	$S‘tšgs
()

15 
d–‘e
 
ui
;

16 
	}
}

18 
	gS‘tšgs
::
	$Ú_pushBu‰Ú_5_şicked
()

20 
	`şo£
();

21 
	}
}

23 
	gS‘tšgs
::
	$š™
()

25 
	`£tWšdowT™Ë
("ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ¸Ğ·Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ¸Ñ‚ĞµĞ»Ñ");

26 
	}
}

28 
	gS‘tšgs
::
	$Ú_pushBu‰Ú_4_şicked
()

30 
S‘tšgs_–eùrom‘”
 * 
£tEl
 = 
Ãw
 
	`S‘tšgs_–eùrom‘”
(
this
);

31 
£tEl
->
	`£tMod®
(
Œue
);

32 
£tEl
->
	`show
();

33 
	}
}

35 
	gS‘tšgs
::
	$Ú_pushBu‰Ú_2_şicked
()

37 
S‘tšgs_BDKN
 * 
£tBDKN
=
Ãw
 
	`S‘tšgs_BDKN
(
this
);

38 
£tBDKN
->
	`£tMod®
(
Œue
);

39 
£tBDKN
->
	`show
();

40 
	}
}

42 
	gS‘tšgs
::
	$Ú_pushBu‰Ú_3_şicked
()

44 
S‘tšgs_BDG
 * 
£tBDG
 = 
Ãw
 
	`S‘tšgs_BDG
(
this
);

45 
£tBDG
->
	`£tMod®
(
Œue
);

46 
£tBDG
->
	`show
();

47 
	}
}

49 
	gS‘tšgs
::
	$Ú_pushBu‰Ú_şicked
()

51 
u£r_£‰šgs
* 
u£rS‘
 = 
Ãw
 
	`u£r_£‰šgs
(
this
);

52 
u£rS‘
->
	`£tMod®
(
Œue
);

53 
u£rS‘
->
	`show
();

54 
	}
}

	@settings.h

1 #iâdeà
SETTINGS_H


2 
	#SETTINGS_H


	)

4 
	~"£‰šgs_–eùrom‘”.h
"

5 
	~"£‰šgs_bdkn.h
"

6 
	~"£‰šgs_bdg.h
"

7 
	~"u£r_£‰šgs.h
"

9 
	~<QDŸlog
>

11 
Çme¥aû
 
	gUi
 {

12 
şass
 
	gS‘tšgs
;

15 şas 
	cS‘tšgs
 : 
public
 
QDŸlog


17 
Q_OBJECT


19 
public
:

20 
ex¶ic™
 
S‘tšgs
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
);

21 ~
S‘tšgs
();

23 
´iv©e
 
	m¦Ùs
:

24 
Ú_pushBu‰Ú_5_şicked
();

26 
Ú_pushBu‰Ú_4_şicked
();

28 
Ú_pushBu‰Ú_2_şicked
();

30 
Ú_pushBu‰Ú_3_şicked
();

32 
Ú_pushBu‰Ú_şicked
();

34 
	m´iv©e
:

35 
Ui
::
S‘tšgs
 *
ui
;

36 
š™
();

	@settings_bdg.cpp

1 
	~"£‰šgs_bdg.h
"

2 
	~"ui_£‰šgs_bdg.h
"

4 
	gS‘tšgs_BDG
::
	$S‘tšgs_BDG
(
QWidg‘
 *
·»Á
) :

5 
	`QDŸlog
(
·»Á
),

6 
	$ui
(
Ãw
 
Ui
::
S‘tšgs_BDG
)

8 
ui
->
	`£tupUi
(
this
);

9 
	}
}

11 
	gS‘tšgs_BDG
::~
	$S‘tšgs_BDG
()

13 
d–‘e
 
ui
;

14 
	}
}

16 
	gS‘tšgs_BDG
::
	$Ú_pushBu‰Ú_2_şicked
()

18 
	`şo£
();

19 
	}
}

	@settings_bdg.h

1 #iâdeà
SETTINGS_BDG_H


2 
	#SETTINGS_BDG_H


	)

4 
	~<QDŸlog
>

6 
Çme¥aû
 
	gUi
 {

7 
şass
 
	gS‘tšgs_BDG
;

10 şas 
	cS‘tšgs_BDG
 : 
public
 
QDŸlog


12 
Q_OBJECT


14 
public
:

15 
ex¶ic™
 
S‘tšgs_BDG
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
);

16 ~
S‘tšgs_BDG
();

18 
´iv©e
 
	m¦Ùs
:

19 
Ú_pushBu‰Ú_2_şicked
();

21 
	m´iv©e
:

22 
Ui
::
S‘tšgs_BDG
 *
ui
;

	@settings_bdkn.cpp

1 
	~"£‰šgs_bdkn.h
"

2 
	~"ui_£‰šgs_bdkn.h
"

4 
	gS‘tšgs_BDKN
::
	$S‘tšgs_BDKN
(
QWidg‘
 *
·»Á
) :

5 
	`QDŸlog
(
·»Á
),

6 
	$ui
(
Ãw
 
Ui
::
S‘tšgs_BDKN
)

8 
ui
->
	`£tupUi
(
this
);

9 
	}
}

11 
	gS‘tšgs_BDKN
::~
	$S‘tšgs_BDKN
()

13 
d–‘e
 
ui
;

14 
	}
}

16 
	gS‘tšgs_BDKN
::
	$Ú_pushBu‰Ú_2_şicked
()

18 
	`şo£
();

19 
	}
}

	@settings_bdkn.h

1 #iâdeà
SETTINGS_BDKN_H


2 
	#SETTINGS_BDKN_H


	)

4 
	~<QDŸlog
>

6 
Çme¥aû
 
	gUi
 {

7 
şass
 
	gS‘tšgs_BDKN
;

10 şas 
	cS‘tšgs_BDKN
 : 
public
 
QDŸlog


12 
Q_OBJECT


14 
public
:

15 
ex¶ic™
 
S‘tšgs_BDKN
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
);

16 ~
S‘tšgs_BDKN
();

18 
´iv©e
 
	m¦Ùs
:

19 
Ú_pushBu‰Ú_2_şicked
();

21 
	m´iv©e
:

22 
Ui
::
S‘tšgs_BDKN
 *
ui
;

	@settings_electrometer.cpp

3 
	~"£‰šgs_–eùrom‘”.h
"

4 
	~"ui_£‰šgs_–eùrom‘”.h
"

6 
	gS‘tšgs_–eùrom‘”
::
	$S‘tšgs_–eùrom‘”
(
QWidg‘
 *
·»Á
) :

7 
	`QDŸlog
(
·»Á
),

8 
	$ui
(
Ãw
 
Ui
::
S‘tšgs_–eùrom‘”
)

10 
ui
->
	`£tupUi
(
this
);

11 
	`š™
();

12 
	}
}

14 
	gS‘tšgs_–eùrom‘”
::~
	$S‘tšgs_–eùrom‘”
()

16 
d–‘e
 
ui
;

17 
	}
}

19 
	gS‘tšgs_–eùrom‘”
::
	$š™
()

21 
	`£tWšdowT™Ë
("ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ ÑĞ»ĞµĞºÑ‚Ñ€Ğ¾Ğ¼ĞµÑ‚Ñ€Ğ°");

22 
ui
->
pushBu‰Ú_3
->
	`£tEÇbËd
(
çl£
);

23 
ui
->
pushBu‰Ú_3
->
	`£tVisibË
(
çl£
);

24 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

26 
QSqlD©aba£
 
db
=QSqlD©aba£::
	`d©aba£
("myDB");

27 
db
.
	`£tD©aba£Name
("config.db");

28 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

29 
QSqlQu”y
 
	`qu”y
(
db
);

30 
QSŒšg
 
qSŒ
="CREATE TABLE IF NOT EXISTSƒlectrometer( id INTEGER PRIMARY KEY CHECK (id=0),"

48 if(!
qu”y
.
	`exec
(
qSŒ
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y CREATEabËƒËùrom‘”"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

50 
qSŒ
 = "SELECT *FROMƒlectrometer";

51 if(!
qu”y
.
	`exec
(
qSŒ
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y SELECTabËƒËùrom‘”"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

52 if(
qu”y
.
	`fœ¡
())

54 
ui
->
lšeEd™
->
	`£tText
(
qu”y
.
	`v®ue
("³riodRS232").
	`toSŒšg
());

55 
ui
->
lšeEd™_2
->
	`£tText
(
qu”y
.
	`v®ue
("R1").
	`toSŒšg
());

56 
ui
->
lšeEd™_3
->
	`£tText
(
qu”y
.
	`v®ue
("»ã»nûVŞge").
	`toSŒšg
());

57 
ui
->
lšeEd™_4
->
	`£tText
(
qu”y
.
	`v®ue
("h—tšgTime").
	`toSŒšg
());

58 
ui
->
lšeEd™_5
->
	`£tText
(
qu”y
.
	`v®ue
("chªgeTimeout").
	`toSŒšg
());

59 
ui
->
lšeEd™_6
->
	`£tText
(
qu”y
.
	`v®ue
("‹¡Timeout").
	`toSŒšg
());

60 
ui
->
lšeEd™_7
->
	`£tText
(
qu”y
.
	`v®ue
("couÁsAv”").
	`toSŒšg
());

61 
ui
->
lšeEd™_8
->
	`£tText
(
qu”y
.
	`v®ue
("mšDAC").
	`toSŒšg
());

62 
ui
->
lšeEd™_9
->
	`£tText
(
qu”y
.
	`v®ue
("maxDAC").
	`toSŒšg
());

63 
ui
->
lšeEd™_10
->
	`£tText
(
qu”y
.
	`v®ue
("mšRefVŞt").
	`toSŒšg
());

64 
ui
->
lšeEd™_11
->
	`£tText
(
qu”y
.
	`v®ue
("maxRefVŞt").
	`toSŒšg
());

65 
ui
->
lšeEd™_12
->
	`£tText
(
qu”y
.
	`v®ue
("mšR2").
	`toSŒšg
());

66 
ui
->
lšeEd™_13
->
	`£tText
(
qu”y
.
	`v®ue
("maxR2").
	`toSŒšg
());

67 
ui
->
lšeEd™_14
->
	`£tText
(
qu”y
.
	`v®ue
("mšR3").
	`toSŒšg
());

68 
ui
->
lšeEd™_15
->
	`£tText
(
qu”y
.
	`v®ue
("maxR3").
	`toSŒšg
());

69 
ui
->
lšeEd™_17
->
	`£tText
(
qu”y
.
	`v®ue
("mšI").
	`toSŒšg
());

70 
ui
->
lšeEd™_16
->
	`£tText
(
qu”y
.
	`v®ue
("maxI").
	`toSŒšg
());

73 
	}
}

75 
	gS‘tšgs_–eùrom‘”
::
	$Ú_pushBu‰Ú_2_şicked
()

77 
	`şo£
();

78 
	}
}

80 
	gS‘tšgs_–eùrom‘”
::
	$Ú_pushBu‰Ú_şicked
()

82 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

84 
QSqlD©aba£
 
db
=QSqlD©aba£::
	`d©aba£
("myDB");

85 
db
.
	`£tD©aba£Name
("config.db");

86 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

87 
QSqlQu”y
 
	`qu”y
(
db
);

88 
QSŒšg
 
qSŒ
="UPDATEƒlectrometer SET "

106 
QSŒšg
 
qSŒ1
=
qSŒ
.
	`¬g
(
ui
->
lšeEd™
->
	`‹xt
())

107 .
	`¬g
(
ui
->
lšeEd™_2
->
	`‹xt
())

108 .
	`¬g
(
ui
->
lšeEd™_3
->
	`‹xt
())

109 .
	`¬g
(
ui
->
lšeEd™_4
->
	`‹xt
())

110 .
	`¬g
(
ui
->
lšeEd™_5
->
	`‹xt
())

111 .
	`¬g
(
ui
->
lšeEd™_6
->
	`‹xt
())

112 .
	`¬g
(
ui
->
lšeEd™_7
->
	`‹xt
())

113 .
	`¬g
(
ui
->
lšeEd™_8
->
	`‹xt
())

114 .
	`¬g
(
ui
->
lšeEd™_9
->
	`‹xt
())

115 .
	`¬g
(
ui
->
lšeEd™_10
->
	`‹xt
())

116 .
	`¬g
(
ui
->
lšeEd™_11
->
	`‹xt
())

117 .
	`¬g
(
ui
->
lšeEd™_12
->
	`‹xt
())

118 .
	`¬g
(
ui
->
lšeEd™_13
->
	`‹xt
())

119 .
	`¬g
(
ui
->
lšeEd™_14
->
	`‹xt
())

120 .
	`¬g
(
ui
->
lšeEd™_15
->
	`‹xt
())

121 .
	`¬g
(
ui
->
lšeEd™_17
->
	`‹xt
())

122 .
	`¬g
(
ui
->
lšeEd™_16
->
	`‹xt
());

123 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y upd©e"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

125 
	`şo£
();

126 
	}
}

128 
	gS‘tšgs_–eùrom‘”
::
	$Ú_pushBu‰Ú_3_şicked
()

130 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

132 
QSqlD©aba£
 
db
=QSqlD©aba£::
	`d©aba£
("myDB");

133 
db
.
	`£tD©aba£Name
("config.db");

134 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

135 
QSqlQu”y
 
	`qu”y
(
db
);

136 
QSŒšg
 
qSŒ
="INSERT INTOƒlectrometer (id,"

155 
QSŒšg
 
qSŒ1
=
qSŒ
.
	`¬g
(
ui
->
lšeEd™
->
	`‹xt
())

156 .
	`¬g
(
ui
->
lšeEd™_2
->
	`‹xt
())

157 .
	`¬g
(
ui
->
lšeEd™_3
->
	`‹xt
())

158 .
	`¬g
(
ui
->
lšeEd™_4
->
	`‹xt
())

159 .
	`¬g
(
ui
->
lšeEd™_5
->
	`‹xt
())

160 .
	`¬g
(
ui
->
lšeEd™_6
->
	`‹xt
())

161 .
	`¬g
(
ui
->
lšeEd™_7
->
	`‹xt
())

162 .
	`¬g
(
ui
->
lšeEd™_8
->
	`‹xt
())

163 .
	`¬g
(
ui
->
lšeEd™_9
->
	`‹xt
())

164 .
	`¬g
(
ui
->
lšeEd™_10
->
	`‹xt
())

165 .
	`¬g
(
ui
->
lšeEd™_11
->
	`‹xt
())

166 .
	`¬g
(
ui
->
lšeEd™_12
->
	`‹xt
())

167 .
	`¬g
(
ui
->
lšeEd™_13
->
	`‹xt
())

168 .
	`¬g
(
ui
->
lšeEd™_14
->
	`‹xt
())

169 .
	`¬g
(
ui
->
lšeEd™_15
->
	`‹xt
())

170 .
	`¬g
(
ui
->
lšeEd™_17
->
	`‹xt
())

171 .
	`¬g
(
ui
->
lšeEd™_16
->
	`‹xt
());

172 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y INSERT"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

174 
	}
}

	@settings_electrometer.h

1 #iâdeà
SETTINGS_ELECTROMETER_H


2 
	#SETTINGS_ELECTROMETER_H


	)

4 
	~"·sswÜd.h
"

6 
	~<QDŸlog
>

9 
Çme¥aû
 
	gUi
 {

10 
şass
 
	gS‘tšgs_–eùrom‘”
;

13 şas 
	cS‘tšgs_–eùrom‘”
 : 
public
 
QDŸlog


15 
Q_OBJECT


17 
public
:

18 
ex¶ic™
 
S‘tšgs_–eùrom‘”
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
);

19 ~
S‘tšgs_–eùrom‘”
();

21 
´iv©e
 
	m¦Ùs
:

22 
Ú_pushBu‰Ú_2_şicked
();

24 
Ú_pushBu‰Ú_şicked
();

26 
Ú_pushBu‰Ú_3_şicked
();

28 
	m´iv©e
:

29 
Ui
::
S‘tšgs_–eùrom‘”
 *
ui
;

30 
š™
();

	@settings_verifier.cpp

2 
	~"£‰šgs_v”if›r.h
"

3 
	~"ui_£‰šgs_v”if›r.h
"

5 
	gS‘tšgs_v”if›r
::
	$S‘tšgs_v”if›r
(
QWidg‘
 *
·»Á
) :

6 
	`QDŸlog
(
·»Á
),

7 
	$ui
(
Ãw
 
Ui
::
S‘tšgs_v”if›r
)

9 
ui
->
	`£tupUi
(
this
);

10 
	`£tWšdowT™Ë
("ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ¿Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ĞµĞ»Ñ");

11 
	`š™
();

12 
	}
}

14 
	gS‘tšgs_v”if›r
::~
	$S‘tšgs_v”if›r
()

16 
d–‘e
 
ui
;

17 
	}
}

18 
	gS‘tšgs_v”if›r
::
	$š™
()

20 
QFe
 
	`fe
("BGN");

21 if(
fe
.
	`İ’
(
QIODeviû
::
R—dOÆy
)) {

22 
QCry±og¿phicHash
 
	`hash
(QCry±og¿phicHash::
Md5
);

23 if(
hash
.
	`addD©a
(&
fe
)) {

24 
fe
.
	`şo£
();

25 
ui
->
Ïb–
->
	`£tText
("ĞšĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»ÑŒĞ½Ğ°Ñ ÑÑƒĞ¼Ğ¼Ğ° = " + (
hash
.
	`»suÉ
()).
	`toHex
());

26 }
fe
.
	`şo£
();

28 
	}
}

31 
	gS‘tšgs_v”if›r
::
	$Ú_pushBu‰Ú_5_şicked
()

33 
	`şo£
();

34 
	}
}

36 
	gS‘tšgs_v”if›r
::
	$Ú_pushBu‰Ú_şicked
()

38 
S‘tšgs_v”if›r_b‘a
* 
£tV”B‘a
 = 
Ãw
 
	`S‘tšgs_v”if›r_b‘a
(
this
);

39 
£tV”B‘a
->
	`£tMod®
(
Œue
);

40 
£tV”B‘a
->
	`show
();

42 
	}
}

44 
	gS‘tšgs_v”if›r
::
	$Ú_pushBu‰Ú_2_şicked
()

46 
S‘tšgs_v”if›r_gamma_ik
 *
£tV”GammaIK
 = 
Ãw
 
	`S‘tšgs_v”if›r_gamma_ik
(
this
);

47 
£tV”GammaIK
->
	`£tMod®
(
Œue
);

48 
£tV”GammaIK
->
	`show
();

49 
	}
}

51 
	gS‘tšgs_v”if›r
::
	$Ú_pushBu‰Ú_3_şicked
()

53 
S‘tšgs_v”if›r_gamma_nuşides
 * 
£tV”GammaNuş
 = 
Ãw
 
	`S‘tšgs_v”if›r_gamma_nuşides
(
this
);

54 
£tV”GammaNuş
->
	`£tMod®
(
Œue
);

55 
£tV”GammaNuş
->
	`show
();

56 
	}
}

58 
	gS‘tšgs_v”if›r
::
	$Ú_pushBu‰Ú_4_şicked
()

60 
S‘tšgs_v”if›r_ÃuŒÚ
 *
£tV”NeuŒÚ
 = 
Ãw
 
	`S‘tšgs_v”if›r_ÃuŒÚ
(
this
);

61 
£tV”NeuŒÚ
->
	`£tMod®
(
Œue
);

62 
£tV”NeuŒÚ
->
	`show
();

63 
	}
}

	@settings_verifier.h

1 #iâdeà
SETTINGS_VERIFIER_H


2 
	#SETTINGS_VERIFIER_H


	)

4 
	~"£‰šgs_v”if›r_b‘a.h
"

5 
	~"£‰šgs_v”if›r_gamma_ik.h
"

7 
	~"£‰šgs_v”if›r_gamma_nuşides.h
"

8 
	~"£‰šgs_v”if›r_ÃuŒÚ.h
"

10 
	~<QFe
>

11 
	~<QCry±og¿phicHash
>

12 
	~<QDŸlog
>

16 
Çme¥aû
 
	gUi
 {

17 
şass
 
	gS‘tšgs_v”if›r
;

20 şas 
	cS‘tšgs_v”if›r
 : 
public
 
QDŸlog


22 
Q_OBJECT


24 
public
:

25 
ex¶ic™
 
S‘tšgs_v”if›r
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
);

26 ~
S‘tšgs_v”if›r
();

28 
´iv©e
 
	m¦Ùs
:

29 
Ú_pushBu‰Ú_5_şicked
();

31 
Ú_pushBu‰Ú_şicked
();

33 
Ú_pushBu‰Ú_2_şicked
();

35 
Ú_pushBu‰Ú_3_şicked
();

37 
Ú_pushBu‰Ú_4_şicked
();

39 
	m´iv©e
:

40 
Ui
::
S‘tšgs_v”if›r
 *
ui
;

41 
š™
();

	@settings_verifier_beta.cpp

2 
	~"£‰šgs_v”if›r_b‘a.h
"

3 
	~"ui_£‰šgs_v”if›r_b‘a.h
"

5 
	gS‘tšgs_v”if›r_b‘a
::
	$S‘tšgs_v”if›r_b‘a
(
QWidg‘
 *
·»Á
) :

6 
	`QDŸlog
(
·»Á
),

7 
	$ui
(
Ãw
 
Ui
::
S‘tšgs_v”if›r_b‘a
)

9 
ui
->
	`£tupUi
(
this
);

10 
	`š™
();

11 
	}
}

13 
	gS‘tšgs_v”if›r_b‘a
::~
	$S‘tšgs_v”if›r_b‘a
()

15 
d–‘e
 
ui
;

16 
	}
}

18 
	gS‘tšgs_v”if›r_b‘a
::
	$š™
()

20 
	`£tWšdowT™Ë
("Ğ‘ĞµÑ‚Ğ° Ğ¸Ğ·Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ (Ğ˜Ğš)");

21 
·ss
=
PasswÜd
::
	`check
();

22 
·ss
)

24 2: 
ui
->
pushBu‰Ú
->
	`£tVisibË
(
Œue
);ui->pushBu‰Ú->
	`£tEÇbËd
(true);

25 
ui
->
pushBu‰Ú_3
->
	`£tVisibË
(
Œue
);ui->pushBu‰Ú_3->
	`£tEÇbËd
(true);

27 1: 
ui
->
pushBu‰Ú
->
	`£tVisibË
(
çl£
);ui->pushBu‰Ú->
	`£tEÇbËd
(false);

28 
ui
->
pushBu‰Ú_3
->
	`£tVisibË
(
çl£
);ui->pushBu‰Ú_3->
	`£tEÇbËd
(false);

32 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

34 
QSqlD©aba£
 
db
=QSqlD©aba£::
	`d©aba£
("myDB");

35 
db
.
	`£tD©aba£Name
("config.db");

36 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

37 
QSqlQu”y
 
	`qu”y
(
db
);

38 
QSŒšg
 
qSŒ
="CREATE TABLE IF NOT EXISTS betaChambers("

49 if(!
qu”y
.
	`exec
(
qSŒ
)){
	`qDebug
()<<"unableƒxecute query CREATEable betaChambers";}

50 
QSŒšg
 
qSŒ1
="SELECT * FROM betaChambers";

51 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"unableƒxecute query SELECT *FROMable betaChambers";}

52 
QSŒšgLi¡
 
¡rLi¡
;

53 
qu”y
.
	`Ãxt
())

55 
¡rLi¡
.
	`­³nd
(
qu”y
.
	`v®ue
("Çme").
	`toSŒšg
()+" Ğ´Ğ°Ñ‚Ğ° Ğ¿Ğ¾Ğ²ĞµÑ€ĞºĞ¸: "+query.value("VerificationDate").toString());

58 
ui
->
li¡Widg‘
->
	`addI‹ms
(
¡rLi¡
);

61 
	}
}

62 
	gS‘tšgs_v”if›r_b‘a
::
	$Ú_pushBu‰Ú_4_şicked
()

64 
	`şo£
();

65 
	}
}

67 
	gS‘tšgs_v”if›r_b‘a
::
	$Ú_pushBu‰Ú_şicked
()

69 
V”ifyB‘aChamb”s
 *
v”B‘aCham
 = 
Ãw
 
	`V”ifyB‘aChamb”s
(
this
);

70 
v”B‘aCham
->
	`£tMod®
(
Œue
);

71 
v”B‘aCham
->
	`£tBut
(0);

72 
v”B‘aCham
->
	`show
();

73 
	`cÚÃù
(
v”B‘aCham
,&
V”ifyB‘aChamb”s
::
addReäeshSigÇl
,
this
,&
S‘tšgs_v”if›r_b‘a
::
addReäeshSlÙ
);

74 
	}
}

76 
	gS‘tšgs_v”if›r_b‘a
::
	$addReäeshSlÙ
()

78 
ui
->
li¡Widg‘
->
	`ş—r
();

79 
	`š™
();

80 
	}
}

82 
	gS‘tšgs_v”if›r_b‘a
::
	$Ú_pushBu‰Ú_2_şicked
()

84 
QSŒšg
 
¡r
{""};

85 ià(
ui
->
li¡Widg‘
->
	`cu¼’tI‹m
()==
nuÎ±r
) {;}

87 
¡r
=
ui
->
li¡Widg‘
->
	`cu¼’tI‹m
()->
	`‹xt
();

88 
x
=
¡r
.
	`šdexOf
(" ");

91 
V”ifyB‘aChamb”s
 *
v”B‘aCham1
 = 
Ãw
 VerifyBetaChambers;

92 
v”B‘aCham1
->
	`£tMod®
(
Œue
);

93 
v”B‘aCham1
->
	`£tNameCh
(
¡r
.
	`Ëá
(
x
));

94 
v”B‘aCham1
->
	`£tBut
(1);

95 
v”B‘aCham1
->
	`show
();

96 
	`cÚÃù
(
v”B‘aCham1
,&
V”ifyB‘aChamb”s
::
addReäeshSigÇl
,
this
,&
S‘tšgs_v”if›r_b‘a
::
addReäeshSlÙ
);

97 
	}
}

99 
	gS‘tšgs_v”if›r_b‘a
::
	$Ú_pushBu‰Ú_3_şicked
()

101 
QSŒšg
 
cu¼’tName
="";

102 
QSŒšg
 
chamb”Name
="";

103 if(
ui
->
li¡Widg‘
->
	`cu¼’tI‹m
()==
nuÎ±r
){;}

104 
cu¼’tName
 = 
ui
->
li¡Widg‘
->
	`cu¼’tI‹m
()->
	`‹xt
();

105 
x
=
cu¼’tName
.
	`šdexOf
(" ");

106 
chamb”Name
 = 
cu¼’tName
.
	`Ëá
(
x
);

111 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

113 
QSqlD©aba£
 
db
 = QSqlD©aba£::
	`d©aba£
("myDB");

114 
db
.
	`£tD©aba£Name
("config.db");

115 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

116 
QSqlQu”y
 
	`qu”y
(
db
);

117 
QSŒšg
 
qSŒ
="DELETE FROM betaChambers WHERE‚ame='%1'";

118 
QSŒšg
 
qSŒ1
=
qSŒ
.
	`¬g
(
chamb”Name
);

119 if(!
qu”y
.
	`exec
(
qSŒ1
)è{
	`qDebug
()<<"uÇbËƒxecu‹ qu”y DELETE"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

120 
ui
->
li¡Widg‘
->
	`ş—r
();

121 
	`š™
();

123 
	}
}

	@settings_verifier_beta.h

1 #iâdeà
SETTINGS_VERIFIER_BETA_H


2 
	#SETTINGS_VERIFIER_BETA_H


	)

4 
	~<QDŸlog
>

5 
	~<QSql
>

6 
	~<QSqlQu”y
>

7 
	~<QDebug
>

8 
	~<QSqlE¼Ü
>

10 
	~"v”ifyb‘achamb”s.h
"

11 
	~"·sswÜd.h
"

13 
Çme¥aû
 
	gUi
 {

14 
şass
 
	gS‘tšgs_v”if›r_b‘a
;

17 şas 
	cS‘tšgs_v”if›r_b‘a
 : 
public
 
QDŸlog


19 
Q_OBJECT


21 
public
:

22 
ex¶ic™
 
S‘tšgs_v”if›r_b‘a
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
);

23 ~
S‘tšgs_v”if›r_b‘a
();

25 
´iv©e
 
	m¦Ùs
:

26 
Ú_pushBu‰Ú_4_şicked
();

28 
Ú_pushBu‰Ú_şicked
();

30 
Ú_pushBu‰Ú_2_şicked
();

32 
addReäeshSlÙ
();

34 
Ú_pushBu‰Ú_3_şicked
();

36 
	m´iv©e
:

37 
Ui
::
S‘tšgs_v”if›r_b‘a
 *
ui
;

38 
š™
();

	@settings_verifier_change_password.cpp

3 
	~"£‰šgs_v”if›r_chªge_·sswÜd.h
"

4 
	~"ui_£‰šgs_v”if›r_chªge_·sswÜd.h
"

10 
	g£‰šgs_v”if›r_chªge_·sswÜd
::
	$£‰šgs_v”if›r_chªge_·sswÜd
(
QWidg‘
 *
·»Á
) :

11 
	`QDŸlog
(
·»Á
),

12 
	$ui
(
Ãw
 
Ui
::
£‰šgs_v”if›r_chªge_·sswÜd
)

14 
ui
->
	`£tupUi
(
this
);

15 
	`š™
();

16 
	}
}

18 
	g£‰šgs_v”if›r_chªge_·sswÜd
::~
	$£‰šgs_v”if›r_chªge_·sswÜd
()

20 
d–‘e
 
ui
;

21 
	}
}

24 
	g£‰šgs_v”if›r_chªge_·sswÜd
::
	$Ú_pushBu‰Ú_2_şicked
()

26 
	`şo£
();

27 
	}
}

29 
	g£‰šgs_v”if›r_chªge_·sswÜd
::
	$š™
()

31 
ui
->
pushBu‰Ú
->
	`£tEÇbËd
(
Œue
);

32 
	`£tWšdowT™Ë
("Ğ˜Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ Ğ¿Ğ°Ñ€Ğ¾Ğ»Ñ Ğ¿Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ĞµĞ»Ñ");

33 
	}
}

35 
	g£‰šgs_v”if›r_chªge_·sswÜd
::
	$Ú_lšeEd™_2_ed™šgFšished
()

37 
QSŒšg
 
ÃwPass1
 = 
ui
->
lšeEd™_2
->
	`‹xt
();

38 
ÃwPasswÜd
 = 
ÃwPass1
;

39 
	}
}

41 
	g£‰šgs_v”if›r_chªge_·sswÜd
::
	$Ú_pushBu‰Ú_şicked
()

43 
QSŒšg
 
ÃwPass2
 = 
ui
->
lšeEd™_3
->
	`‹xt
();

44 if((
ÃwPasswÜd
==
ÃwPass2
)&&(newPass2!=""))

46 
QSqlD©aba£
 
db
=QSqlD©aba£::
	`d©aba£
("myDB");

47 
db
.
	`£tD©aba£Name
("config.db");

48 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

49 
QSqlQu”y
 
	`qu”y
(
db
);

51 
QSŒšg
 
qu”ySŒ
 = "UPDATE…assword SET…assVerifier='%1'";

52 
QSŒšg
 
qu”ySŒ1
 = 
qu”ySŒ
.
	`¬g
(
ui
->
lšeEd™_3
->
	`‹xt
());

53 if(!
qu”y
.
	`exec
(
qu”ySŒ1
))

54 {
	`qDebug
()<<"uÇbËƒxecu‹ qu”y UPDATE"<<
qu”y
.
	`Ï¡E¼Ü
().
	`‹xt
();}

55 
db
.
	`şo£
();

56 
QMes§geBox
::
	`šfÜm©iÚ
(
this
, "Ğ’Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ","ĞŸĞ°Ñ€Ğ¾Ğ»ÑŒ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½");

57 
	`şo£
();

61 
QMes§geBox
::
	`w¬nšg
(
this
, "ĞÑˆĞ¸Ğ±ĞºĞ°","ĞĞµĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ñ‹Ğ¹ Ğ²Ğ²Ğ¾Ğ´");

63 
	}
}

	@settings_verifier_change_password.h

1 #iâdeà
SETTINGS_VERIFIER_CHANGE_PASSWORD_H


2 
	#SETTINGS_VERIFIER_CHANGE_PASSWORD_H


	)

4 
	~"·sswÜd.h
"

6 
	~<QDŸlog
>

7 
	~<QSqlD©aba£
>

8 
	~<QSqlQu”y
>

9 
	~<QSqlE¼Ü
>

10 
	~<QDebug
>

11 
	~<QMes§geBox
>

15 
Çme¥aû
 
	gUi
 {

16 
şass
 
	g£‰šgs_v”if›r_chªge_·sswÜd
;

19 şas 
	c£‰šgs_v”if›r_chªge_·sswÜd
 : 
public
 
QDŸlog


21 
Q_OBJECT


23 
public
:

24 
ex¶ic™
 
£‰šgs_v”if›r_chªge_·sswÜd
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
);

25 ~
£‰šgs_v”if›r_chªge_·sswÜd
();

27 
´iv©e
 
	m¦Ùs
:

28 
Ú_pushBu‰Ú_2_şicked
();

29 
Ú_pushBu‰Ú_şicked
();

30 
Ú_lšeEd™_2_ed™šgFšished
();

33 
	m´iv©e
:

34 
Ui
::
£‰šgs_v”if›r_chªge_·sswÜd
 *
ui
;

36 
š™
();

38 
QSŒšg
 
	mÃwPasswÜd
{""};

	@settings_verifier_gamma_bdg.cpp

3 
	~"£‰šgs_v”if›r_gamma_bdg.h
"

4 
	~"ui_£‰šgs_v”if›r_gamma_bdg.h
"

6 
	gS‘tšgs_v”if›r_gamma_bdg
::
	$S‘tšgs_v”if›r_gamma_bdg
(
QWidg‘
 *
·»Á
) :

7 
	`QDŸlog
(
·»Á
),

8 
	$ui
(
Ãw
 
Ui
::
S‘tšgs_v”if›r_gamma_bdg
)

10 
ui
->
	`£tupUi
(
this
);

11 
	`š™
();

12 
	}
}

14 
	gS‘tšgs_v”if›r_gamma_bdg
::
	$š™
()

16 
·ss
=
PasswÜd
::
	`check
();

17 
·ss
)

37 
	`£tWšdowT™Ë
("Ğ‘Ğ»Ğ¾Ğº Ğ´ĞµÑ‚ĞµĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ³Ğ°Ğ¼Ğ¼Ğ° Ğ¸Ğ·Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ (Ğ‘Ğ”Ğ“)");

48 
QLi¡
<
QComboBox
*> 
comboLi¡
 = 
this
->
fšdChd»n
<QComboBox*>();

49 
QComboBox
* 
i
:
comboLi¡
)

51 
i
->
	`£tFixedHeight
(30);

52 
i
->
	`£tStyËSh“t
("QComboBox{font-size:10px;}");

54 
ui
->
lšeEd™_16
->
	`£tV®id©Ü
(
Ãw
 
	`QIÁV®id©Ü
(0,100,ui->lineEdit_16));

55 
ui
->
lšeEd™_17
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->lineEdit_17));

56 
ui
->
lšeEd™_18
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->lineEdit_18));

57 
ui
->
lšeEd™_19
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->lineEdit_19));

58 
ui
->
lšeEd™_20
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->lineEdit_20));

59 
ui
->
lšeEd™_21
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->lineEdit_21));

60 
ui
->
lšeEd™_22
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->lineEdit_22));

61 
ui
->
lšeEd™_25
->
	`£tIÅutMask
("00.00.0000");

62 
ui
->
lšeEd™_26
->
	`£tIÅutMask
("00.00.0000");

65 
	}
}

67 
	gS‘tšgs_v”if›r_gamma_bdg
::~
	$S‘tšgs_v”if›r_gamma_bdg
()

69 
d–‘e
 
ui
;

70 
	}
}

72 
	gS‘tšgs_v”if›r_gamma_bdg
::
	$£tBut
(
boŞ
 
x
)

74 
ButStus
=
x
;

75 if(
ButStus
==1)

77 
ui
->
lšeEd™
->
	`£tEÇbËd
(
çl£
);ui->
lšeEd™_16
->£tEÇbËd(çl£);ui->
lšeEd™_24
->setEnabled(false);

78 
ui
->
lšeEd™_25
->
	`£tEÇbËd
(
çl£
);

80 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

82 
QSqlD©aba£
 
db
=QSqlD©aba£::
	`d©aba£
("myDB");

83 
db
.
	`£tD©aba£Name
("config.db");

84 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

85 
QSqlQu”y
 
	`qu”y
(
db
);

86 
QSŒšg
 
qSŒ
= "SELECT * FROM gammaBlock WHERE‚uclide='%1'";

87 
QSŒšg
 
qSŒ1
 = 
qSŒ
.
	`¬g
(
ÇmeCh
);

88 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y SELECT FROMabË gammaBlock"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

89 if(
qu”y
.
	`fœ¡
())

91 
ui
->
lšeEd™
->
	`£tText
(
qu”y
.
	`v®ue
("nuşide").
	`toSŒšg
());

92 
ui
->
lšeEd™_16
->
	`£tText
(
qu”y
.
	`v®ue
("vŞume").
	`toSŒšg
());

93 
ui
->
comboBox_7
->
	`addI‹m
(
qu”y
.
	`v®ue
("£nsib™yDim’siÚMAED").
	`toSŒšg
());

94 
ui
->
comboBox_8
->
	`addI‹m
(
qu”y
.
	`v®ue
("£nsib™yDim’siÚMNED").
	`toSŒšg
());

95 
ui
->
comboBox_9
->
	`addI‹m
(
qu”y
.
	`v®ue
("£nsib™yDim’siÚMIED").
	`toSŒšg
());

96 
ui
->
comboBox_10
->
	`addI‹m
(
qu”y
.
	`v®ue
("£nsib™yDim’siÚKERMA").
	`toSŒšg
());

97 
ui
->
comboBox_11
->
	`addI‹m
(
qu”y
.
	`v®ue
("£nsib™yDim’siÚMPD").
	`toSŒšg
());

98 
ui
->
comboBox_12
->
	`addI‹m
(
qu”y
.
	`v®ue
("£nsib™yDim’siÚMED").
	`toSŒšg
());

99 
ui
->
Ïb–_36
->
	`£tText
(
qu”y
.
	`v®ue
("£nsib™yMAED").
	`toSŒšg
());

100 
ui
->
Ïb–_38
->
	`£tText
(
qu”y
.
	`v®ue
("£nsib™yMNED").
	`toSŒšg
());

101 
ui
->
Ïb–_40
->
	`£tText
(
qu”y
.
	`v®ue
("£nsib™yMIED").
	`toSŒšg
());

102 
ui
->
Ïb–_42
->
	`£tText
(
qu”y
.
	`v®ue
("£nsib™yKERMA").
	`toSŒšg
());

103 
ui
->
Ïb–_44
->
	`£tText
(
qu”y
.
	`v®ue
("£nsib™yMPD").
	`toSŒšg
());

104 
ui
->
Ïb–_46
->
	`£tText
(
qu”y
.
	`v®ue
("£nsib™yMED").
	`toSŒšg
());

105 
ui
->
lšeEd™_24
->
	`£tText
(
qu”y
.
	`v®ue
("çùÜyNumb”").
	`toSŒšg
());

106 
ui
->
lšeEd™_25
->
	`£tText
(
qu”y
.
	`v®ue
("çùÜyD©e").
	`toSŒšg
());

107 
ui
->
lšeEd™_26
->
	`£tText
(
qu”y
.
	`v®ue
("v”ifiÿtiÚD©e").
	`toSŒšg
());

109 
ui
->
lšeEd™_17
->
	`£tText
(
QSŒšg
::
	`numb”
(ui->
Ïb–_36
->
	`‹xt
().
	`toDoubË
()/3.6e9,'f',3));

110 
ui
->
lšeEd™_18
->
	`£tText
(
QSŒšg
::
	`numb”
(ui->
Ïb–_38
->
	`‹xt
().
	`toDoubË
()/3.6e9,'f',3));

111 
ui
->
lšeEd™_19
->
	`£tText
(
QSŒšg
::
	`numb”
(ui->
Ïb–_40
->
	`‹xt
().
	`toDoubË
()/3.6e9,'f',3));

112 
ui
->
lšeEd™_20
->
	`£tText
(
QSŒšg
::
	`numb”
(ui->
Ïb–_42
->
	`‹xt
().
	`toDoubË
()/3.6e9,'f',3));

113 
ui
->
lšeEd™_21
->
	`£tText
(
QSŒšg
::
	`numb”
(ui->
Ïb–_44
->
	`‹xt
().
	`toDoubË
()/3.6e9,'f',3));

114 
ui
->
lšeEd™_22
->
	`£tText
(
QSŒšg
::
	`numb”
(ui->
Ïb–_46
->
	`‹xt
().
	`toDoubË
()/3.6e9,'f',3));

116 
qSŒ
= "SELECT * FROM backgroundgamma";

117 if(!
qu”y
.
	`exec
(
qSŒ
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y SELECT FROMabË backgroundgamma"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

118 if(
qu”y
.
	`fœ¡
()) {

119 
ui
->
Ïb–_53
->
	`£tText
(
qu”y
.
	`v®ue
("backgroundGamma").
	`toSŒšg
());

123 if(
ButStus
==0)

125 
ui
->
lšeEd™
->
	`£tEÇbËd
(
Œue
);

126 
ui
->
lšeEd™_16
->
	`£tEÇbËd
(
Œue
);

127 
ui
->
lšeEd™_24
->
	`£tEÇbËd
(
Œue
);

128 
ui
->
lšeEd™_25
->
	`£tEÇbËd
(
Œue
);

130 
ui
->
comboBox_7
->
	`addI‹m
("(Ğ¸Ğ¼Ğ¿/Ñ)/(Ğ¼ĞºĞ—Ğ²/Ñ‡)");

131 
ui
->
comboBox_8
->
	`addI‹m
("(Ğ¸Ğ¼Ğ¿/Ñ)/(Ğ¼ĞºĞ—Ğ²/Ñ‡)");

132 
ui
->
comboBox_9
->
	`addI‹m
("(Ğ¸Ğ¼Ğ¿/Ñ)/(Ğ¼ĞºĞ—Ğ²/Ñ‡)");

133 
ui
->
comboBox_10
->
	`addI‹m
("(Ğ¸Ğ¼Ğ¿/Ñ)/(Ğ¼ĞºĞ“Ñ€/Ñ‡)");

134 
ui
->
comboBox_11
->
	`addI‹m
("(Ğ¸Ğ¼Ğ¿/Ñ)/(Ğ¼ĞºĞ“Ñ€/Ñ‡)");

135 
ui
->
comboBox_12
->
	`addI‹m
("(Ğ¸Ğ¼Ğ¿/Ñ)/(Ğ¼ĞºĞ /Ñ‡)");

137 
	}
}

139 
	gS‘tšgs_v”if›r_gamma_bdg
::
	$£tNameCh
(
QSŒšg
 
¡r
)

141 
ÇmeCh
=
¡r
;

142 
	`qDebug
()<<
ÇmeCh
;

143 
	}
}

145 
	gS‘tšgs_v”if›r_gamma_bdg
::
	$Ú_pushBu‰Ú_4_şicked
()

147 
	`şo£
();

148 
	}
}

150 
	gS‘tšgs_v”if›r_gamma_bdg
::
	$Ú_lšeEd™_17_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
)

152 
QSŒšg
 
¡r
=
¬g1
;

153 
¡r
.
	`»¶aû
(",",".");

154 
x
=
¡r
.
	`toDoubË
();

155 
ui
->
Ïb–_36
->
	`£tText
(
QSŒšg
::
	`numb”
(
x
*3.6e9,'f',5));

156 
	}
}

158 
	gS‘tšgs_v”if›r_gamma_bdg
::
	$Ú_lšeEd™_18_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
)

160 
QSŒšg
 
¡r
=
¬g1
;

161 
¡r
.
	`»¶aû
(",",".");

162 
x
=
¡r
.
	`toDoubË
();

163 
ui
->
Ïb–_38
->
	`£tText
(
QSŒšg
::
	`numb”
(
x
*3.6e9,'f',5));

164 
	}
}

166 
	gS‘tšgs_v”if›r_gamma_bdg
::
	$Ú_lšeEd™_19_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
)

168 
QSŒšg
 
¡r
=
¬g1
;

169 
¡r
.
	`»¶aû
(",",".");

170 
x
=
¡r
.
	`toDoubË
();

171 
ui
->
Ïb–_40
->
	`£tText
(
QSŒšg
::
	`numb”
(
x
*3.6e9,'f',5));

172 
	}
}

174 
	gS‘tšgs_v”if›r_gamma_bdg
::
	$Ú_lšeEd™_20_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
)

176 
QSŒšg
 
¡r
=
¬g1
;

177 
¡r
.
	`»¶aû
(",",".");

178 
x
=
¡r
.
	`toDoubË
();

179 
ui
->
Ïb–_42
->
	`£tText
(
QSŒšg
::
	`numb”
(
x
*3.6e9,'f',5));

180 
	}
}

182 
	gS‘tšgs_v”if›r_gamma_bdg
::
	$Ú_lšeEd™_21_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
)

184 
QSŒšg
 
¡r
=
¬g1
;

185 
¡r
.
	`»¶aû
(",",".");

186 
x
=
¡r
.
	`toDoubË
();

187 
ui
->
Ïb–_44
->
	`£tText
(
QSŒšg
::
	`numb”
(
x
*3.6e9,'f',5));

188 
	}
}

190 
	gS‘tšgs_v”if›r_gamma_bdg
::
	$Ú_lšeEd™_22_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
)

192 
QSŒšg
 
¡r
=
¬g1
;

193 
¡r
.
	`»¶aû
(",",".");

194 
x
=
¡r
.
	`toDoubË
();

195 
ui
->
Ïb–_46
->
	`£tText
(
QSŒšg
::
	`numb”
(
x
*3.6e9,'f',5));

196 
	}
}

198 
	gS‘tšgs_v”if›r_gamma_bdg
::
	$Ú_pushBu‰Ú_3_şicked
()

201 if(
ButStus
==0)

203 
boŞ
 
em±yFÏg
=
çl£
;

204 
QLi¡
<
QLšeEd™
*> 
l¡
 = 
this
->
fšdChd»n
<QLineEdit*>();

205 
QLšeEd™
* 
i
:
l¡
)

207 if(
i
->
	`‹xt
().
	`isEm±y
()){
em±yFÏg
=
Œue
;}

210 
QSŒšg
 
d©e_¡ršg_Ú_db
 = 
ui
->
lšeEd™_25
->
	`‹xt
();

211 
QSŒšg
 
d©e_¡ršg_Ú_db1
 = 
ui
->
lšeEd™_26
->
	`‹xt
();

212 
QD©e
 
d©e
 = QD©e::
	`äomSŒšg
(
d©e_¡ršg_Ú_db1
,"dd.MM.yyyy");

213 
QD©e
 
d©e1
 = QD©e::
	`äomSŒšg
(
d©e_¡ršg_Ú_db1
,"dd.MM.yyyy");

214 if(!
d©e
.
	`isV®id
()||!
d©e1
.isValid())

216 
em±yFÏg
=
Œue
;

218 if(!
em±yFÏg
)

220 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

222 
QSqlD©aba£
 
db
=QSqlD©aba£::
	`d©aba£
("myDB");

223 
db
.
	`£tD©aba£Name
("config.db");

224 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

225 
QSqlQu”y
 
	`qu”y
(
db
);

226 
QSŒšg
 
qSŒ
="INSERT INTO gammaBlock (nuclide,"

244 
QSŒšg
 
qSŒ1
=
qSŒ
.
	`¬g
(
ui
->
lšeEd™
->
	`‹xt
())

245 .
	`¬g
(
ui
->
lšeEd™_16
->
	`‹xt
())

246 .
	`¬g
(
ui
->
Ïb–_36
->
	`‹xt
())

247 .
	`¬g
(
ui
->
Ïb–_38
->
	`‹xt
())

248 .
	`¬g
(
ui
->
Ïb–_40
->
	`‹xt
())

249 .
	`¬g
(
ui
->
Ïb–_42
->
	`‹xt
())

250 .
	`¬g
(
ui
->
Ïb–_44
->
	`‹xt
())

251 .
	`¬g
(
ui
->
Ïb–_46
->
	`‹xt
())

252 .
	`¬g
(
ui
->
comboBox_7
->
	`cu¼’tText
())

253 .
	`¬g
(
ui
->
comboBox_8
->
	`cu¼’tText
())

254 .
	`¬g
(
ui
->
comboBox_9
->
	`cu¼’tText
())

255 .
	`¬g
(
ui
->
comboBox_10
->
	`cu¼’tText
())

256 .
	`¬g
(
ui
->
comboBox_11
->
	`cu¼’tText
())

257 .
	`¬g
(
ui
->
comboBox_12
->
	`cu¼’tText
())

258 .
	`¬g
(
ui
->
lšeEd™_24
->
	`‹xt
())

259 .
	`¬g
(
ui
->
lšeEd™_25
->
	`‹xt
())

260 .
	`¬g
(
ui
->
lšeEd™_26
->
	`‹xt
());

261 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y INSERT"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

262 
db
.
	`şo£
();

263 
	`şo£
();

264 
em™
 
	`addReäeshSigÇl
();

269 if(
ButStus
==1)

271 
boŞ
 
em±yFÏg
=
çl£
;

272 
QLi¡
<
QLšeEd™
*> 
l¡
 = 
this
->
fšdChd»n
<QLineEdit*>();

273 
QLšeEd™
* 
i
:
l¡
)

275 if(
i
->
	`‹xt
().
	`isEm±y
()){
em±yFÏg
=
Œue
;}

278 
QSŒšg
 
d©e_¡ršg_Ú_db
 = 
ui
->
lšeEd™_25
->
	`‹xt
();

279 
QSŒšg
 
d©e_¡ršg_Ú_db1
 = 
ui
->
lšeEd™_26
->
	`‹xt
();

280 
QD©e
 
d©e
 = QD©e::
	`äomSŒšg
(
d©e_¡ršg_Ú_db1
,"dd.MM.yyyy");

281 
QD©e
 
d©e1
 = QD©e::
	`äomSŒšg
(
d©e_¡ršg_Ú_db1
,"dd.MM.yyyy");

282 if(!
d©e
.
	`isV®id
()||!
d©e1
.isValid())

284 
em±yFÏg
=
Œue
;

286 if(!
em±yFÏg
)

288 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

290 
QSqlD©aba£
 
db
=QSqlD©aba£::
	`d©aba£
("myDB");

291 
db
.
	`£tD©aba£Name
("config.db");

292 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

293 
QSqlQu”y
 
	`qu”y
(
db
);

294 
QSŒšg
 
qSŒ
="UPDATE gammaBlock SET volume='%1',"

309 
QSŒšg
 
qSŒ1
=
qSŒ
.
	`¬g
(
ui
->
lšeEd™_16
->
	`‹xt
())

310 .
	`¬g
(
ui
->
Ïb–_36
->
	`‹xt
())

311 .
	`¬g
(
ui
->
Ïb–_38
->
	`‹xt
())

312 .
	`¬g
(
ui
->
Ïb–_40
->
	`‹xt
())

313 .
	`¬g
(
ui
->
Ïb–_42
->
	`‹xt
())

314 .
	`¬g
(
ui
->
Ïb–_44
->
	`‹xt
())

315 .
	`¬g
(
ui
->
Ïb–_46
->
	`‹xt
())

316 .
	`¬g
(
ui
->
comboBox_7
->
	`cu¼’tText
())

317 .
	`¬g
(
ui
->
comboBox_8
->
	`cu¼’tText
())

318 .
	`¬g
(
ui
->
comboBox_9
->
	`cu¼’tText
())

319 .
	`¬g
(
ui
->
comboBox_10
->
	`cu¼’tText
())

320 .
	`¬g
(
ui
->
comboBox_11
->
	`cu¼’tText
())

321 .
	`¬g
(
ui
->
comboBox_12
->
	`cu¼’tText
())

322 .
	`¬g
(
ui
->
lšeEd™_26
->
	`‹xt
())

323 .
	`¬g
(
ÇmeCh
);

324 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y UPDATE"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

325 
db
.
	`şo£
();

326 
em™
 
	`addReäeshSigÇl
();

327 
	`şo£
();

331 
	}
}

	@settings_verifier_gamma_bdg.h

1 #iâdeà
SETTINGS_VERIFIER_GAMMA_BDG_H


2 
	#SETTINGS_VERIFIER_GAMMA_BDG_H


	)

4 
	~"·sswÜd.h
"

6 
	~<QDŸlog
>

7 
	~<QD©e
>

9 
Çme¥aû
 
	gUi
 {

10 
şass
 
	gS‘tšgs_v”if›r_gamma_bdg
;

13 şas 
	cS‘tšgs_v”if›r_gamma_bdg
 : 
public
 
QDŸlog


15 
Q_OBJECT


17 
public
:

18 
ex¶ic™
 
S‘tšgs_v”if›r_gamma_bdg
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
);

19 ~
S‘tšgs_v”if›r_gamma_bdg
();

21 
£tBut
(
boŞ
);

22 
£tNameCh
(
QSŒšg
 
¡r
);

24 
	msigÇls
:

25 
addReäeshSigÇl
();

27 
´iv©e
 
	m¦Ùs
:

28 
Ú_pushBu‰Ú_4_şicked
();

30 
Ú_lšeEd™_17_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
);

32 
Ú_lšeEd™_18_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
);

34 
Ú_lšeEd™_19_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
);

36 
Ú_lšeEd™_20_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
);

38 
Ú_lšeEd™_21_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
);

40 
Ú_lšeEd™_22_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
);

42 
Ú_pushBu‰Ú_3_şicked
();

44 
	m´iv©e
:

45 
Ui
::
S‘tšgs_v”if›r_gamma_bdg
 *
ui
;

46 
boŞ
 
	mButStus
{1};

47 
QSŒšg
 
	gÇmeCh
{""};

48 
š™
();

	@settings_verifier_gamma_ik.cpp

2 
	~"£‰šgs_v”if›r_gamma_ik.h
"

3 
	~"ui_£‰šgs_v”if›r_gamma_ik.h
"

5 
	gS‘tšgs_v”if›r_gamma_ik
::
	$S‘tšgs_v”if›r_gamma_ik
(
QWidg‘
 *
·»Á
) :

6 
	`QDŸlog
(
·»Á
),

7 
	$ui
(
Ãw
 
Ui
::
S‘tšgs_v”if›r_gamma_ik
)

9 
ui
->
	`£tupUi
(
this
);

10 
	`š™
();

11 
	}
}

13 
	gS‘tšgs_v”if›r_gamma_ik
::
	$š™
()

15 
	`£tWšdowT™Ë
("Ğ“Ğ°Ğ¼Ğ¼Ğ° Ğ¸Ğ·Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ (Ğ˜Ğš)");

16 
·ss
=
PasswÜd
::
	`check
();

17 
·ss
)

19 2: 
ui
->
pushBu‰Ú
->
	`£tVisibË
(
Œue
);ui->pushBu‰Ú->
	`£tEÇbËd
(true);

20 
ui
->
pushBu‰Ú_3
->
	`£tVisibË
(
Œue
);ui->pushBu‰Ú_3->
	`£tEÇbËd
(true);

22 1: 
ui
->
pushBu‰Ú
->
	`£tVisibË
(
çl£
);ui->pushBu‰Ú->
	`£tEÇbËd
(false);

23 
ui
->
pushBu‰Ú_3
->
	`£tVisibË
(
çl£
);ui->pushBu‰Ú_3->
	`£tEÇbËd
(false);

28 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

30 
QSqlD©aba£
 
db
=QSqlD©aba£::
	`d©aba£
("myDB");

31 
db
.
	`£tD©aba£Name
("config.db");

32 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

33 
QSqlQu”y
 
	`qu”y
(
db
);

34 
QSŒšg
 
qSŒ
="CREATE TABLE IF NOT EXISTS gammaChambers("

55 if(!
qu”y
.
	`exec
(
qSŒ
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y CREATEabË b‘aChamb”s"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

56 
QSŒšg
 
qSŒ1
="SELECT * FROM gammaChambers";

57 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"unableƒxecute query SELECT *FROMable gammaChambers";}

58 
QSŒšgLi¡
 
¡rLi¡
;

59 
qu”y
.
	`Ãxt
())

61 
¡rLi¡
.
	`­³nd
(
qu”y
.
	`v®ue
("Çme").
	`toSŒšg
()+" Ğ´Ğ°Ñ‚Ğ° Ğ¿Ğ¾Ğ²ĞµÑ€ĞºĞ¸: "+query.value("VerificationDate").toString());

64 
ui
->
li¡Widg‘
->
	`addI‹ms
(
¡rLi¡
);

66 
	}
}

68 
	gS‘tšgs_v”if›r_gamma_ik
::~
	$S‘tšgs_v”if›r_gamma_ik
()

70 
d–‘e
 
ui
;

71 
	}
}

73 
	gS‘tšgs_v”if›r_gamma_ik
::
	$Ú_pushBu‰Ú_4_şicked
()

75 
	`şo£
();

76 
	}
}

78 
	gS‘tšgs_v”if›r_gamma_ik
::
	$Ú_pushBu‰Ú_şicked
()

80 
V”ifyGammaChamb”s
 *
v”GammaChamb”s
 = 
Ãw
 
	`V”ifyGammaChamb”s
(
this
);

81 
v”GammaChamb”s
->
	`£tMod®
(
Œue
);

82 
v”GammaChamb”s
->
	`£tBut
(0);

83 
v”GammaChamb”s
->
	`£tStyËSh“t
("QLabel{font-size:16px;}"

85 
v”GammaChamb”s
->
	`show
();

86 
	`cÚÃù
(
v”GammaChamb”s
,&
V”ifyGammaChamb”s
::
addReäeshSigÇl
,
this
,&
S‘tšgs_v”if›r_gamma_ik
::
ReäeshSigÇl
);

87 
	}
}

88 
	gS‘tšgs_v”if›r_gamma_ik
::
	$ReäeshSigÇl
()

90 
ui
->
li¡Widg‘
->
	`ş—r
();

91 
	`š™
();

92 
	}
}

94 
	gS‘tšgs_v”if›r_gamma_ik
::
	$Ú_pushBu‰Ú_2_şicked
()

96 
QSŒšg
 
¡r
{""};

97 ià(
ui
->
li¡Widg‘
->
	`cu¼’tI‹m
()==
nuÎ±r
) {;}

99 
¡r
=
ui
->
li¡Widg‘
->
	`cu¼’tI‹m
()->
	`‹xt
();

100 
x
=
¡r
.
	`šdexOf
(" ");

101 
V”ifyGammaChamb”s
 *
v”GammaCham1
 = 
Ãw
 VerifyGammaChambers;

102 
v”GammaCham1
->
	`£tMod®
(
Œue
);

103 
v”GammaCham1
->
	`£tNameCh
(
¡r
.
	`Ëá
(
x
));

104 
v”GammaCham1
->
	`£tBut
(1);

105 
v”GammaCham1
->
	`£tStyËSh“t
("QLabel{font-size:16px;}"

107 
v”GammaCham1
->
	`show
();

108 
	`cÚÃù
(
v”GammaCham1
,&
V”ifyGammaChamb”s
::
addReäeshSigÇl
,
this
,&
S‘tšgs_v”if›r_gamma_ik
::
ReäeshSigÇl
);

109 
	}
}

111 
	gS‘tšgs_v”if›r_gamma_ik
::
	$Ú_pushBu‰Ú_3_şicked
()

113 
QSŒšg
 
cu¼’tName
="";

114 
QSŒšg
 
chamb”Name
="";

115 if(
ui
->
li¡Widg‘
->
	`cu¼’tI‹m
()==
nuÎ±r
){;}

116 
cu¼’tName
 = 
ui
->
li¡Widg‘
->
	`cu¼’tI‹m
()->
	`‹xt
();

117 
x
=
cu¼’tName
.
	`šdexOf
(" ");

118 
chamb”Name
 = 
cu¼’tName
.
	`Ëá
(
x
);

120 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

122 
QSqlD©aba£
 
db
 = QSqlD©aba£::
	`d©aba£
("myDB");

123 
db
.
	`£tD©aba£Name
("config.db");

124 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

126 
QSqlQu”y
 
	`qu”y
(
db
);

127 
QSŒšg
 
qSŒ
="DELETE FROM gammaChambers WHERE‚ame='%1'";

128 
QSŒšg
 
qSŒ1
=
qSŒ
.
	`¬g
(
chamb”Name
);

130 if(!
qu”y
.
	`exec
(
qSŒ1
)è{
	`qDebug
()<<"uÇbËƒxecu‹ qu”y DELETE"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

131 
ui
->
li¡Widg‘
->
	`ş—r
();

132 
	`š™
();

134 
	}
}

	@settings_verifier_gamma_ik.h

1 #iâdeà
SETTINGS_VERIFIER_GAMMA_IK_H


2 
	#SETTINGS_VERIFIER_GAMMA_IK_H


	)

4 
	~"v”ifygammachamb”s.h
"

5 
	~"·sswÜd.h
"

6 
	~<QDŸlog
>

8 
Çme¥aû
 
	gUi
 {

9 
şass
 
	gS‘tšgs_v”if›r_gamma_ik
;

12 şas 
	cS‘tšgs_v”if›r_gamma_ik
 : 
public
 
QDŸlog


14 
Q_OBJECT


16 
public
:

17 
ex¶ic™
 
S‘tšgs_v”if›r_gamma_ik
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
);

18 ~
S‘tšgs_v”if›r_gamma_ik
();

20 
public
 
	m¦Ùs
:

21 
ReäeshSigÇl
();

23 
´iv©e
 
	m¦Ùs
:

24 
Ú_pushBu‰Ú_4_şicked
();

26 
Ú_pushBu‰Ú_şicked
();

28 
Ú_pushBu‰Ú_2_şicked
();

30 
Ú_pushBu‰Ú_3_şicked
();

32 
	m´iv©e
:

33 
Ui
::
S‘tšgs_v”if›r_gamma_ik
 *
ui
;

34 
š™
();

	@settings_verifier_gamma_nuclides.cpp

1 
	~"£‰šgs_v”if›r_gamma_nuşides.h
"

2 
	~"ui_£‰šgs_v”if›r_gamma_nuşides.h
"

4 
	gS‘tšgs_v”if›r_gamma_nuşides
::
	$S‘tšgs_v”if›r_gamma_nuşides
(
QWidg‘
 *
·»Á
) :

5 
	`QDŸlog
(
·»Á
),

6 
	$ui
(
Ãw
 
Ui
::
S‘tšgs_v”if›r_gamma_nuşides
)

8 
ui
->
	`£tupUi
(
this
);

9 
	`š™
();

10 
	}
}

12 
	gS‘tšgs_v”if›r_gamma_nuşides
::~
	$S‘tšgs_v”if›r_gamma_nuşides
()

14 
d–‘e
 
ui
;

15 
	}
}

17 
	gS‘tšgs_v”if›r_gamma_nuşides
::
	$š™
()

19 
	`£tWšdowT™Ë
("ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ¿Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ĞµĞ»Ñ - Ğ‘Ğ”Ğ“ - Ğ½ÑƒĞºĞ»Ğ¸Ğ´Ñ‹");

21 
·ss
=
PasswÜd
::
	`check
();

22 
·ss
)

24 2: 
ui
->
pushBu‰Ú
->
	`£tVisibË
(
Œue
);ui->pushBu‰Ú->
	`£tEÇbËd
(true);

25 
ui
->
pushBu‰Ú_3
->
	`£tVisibË
(
Œue
);ui->pushBu‰Ú_3->
	`£tEÇbËd
(true);

27 1: 
ui
->
pushBu‰Ú
->
	`£tVisibË
(
çl£
);ui->pushBu‰Ú->
	`£tEÇbËd
(false);

28 
ui
->
pushBu‰Ú_3
->
	`£tVisibË
(
çl£
);ui->pushBu‰Ú_3->
	`£tEÇbËd
(false);

33 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

35 
QSqlD©aba£
 
db
=QSqlD©aba£::
	`d©aba£
("myDB");

36 
db
.
	`£tD©aba£Name
("config.db");

37 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

38 
QSqlQu”y
 
	`qu”y
(
db
);

39 
QSŒšg
 
qSŒ
="CREATE TABLE IF NOT EXISTS gammaBlock(‚uclide TEXT(10),"

56 if(!
qu”y
.
	`exec
(
qSŒ
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y CREATEabË gammaBlock"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

59 
QSŒšg
 
qSŒ1
="SELECT * FROM gammaBlock";

60 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"unableƒxecute query SELECT *FROMable gammaBlock";}

61 
QSŒšgLi¡
 
¡rLi¡
;

62 
qu”y
.
	`Ãxt
())

64 
¡rLi¡
.
	`­³nd
(
qu”y
.
	`v®ue
("nuşide").
	`toSŒšg
()+" Ğ´Ğ°Ñ‚Ğ° Ğ¿Ğ¾Ğ²ĞµÑ€ĞºĞ¸: "+query.value("verificationDate").toString());

67 
ui
->
li¡Widg‘
->
	`addI‹ms
(
¡rLi¡
);

69 
db
.
	`şo£
();

71 
	}
}

73 
	gS‘tšgs_v”if›r_gamma_nuşides
::
	$Ú_pushBu‰Ú_4_şicked
()

75 
	`şo£
();

76 
	}
}

78 
	gS‘tšgs_v”if›r_gamma_nuşides
::
	$Ú_pushBu‰Ú_şicked
()

80 
S‘tšgs_v”if›r_gamma_bdg
* 
£tV”GammaBDG
 = 
Ãw
 
	`S‘tšgs_v”if›r_gamma_bdg
(
this
);

81 
£tV”GammaBDG
->
	`£tMod®
(
Œue
);

82 
£tV”GammaBDG
->
	`£tBut
(0);

83 
£tV”GammaBDG
->
	`£tStyËSh“t
("QLabel{font-size:16px;}"

85 
£tV”GammaBDG
->
	`show
();

86 
	}
}

88 
	gS‘tšgs_v”if›r_gamma_nuşides
::
	$Ú_pushBu‰Ú_2_şicked
()

90 
QSŒšg
 
¡r
{""};

91 ià(
ui
->
li¡Widg‘
->
	`cu¼’tI‹m
()==
nuÎ±r
) {;}

93 
¡r
=
ui
->
li¡Widg‘
->
	`cu¼’tI‹m
()->
	`‹xt
();

94 
x
=
¡r
.
	`šdexOf
(" ");

98 
S‘tšgs_v”if›r_gamma_bdg
* 
£tV”GammaBDG
 = 
Ãw
 
	`S‘tšgs_v”if›r_gamma_bdg
(
this
);

99 
£tV”GammaBDG
->
	`£tMod®
(
Œue
);

100 
£tV”GammaBDG
->
	`£tNameCh
(
¡r
.
	`Ëá
(
x
));

101 
£tV”GammaBDG
->
	`£tBut
(1);

102 
£tV”GammaBDG
->
	`£tStyËSh“t
("QLabel{font-size:16px;}"

104 
£tV”GammaBDG
->
	`show
();

105 
	`cÚÃù
(
£tV”GammaBDG
,&
S‘tšgs_v”if›r_gamma_bdg
::
addReäeshSigÇl
,
this
,&
S‘tšgs_v”if›r_gamma_nuşides
::
addReäeshSlÙ
);

106 
	}
}

108 
	gS‘tšgs_v”if›r_gamma_nuşides
::
	$addReäeshSlÙ
()

110 
ui
->
li¡Widg‘
->
	`ş—r
();

111 
	`š™
();

112 
	}
}

114 
	gS‘tšgs_v”if›r_gamma_nuşides
::
	$Ú_pushBu‰Ú_3_şicked
()

116 
QSŒšg
 
cu¼’tName
="";

117 
QSŒšg
 
chamb”Name
="";

118 if(
ui
->
li¡Widg‘
->
	`cu¼’tI‹m
()==
nuÎ±r
){;}

119 
cu¼’tName
 = 
ui
->
li¡Widg‘
->
	`cu¼’tI‹m
()->
	`‹xt
();

120 
x
=
cu¼’tName
.
	`šdexOf
(" ");

121 
chamb”Name
 = 
cu¼’tName
.
	`Ëá
(
x
);

123 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

125 
QSqlD©aba£
 
db
 = QSqlD©aba£::
	`d©aba£
("myDB");

126 
db
.
	`£tD©aba£Name
("config.db");

127 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

129 
QSqlQu”y
 
	`qu”y
(
db
);

130 
QSŒšg
 
qSŒ
="DELETE FROM gammaBlock WHERE‚uclide='%1'";

131 
QSŒšg
 
qSŒ1
=
qSŒ
.
	`¬g
(
chamb”Name
);

133 if(!
qu”y
.
	`exec
(
qSŒ1
)è{
	`qDebug
()<<"uÇbËƒxecu‹ qu”y DELETE"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

134 
ui
->
li¡Widg‘
->
	`ş—r
();

135 
	`š™
();

137 
	}
}

	@settings_verifier_gamma_nuclides.h

1 #iâdeà
SETTINGS_VERIFIER_GAMMA_NUCLIDES_H


2 
	#SETTINGS_VERIFIER_GAMMA_NUCLIDES_H


	)

4 
	~"£‰šgs_v”if›r_gamma_bdg.h
"

6 
	~<QDŸlog
>

8 
Çme¥aû
 
	gUi
 {

9 
şass
 
	gS‘tšgs_v”if›r_gamma_nuşides
;

12 şas 
	cS‘tšgs_v”if›r_gamma_nuşides
 : 
public
 
QDŸlog


14 
Q_OBJECT


16 
public
:

17 
ex¶ic™
 
S‘tšgs_v”if›r_gamma_nuşides
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
);

18 ~
S‘tšgs_v”if›r_gamma_nuşides
();

22 
´iv©e
 
	m¦Ùs
:

23 
Ú_pushBu‰Ú_4_şicked
();

25 
Ú_pushBu‰Ú_şicked
();

27 
Ú_pushBu‰Ú_2_şicked
();

29 
addReäeshSlÙ
();

31 
Ú_pushBu‰Ú_3_şicked
();

33 
	m´iv©e
:

34 
Ui
::
S‘tšgs_v”if›r_gamma_nuşides
 *
ui
;

35 
š™
();

	@settings_verifier_neutron.cpp

3 
	~"£‰šgs_v”if›r_ÃuŒÚ.h
"

4 
	~"ui_£‰šgs_v”if›r_ÃuŒÚ.h
"

6 
	gS‘tšgs_v”if›r_ÃuŒÚ
::
	$S‘tšgs_v”if›r_ÃuŒÚ
(
QWidg‘
 *
·»Á
) :

7 
	`QDŸlog
(
·»Á
),

8 
	$ui
(
Ãw
 
Ui
::
S‘tšgs_v”if›r_ÃuŒÚ
)

10 
ui
->
	`£tupUi
(
this
);

11 
	`š™
();

12 
	}
}

14 
	gS‘tšgs_v”if›r_ÃuŒÚ
::
	$š™
()

16 
	`£tWšdowT™Ë
("Ğ‘Ğ»Ğ¾ĞºĞ¸ Ğ½ĞµĞ¹Ñ‚Ñ€Ğ¾Ğ½Ğ½Ğ¾Ğ³Ğ¾ Ğ¸Ğ·Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ");

17 
·ss
=
PasswÜd
::
	`check
();

18 
·ss
)

20 2: 
ui
->
pushBu‰Ú
->
	`£tVisibË
(
Œue
);ui->pushBu‰Ú->
	`£tEÇbËd
(true);

21 
ui
->
pushBu‰Ú_3
->
	`£tVisibË
(
Œue
);ui->pushBu‰Ú_3->
	`£tEÇbËd
(true);

23 1: 
ui
->
pushBu‰Ú
->
	`£tVisibË
(
çl£
);ui->pushBu‰Ú->
	`£tEÇbËd
(false);

24 
ui
->
pushBu‰Ú_3
->
	`£tVisibË
(
çl£
);ui->pushBu‰Ú_3->
	`£tEÇbËd
(false);

29 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

31 
QSqlD©aba£
 
db
=QSqlD©aba£::
	`d©aba£
("myDB");

32 
db
.
	`£tD©aba£Name
("config.db");

33 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

34 
QSqlQu”y
 
	`qu”y
(
db
);

35 
QSŒšg
 
qSŒ
="CREATE TABLE IF NOT EXISTS‚eutronBlocks("

55 if(!
qu”y
.
	`exec
(
qSŒ
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y CREATEabË‚euŒÚBlocks"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

56 
QSŒšg
 
qSŒ1
="SELECT * FROM‚eutronBlocks";

57 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"unableƒxecute query SELECT *FROMable‚eutronBlocks";}

58 
QSŒšgLi¡
 
¡rLi¡
;

59 
qu”y
.
	`Ãxt
())

61 
¡rLi¡
.
	`­³nd
(
qu”y
.
	`v®ue
("Çme").
	`toSŒšg
()+" Ğ´Ğ°Ñ‚Ğ° Ğ¿Ğ¾Ğ²ĞµÑ€ĞºĞ¸: "+query.value("VerificationDate").toString());

64 
ui
->
li¡Widg‘
->
	`addI‹ms
(
¡rLi¡
);

67 
	}
}

69 
	gS‘tšgs_v”if›r_ÃuŒÚ
::~
	$S‘tšgs_v”if›r_ÃuŒÚ
()

71 
d–‘e
 
ui
;

72 
	}
}

74 
	gS‘tšgs_v”if›r_ÃuŒÚ
::
	$addReäesh
()

76 
ui
->
li¡Widg‘
->
	`ş—r
();

77 
	`š™
();

78 
	}
}

80 
	gS‘tšgs_v”if›r_ÃuŒÚ
::
	$Ú_pushBu‰Ú_4_şicked
()

82 
	`şo£
();

83 
	}
}

85 
	gS‘tšgs_v”if›r_ÃuŒÚ
::
	$Ú_pushBu‰Ú_şicked
()

87 
V”ifyNeuŒÚ
* 
v”NeuŒÚ
 = 
Ãw
 
	`V”ifyNeuŒÚ
(
this
);

88 
v”NeuŒÚ
->
	`£tMod®
(
Œue
);

89 
v”NeuŒÚ
->
	`£tBut
(0);

90 
v”NeuŒÚ
->
	`£tStyËSh“t
("QLabel{font-size:16px;}"

92 
v”NeuŒÚ
->
	`show
();

93 
	`cÚÃù
(
v”NeuŒÚ
,&
V”ifyNeuŒÚ
::
addReäeshSigÇl
,
this
,&
S‘tšgs_v”if›r_ÃuŒÚ
::
addReäesh
);

94 
	}
}

96 
	gS‘tšgs_v”if›r_ÃuŒÚ
::
	$Ú_pushBu‰Ú_2_şicked
()

98 
QSŒšg
 
¡r
{""};

99 ià(
ui
->
li¡Widg‘
->
	`cu¼’tI‹m
()==
nuÎ±r
) {;}

101 
¡r
=
ui
->
li¡Widg‘
->
	`cu¼’tI‹m
()->
	`‹xt
();

102 
x
=
¡r
.
	`šdexOf
(" ");

103 
V”ifyNeuŒÚ
 *
v”NeuŒÚ1
 = 
Ãw
 VerifyNeutron;

104 
v”NeuŒÚ1
->
	`£tMod®
(
Œue
);

105 
v”NeuŒÚ1
->
	`£tNameCh
(
¡r
.
	`Ëá
(
x
));

106 
v”NeuŒÚ1
->
	`£tBut
(1);

107 
v”NeuŒÚ1
->
	`£tStyËSh“t
("QLabel{font-size:16px;}"

109 
v”NeuŒÚ1
->
	`show
();

110 
	`cÚÃù
(
v”NeuŒÚ1
,&
V”ifyNeuŒÚ
::
addReäeshSigÇl
,
this
,&
S‘tšgs_v”if›r_ÃuŒÚ
::
addReäesh
);

111 
	}
}

113 
	gS‘tšgs_v”if›r_ÃuŒÚ
::
	$Ú_pushBu‰Ú_3_şicked
()

115 
QSŒšg
 
cu¼’tName
="";

116 
QSŒšg
 
chamb”Name
="";

117 if(
ui
->
li¡Widg‘
->
	`cu¼’tI‹m
()==
nuÎ±r
){;}

118 
cu¼’tName
 = 
ui
->
li¡Widg‘
->
	`cu¼’tI‹m
()->
	`‹xt
();

119 
x
=
cu¼’tName
.
	`šdexOf
(" ");

120 
chamb”Name
 = 
cu¼’tName
.
	`Ëá
(
x
);

122 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

124 
QSqlD©aba£
 
db
 = QSqlD©aba£::
	`d©aba£
("myDB");

125 
db
.
	`£tD©aba£Name
("config.db");

126 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

128 
QSqlQu”y
 
	`qu”y
(
db
);

129 
QSŒšg
 
qSŒ
="DELETE FROM‚eutronBlocks WHERE‚ame='%1'";

130 
QSŒšg
 
qSŒ1
=
qSŒ
.
	`¬g
(
chamb”Name
);

132 if(!
qu”y
.
	`exec
(
qSŒ1
)è{
	`qDebug
()<<"uÇbËƒxecu‹ qu”y DELETE"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

133 
ui
->
li¡Widg‘
->
	`ş—r
();

134 
	`š™
();

136 
	}
}

	@settings_verifier_neutron.h

1 #iâdeà
SETTINGS_VERIFIER_NEUTRON_H


2 
	#SETTINGS_VERIFIER_NEUTRON_H


	)

4 
	~"·sswÜd.h
"

5 
	~"v”ifyÃuŒÚ.h
"

7 
	~<QDŸlog
>

11 
Çme¥aû
 
	gUi
 {

12 
şass
 
	gS‘tšgs_v”if›r_ÃuŒÚ
;

15 şas 
	cS‘tšgs_v”if›r_ÃuŒÚ
 : 
public
 
QDŸlog


17 
Q_OBJECT


19 
public
:

20 
ex¶ic™
 
S‘tšgs_v”if›r_ÃuŒÚ
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
);

21 ~
S‘tšgs_v”if›r_ÃuŒÚ
();

24 
´iv©e
 
	m¦Ùs
:

25 
addReäesh
();

27 
Ú_pushBu‰Ú_4_şicked
();

29 
Ú_pushBu‰Ú_şicked
();

31 
Ú_pushBu‰Ú_2_şicked
();

33 
Ú_pushBu‰Ú_3_şicked
();

35 
	m´iv©e
:

36 
Ui
::
S‘tšgs_v”if›r_ÃuŒÚ
 *
ui
;

37 
š™
();

	@user_settings.cpp

3 
	~"u£r_£‰šgs.h
"

4 
	~"ui_u£r_£‰šgs.h
"

6 
	gu£r_£‰šgs
::
	$u£r_£‰šgs
(
QWidg‘
 *
·»Á
) :

7 
	`QDŸlog
(
·»Á
),

8 
	$ui
(
Ãw
 
Ui
::
u£r_£‰šgs
)

10 
ui
->
	`£tupUi
(
this
);

11 
	`š™
();

12 
	}
}

14 
	gu£r_£‰šgs
::~
	$u£r_£‰šgs
()

16 
d–‘e
 
ui
;

17 
	}
}

19 
	gu£r_£‰šgs
::
	$š™
()

21 
	`£tWšdowT™Ë
("ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹");

22 
boŞ
 
Cu¼Sourû
=0;

23 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

25 
QSqlD©aba£
 
db
=QSqlD©aba£::
	`d©aba£
("myDB");

26 
db
.
	`£tD©aba£Name
("config.db");

27 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

28 
QSqlQu”y
 
	`qu”y
(
db
);

29 
QSŒšg
 
qSŒ
 = "CREATE TABLE IF NOT EXISTS SourceChoice (id INTEGER PRIMARY KEY CHECK (id=0),"

31 if(!
qu”y
.
	`exec
(
qSŒ
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y CREATEabË SourûChoiû"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

35 
qSŒ
 = "SELECT *FROMƒlectrometer";

36 if(!
qu”y
.
	`exec
(
qSŒ
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y SELECTabËƒËùrom‘”"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

38 
qSŒ
 = "SELECT *FROM SourceChoice";

39 if(!
qu”y
.
	`exec
(
qSŒ
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y SELECTabËƒËùrom‘”"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

40 if(
qu”y
.
	`fœ¡
())

42 
Cu¼Sourû
 = (
qu”y
.
	`v®ue
("emuÏtÜ").
	`toBoŞ
());

44 
db
.
	`şo£
();

46 ià(
Cu¼Sourû
==
Œue
)

48 
ui
->
¿dioBu‰Ú
->
	`£tChecked
(
Œue
);

52 
ui
->
¿dioBu‰Ú_2
->
	`£tChecked
(
Œue
);

54 
	}
}

56 
	gu£r_£‰šgs
::
	$Ú_pushBu‰Ú_şicked
()

58 if(
QSqlD©aba£
::
	`cÚšs
("myDB"))

60 
QSqlD©aba£
 
db
=QSqlD©aba£::
	`d©aba£
("myDB");

61 
db
.
	`£tD©aba£Name
("config.db");

62 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

63 
QSqlQu”y
 
	`qu”y
(
db
);

64 
QSŒšg
 
qSŒ
 ="";

65 ià(
ui
->
¿dioBu‰Ú
->
	`isChecked
())

67 
qSŒ
="UPDATE SourceChoice SETƒmulator=1";

69 {
qSŒ
="UPDATE SourceChoice SETƒmulator=0";}

70 if(!
qu”y
.
	`exec
(
qSŒ
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y UPDATEabË SourûChoiû"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

71 
db
.
	`şo£
();

74 
	`şo£
();

75 
	}
}

77 
	gu£r_£‰šgs
::
	$Ú_pushBu‰Ú_2_şicked
()

79 
£‰šgs_v”if›r_chªge_·sswÜd
 * 
£tPasswÜdV
 = 
Ãw
 
	`£‰šgs_v”if›r_chªge_·sswÜd
(
this
);

80 
£tPasswÜdV
->
	`£tMod®
(
Œue
);

81 
£tPasswÜdV
->
	`show
();

82 
	}
}

	@user_settings.h

1 #iâdeà
USER_SETTINGS_H


2 
	#USER_SETTINGS_H


	)

4 
	~"£‰šgs_v”if›r_chªge_·sswÜd.h
"

5 
	~<QDŸlog
>

7 
Çme¥aû
 
	gUi
 {

8 
şass
 
	gu£r_£‰šgs
;

11 şas 
	cu£r_£‰šgs
 : 
public
 
QDŸlog


13 
Q_OBJECT


15 
public
:

16 
ex¶ic™
 
u£r_£‰šgs
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
);

17 ~
u£r_£‰šgs
();

19 
´iv©e
 
	m¦Ùs
:

20 
Ú_pushBu‰Ú_şicked
();

22 
Ú_pushBu‰Ú_2_şicked
();

24 
	m´iv©e
:

25 
Ui
::
u£r_£‰šgs
 *
ui
;

26 
š™
();

	@verifybetachambers.cpp

2 
	~"v”ifyb‘achamb”s.h
"

3 
	~"ui_v”ifyb‘achamb”s.h
"

5 
	gV”ifyB‘aChamb”s
::
	$V”ifyB‘aChamb”s
(
QWidg‘
 *
·»Á
) :

6 
	`QDŸlog
(
·»Á
),

7 
	$ui
(
Ãw
 
Ui
::
V”ifyB‘aChamb”s
)

9 
ui
->
	`£tupUi
(
this
);

10 
	`š™
();

11 
	}
}

13 
	gV”ifyB‘aChamb”s
::~
	$V”ifyB‘aChamb”s
()

15 
d–‘e
 
ui
;

16 
	}
}

18 
	gV”ifyB‘aChamb”s
::
	$£tBut
(
x
)

20 
ButStus
=
x
;

21 if(
ButStus
==1)

23 
ui
->
lšeEd™
->
	`£tEÇbËd
(
çl£
);ui->
lšeEd™_2
->£tEÇbËd(çl£);ui->
lšeEd™_3
->setEnabled(false);

24 
ui
->
lšeEd™_6
->
	`£tEÇbËd
(
çl£
);ui->
lšeEd™_7
->setEnabled(false);

26 if(
ButStus
==0)

28 
ui
->
lšeEd™
->
	`£tEÇbËd
(
Œue
);ui->
lšeEd™_2
->£tEÇbËdÑrue);ui->
lšeEd™_3
->setEnabled(true);

29 
ui
->
lšeEd™_6
->
	`£tEÇbËd
(
Œue
);ui->
lšeEd™_7
->setEnabled(true);

31 
	}
}

33 
	gV”ifyB‘aChamb”s
::
	$£tNameCh
(
QSŒšg
 
¡r
)

35 
ÇmeCh
=
¡r
;

36 if(
ButStus
==1)

38 
QSqlD©aba£
 
db
=QSqlD©aba£::
	`d©aba£
("myDB");

39 
db
.
	`£tD©aba£Name
("config.db");

40 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

41 
QSqlQu”y
 
	`qu”y
(
db
);

42 
QSŒšg
 
qSŒ
 = "SELECT * FROM betaChambers WHERE‚ame='%1'";

43 
QSŒšg
 
qSŒ1
 = 
qSŒ
.
	`¬g
(
ÇmeCh
);

44 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"unableƒxecute query SELECT FROM betaChambers WHERE‚ame='%1";}

45 if(
qu”y
.
	`fœ¡
())

47 
ui
->
lšeEd™
->
	`£tText
(
qu”y
.
	`v®ue
("Çme").
	`toSŒšg
());

48 
ui
->
lšeEd™_2
->
	`£tText
(
qu”y
.
	`v®ue
("dŸm‘”").
	`toSŒšg
());

49 
ui
->
lšeEd™_3
->
	`£tText
(
qu”y
.
	`v®ue
("–S·û").
	`toSŒšg
());

50 
ui
->
Ïb–_5
->
	`£tText
(
qu”y
.
	`v®ue
("£nsib™y").
	`toSŒšg
());

51 
ui
->
lšeEd™_4
->
	`£tText
(
QSŒšg
::
	`numb”
(
qu”y
.
	`v®ue
("£nsib™y").
	`toDoubË
()/1000000,'f',5));

52 
ui
->
comboBox
->
	`£tCu¼’tText
(
qu”y
.
	`v®ue
("£nsib™yDim’siÚ").
	`toSŒšg
());

53 
ui
->
lšeEd™_5
->
	`£tText
(
qu”y
.
	`v®ue
("vŞge").
	`toSŒšg
());

54 
ui
->
lšeEd™_6
->
	`£tText
(
qu”y
.
	`v®ue
("çùÜyNumb”").
	`toSŒšg
());

55 
ui
->
lšeEd™_7
->
	`£tText
(
qu”y
.
	`v®ue
("çùÜyD©e").
	`toSŒšg
());

56 
ui
->
lšeEd™_8
->
	`£tText
(
qu”y
.
	`v®ue
("v”ifiÿtiÚD©e").
	`toSŒšg
());

59 
	}
}

61 
	gV”ifyB‘aChamb”s
::
	$š™
()

63 
ui
->
comboBox
->
	`addI‹m
("Ğ¼Ğ“Ñ€/Ğ½ĞšĞ»");

64 
QRegExp
 
expName
;

65 
expName
.
	`£tP©‹º
(
	`QSŒšg
("[Ğ°-ÑĞ-Ğ¯]+[-0-9]{10}"));

66 
QRegExpV®id©Ü
 *
rx
=
Ãw
 
	`QRegExpV®id©Ü
(
expName
,
this
);

67 
ui
->
lšeEd™
->
	`£tV®id©Ü
(
rx
);

68 
ui
->
lšeEd™_2
->
	`£tV®id©Ü
(
Ãw
 
	`QIÁV®id©Ü
(10,50,ui->lineEdit_2));

69 
ui
->
lšeEd™_3
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.1,1.0,4,ui->lineEdit_3));

70 
ui
->
lšeEd™_4
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->lineEdit_4));

71 
ui
->
lšeEd™_5
->
	`£tV®id©Ü
(
Ãw
 
	`QIÁV®id©Ü
(-400,400,ui->lineEdit_5));

72 
ui
->
lšeEd™_7
->
	`£tIÅutMask
("00.00.0000");

73 
ui
->
lšeEd™_8
->
	`£tIÅutMask
("00.00.0000");

74 
	`£tWšdowT™Ë
("ĞšĞ°Ğ¼ĞµÑ€Ñ‹ Ğ±ĞµÑ‚Ğ° Ğ¸Ğ·Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ");

75 
	}
}

77 
	gV”ifyB‘aChamb”s
::
	$Ú_pushBu‰Ú_2_şicked
()

79 
	`şo£
();

80 
	}
}

82 
	gV”ifyB‘aChamb”s
::
	$Ú_lšeEd™_4_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
)

84 
QSŒšg
 
¡r
=
¬g1
;

85 
¡r
.
	`»¶aû
(",",".");

86 
x
=
¡r
.
	`toDoubË
();

87 
ui
->
Ïb–_5
->
	`£tText
(
QSŒšg
::
	`numb”
(
x
*1000000,'f',5));

88 
	}
}

90 
	gV”ifyB‘aChamb”s
::
	$Ú_pushBu‰Ú_şicked
()

92 if(
ButStus
==0)

94 
boŞ
 
em±yFÏg
=
çl£
;

95 
QLi¡
<
QLšeEd™
*> 
l¡
 = 
this
->
fšdChd»n
<QLineEdit*>();

96 
QLšeEd™
* 
i
:
l¡
)

98 if(
i
->
	`‹xt
().
	`isEm±y
()){
em±yFÏg
=
Œue
;}

101 
QSŒšg
 
d©e_¡ršg_Ú_db
 = 
ui
->
lšeEd™_7
->
	`‹xt
();

102 
QSŒšg
 
d©e_¡ršg_Ú_db1
 = 
ui
->
lšeEd™_8
->
	`‹xt
();

103 
QD©e
 
d©e
 = QD©e::
	`äomSŒšg
(
d©e_¡ršg_Ú_db1
,"dd.MM.yyyy");

104 
QD©e
 
d©e1
 = QD©e::
	`äomSŒšg
(
d©e_¡ršg_Ú_db1
,"dd.MM.yyyy");

105 if(!
d©e
.
	`isV®id
()||!
d©e1
.isValid())

107 
em±yFÏg
=
Œue
;

109 if(!
em±yFÏg
)

111 
QSqlD©aba£
 
db
=QSqlD©aba£::
	`d©aba£
("myDB");

112 
db
.
	`£tD©aba£Name
("config.db");

113 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

114 
QSqlQu”y
 
	`qu”y
(
db
);

115 
QSŒšg
 
qSŒ
="INSERT INTO betaChambers(name, diameter,ƒlSpace, sensibility,"

119 
QSŒšg
 
qSŒ1
=
qSŒ
.
	`¬g
(
ui
->
lšeEd™
->
	`‹xt
()).

120 
	`¬g
(
ui
->
lšeEd™_2
->
	`‹xt
()).

121 
	`¬g
(
ui
->
lšeEd™_3
->
	`‹xt
()).

122 
	`¬g
(
ui
->
Ïb–_5
->
	`‹xt
()).

123 
	`¬g
(
ui
->
comboBox
->
	`cu¼’tText
()).

124 
	`¬g
(
ui
->
lšeEd™_5
->
	`‹xt
()).

125 
	`¬g
(
ui
->
lšeEd™_6
->
	`‹xt
()).

126 
	`¬g
(
ui
->
lšeEd™_7
->
	`‹xt
()).

127 
	`¬g
(
ui
->
lšeEd™_8
->
	`‹xt
());

128 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y INSERT INTOabË b‘aChamb”s"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

129 
db
.
	`şo£
();

130 
em™
 
	`addReäeshSigÇl
();

131 
	`şo£
();

135 
QMes§geBox
 
msg
;

136 
msg
.
	`£tIcÚ
(
QMes§geBox
::
IcÚ
::
W¬nšg
);

137 
msg
.
	`£tSnd¬dBu‰Ús
(
QMes§geBox
::
Snd¬dBu‰Ú
::
Ok
);

138 
msg
.
	`£tWšdowT™Ë
("Ğ’Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ");

139 
msg
.
	`£tText
("Ğ˜Ğ¼ĞµÑÑ‚ÑÑ Ğ½Ğµ ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ¾ Ğ·Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹");

140 
msg
.
	`exec
();

143 if(
ButStus
==1)

145 
boŞ
 
em±yFÏg
=
çl£
;

146 
QLi¡
<
QLšeEd™
*> 
l¡
 = 
this
->
fšdChd»n
<QLineEdit*>();

147 
QLšeEd™
* 
i
:
l¡
)

149 if(
i
->
	`‹xt
().
	`isEm±y
()){
em±yFÏg
=
Œue
;}

151 
QSŒšg
 
d©e_¡ršg_Ú_db
 = 
ui
->
lšeEd™_7
->
	`‹xt
();

152 
QSŒšg
 
d©e_¡ršg_Ú_db1
 = 
ui
->
lšeEd™_8
->
	`‹xt
();

153 
QD©e
 
d©e
 = QD©e::
	`äomSŒšg
(
d©e_¡ršg_Ú_db1
,"dd.MM.yyyy");

154 
QD©e
 
d©e1
 = QD©e::
	`äomSŒšg
(
d©e_¡ršg_Ú_db1
,"dd.MM.yyyy");

155 if(!
d©e
.
	`isV®id
()||!
d©e1
.isValid())

157 
em±yFÏg
=
Œue
;

159 if(!
em±yFÏg
)

161 
QSqlD©aba£
 
db
=QSqlD©aba£::
	`d©aba£
("myDB");

162 
db
.
	`£tD©aba£Name
("config.db");

163 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

164 
QSqlQu”y
 
	`qu”y
(
db
);

165 
QSŒšg
 
qSŒ
="UPDATE betaChambers SET sensibility='%1',sensibilityDimension='%2',"

168 
QSŒšg
 
qSŒ1
=
qSŒ
.
	`¬g
(
ui
->
Ïb–_5
->
	`‹xt
()).

169 
	`¬g
(
ui
->
comboBox
->
	`cu¼’tText
()).

170 
	`¬g
(
ui
->
lšeEd™_5
->
	`‹xt
()).

171 
	`¬g
(
ui
->
lšeEd™_8
->
	`‹xt
()).

172 
	`¬g
(
ÇmeCh
);

173 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"unableƒxecute query UPDATE betaChambers";}

174 
db
.
	`şo£
();

175 
em™
 
	`addReäeshSigÇl
();

176 
	`şo£
();

180 
QMes§geBox
 
msg
;

181 
msg
.
	`£tIcÚ
(
QMes§geBox
::
IcÚ
::
W¬nšg
);

182 
msg
.
	`£tSnd¬dBu‰Ús
(
QMes§geBox
::
Snd¬dBu‰Ú
::
Ok
);

183 
msg
.
	`£tWšdowT™Ë
("Ğ’Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ");

184 
msg
.
	`£tText
("Ğ˜Ğ¼ĞµÑÑ‚ÑÑ Ğ½Ğµ ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ¾ Ğ·Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹");

185 
msg
.
	`exec
();

188 
	}
}

	@verifybetachambers.h

1 #iâdeà
VERIFYBETACHAMBERS_H


2 
	#VERIFYBETACHAMBERS_H


	)

4 
	~<QDŸlog
>

5 
	~<QMes§geBox
>

6 
	~<QD©e
>

8 
	~"·sswÜd.h
"

10 
Çme¥aû
 
	gUi
 {

11 
şass
 
	gV”ifyB‘aChamb”s
;

14 şas 
	cV”ifyB‘aChamb”s
 : 
public
 
QDŸlog


16 
Q_OBJECT


18 
public
:

19 
ex¶ic™
 
V”ifyB‘aChamb”s
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
);

20 ~
V”ifyB‘aChamb”s
();

22 
£tBut
();

23 
£tNameCh
(
QSŒšg
);

25 
	msigÇls
:

26 
addReäeshSigÇl
();

28 
´iv©e
 
	m¦Ùs
:

29 
Ú_pushBu‰Ú_2_şicked
();

31 
Ú_lšeEd™_4_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
);

33 
Ú_pushBu‰Ú_şicked
();

35 
	m´iv©e
:

36 
Ui
::
V”ifyB‘aChamb”s
 *
ui
;

37 
š™
();

38 
boŞ
 
	mButStus
{1};

39 
QSŒšg
 
	gÇmeCh
{""};

	@verifygammachambers.cpp

3 
	~"v”ifygammachamb”s.h
"

4 
	~"ui_v”ifygammachamb”s.h
"

6 
	gV”ifyGammaChamb”s
::
	$V”ifyGammaChamb”s
(
QWidg‘
 *
·»Á
) :

7 
	`QDŸlog
(
·»Á
),

8 
	$ui
(
Ãw
 
Ui
::
V”ifyGammaChamb”s
)

10 
ui
->
	`£tupUi
(
this
);

11 
	`š™
();

12 
	}
}

14 
	gV”ifyGammaChamb”s
::~
	$V”ifyGammaChamb”s
()

16 
d–‘e
 
ui
;

17 
	}
}

19 
	gV”ifyGammaChamb”s
::
	$š™
()

21 
	`£tWšdowT™Ë
("ĞšĞ°Ğ¼ĞµÑ€Ñ‹ Ğ³Ğ°Ğ¼Ğ¼Ğ° Ğ¸Ğ·Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ");

22 
ui
->
comboBox
->
	`addI‹m
("Ğ¼Ğ—Ğ²/Ğ½ĞšĞ»");

23 
ui
->
comboBox_2
->
	`addI‹m
("Ğ¼Ğ—Ğ²/Ğ½ĞšĞ»");

24 
ui
->
comboBox_3
->
	`addI‹m
("Ğ¼Ğ—Ğ²/Ğ½ĞšĞ»");

25 
ui
->
comboBox_4
->
	`addI‹m
("Ğ¼Ğ“Ñ€/Ğ½ĞšĞ»");

26 
ui
->
comboBox_5
->
	`addI‹m
("Ğ¼Ğ“Ñ€/Ğ½ĞšĞ»");

27 
ui
->
comboBox_6
->
	`addI‹m
("Ğ¼Ğ /Ğ½ĞšĞ»");

28 
QRegExp
 
expName
;

29 
expName
.
	`£tP©‹º
(
	`QSŒšg
("[Ğ°-ÑĞ-Ğ¯]+[-0-9]{10}"));

30 
QRegExpV®id©Ü
 *
rx
=
Ãw
 
	`QRegExpV®id©Ü
(
expName
,
this
);

31 
ui
->
lšeEd™
->
	`£tV®id©Ü
(
rx
);

32 
ui
->
lšeEd™_3
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0,5000.0,4,ui->lineEdit_3));

33 
ui
->
lšeEd™_4
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->lineEdit_4));

34 
ui
->
lšeEd™_9
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->lineEdit_9));

35 
ui
->
lšeEd™_10
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->lineEdit_10));

36 
ui
->
lšeEd™_11
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->lineEdit_11));

37 
ui
->
lšeEd™_12
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->lineEdit_12));

38 
ui
->
lšeEd™_13
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->lineEdit_13));

39 
ui
->
lšeEd™_5
->
	`£tV®id©Ü
(
Ãw
 
	`QIÁV®id©Ü
(-400,400,ui->lineEdit_5));

41 
ui
->
lšeEd™_7
->
	`£tIÅutMask
("00.00.0000");

42 
ui
->
lšeEd™_8
->
	`£tIÅutMask
("00.00.0000");

43 
	}
}

45 
	gV”ifyGammaChamb”s
::
	$Ú_pushBu‰Ú_2_şicked
()

47 
	`şo£
();

48 
	}
}

50 
	gV”ifyGammaChamb”s
::
	$Ú_pushBu‰Ú_şicked
()

52 if(
ButStus
==0)

54 
boŞ
 
em±yFÏg
=
çl£
;

55 
QLi¡
<
QLšeEd™
*> 
l¡
 = 
this
->
fšdChd»n
<QLineEdit*>();

56 
QLšeEd™
* 
i
:
l¡
)

58 if(
i
->
	`‹xt
().
	`isEm±y
()){
em±yFÏg
=
Œue
;}

61 
QSŒšg
 
d©e_¡ršg_Ú_db
 = 
ui
->
lšeEd™_7
->
	`‹xt
();

62 
QSŒšg
 
d©e_¡ršg_Ú_db1
 = 
ui
->
lšeEd™_8
->
	`‹xt
();

63 
QD©e
 
d©e
 = QD©e::
	`äomSŒšg
(
d©e_¡ršg_Ú_db1
,"dd.MM.yyyy");

64 
QD©e
 
d©e1
 = QD©e::
	`äomSŒšg
(
d©e_¡ršg_Ú_db1
,"dd.MM.yyyy");

65 if(!
d©e
.
	`isV®id
()||!
d©e1
.isValid())

67 
em±yFÏg
=
Œue
;

69 if(!
em±yFÏg
)

71 
QSqlD©aba£
 
db
=QSqlD©aba£::
	`d©aba£
("myDB");

72 
db
.
	`£tD©aba£Name
("config.db");

73 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

74 
QSqlQu”y
 
	`qu”y
(
db
);

75 
QSŒšg
 
qSŒ
="INSERT INTO gammaChambers("

97 
QSŒšg
 
qSŒ1
=
qSŒ
.
	`¬g
(
ui
->
lšeEd™
->
	`‹xt
()).

98 
	`¬g
(
ui
->
lšeEd™_2
->
	`‹xt
()).

99 
	`¬g
(
ui
->
lšeEd™_3
->
	`‹xt
()).

100 
	`¬g
(
ui
->
Ïb–_19
->
	`‹xt
()).

101 
	`¬g
(
ui
->
Ïb–_12
->
	`‹xt
()).

102 
	`¬g
(
ui
->
Ïb–_14
->
	`‹xt
()).

103 
	`¬g
(
ui
->
Ïb–_16
->
	`‹xt
()).

104 
	`¬g
(
ui
->
Ïb–_18
->
	`‹xt
()).

105 
	`¬g
(
ui
->
Ïb–_22
->
	`‹xt
()).

106 
	`¬g
(
ui
->
comboBox
->
	`cu¼’tText
()).

107 
	`¬g
(
ui
->
comboBox_2
->
	`cu¼’tText
()).

108 
	`¬g
(
ui
->
comboBox_3
->
	`cu¼’tText
()).

109 
	`¬g
(
ui
->
comboBox_4
->
	`cu¼’tText
()).

110 
	`¬g
(
ui
->
comboBox_5
->
	`cu¼’tText
()).

111 
	`¬g
(
ui
->
comboBox_6
->
	`cu¼’tText
()).

112 
	`¬g
(
ui
->
lšeEd™_5
->
	`‹xt
()).

113 
	`¬g
(
ui
->
lšeEd™_6
->
	`‹xt
()).

114 
	`¬g
(
ui
->
lšeEd™_7
->
	`‹xt
()).

115 
	`¬g
(
ui
->
lšeEd™_8
->
	`‹xt
());

116 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y INSERT INTOabË gammaChamb”s"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

117 
db
.
	`şo£
();

118 
em™
 
	`addReäeshSigÇl
();

119 
	`şo£
();

123 
QMes§geBox
 
msg
;

124 
msg
.
	`£tIcÚ
(
QMes§geBox
::
IcÚ
::
W¬nšg
);

125 
msg
.
	`£tSnd¬dBu‰Ús
(
QMes§geBox
::
Snd¬dBu‰Ú
::
Ok
);

126 
msg
.
	`£tWšdowT™Ë
("Ğ’Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ");

127 
msg
.
	`£tText
("Ğ˜Ğ¼ĞµÑÑ‚ÑÑ Ğ½Ğµ ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ¾ Ğ·Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹");

128 
msg
.
	`exec
();

131 if(
ButStus
==1)

133 
boŞ
 
em±yFÏg
=
çl£
;

134 
QLi¡
<
QLšeEd™
*> 
l¡
 = 
this
->
fšdChd»n
<QLineEdit*>();

135 
QLšeEd™
* 
i
:
l¡
)

137 if(
i
->
	`‹xt
().
	`isEm±y
()){
em±yFÏg
=
Œue
;}

140 
QSŒšg
 
d©e_¡ršg_Ú_db
 = 
ui
->
lšeEd™_7
->
	`‹xt
();

141 
QSŒšg
 
d©e_¡ršg_Ú_db1
 = 
ui
->
lšeEd™_8
->
	`‹xt
();

142 
QD©e
 
d©e
 = QD©e::
	`äomSŒšg
(
d©e_¡ršg_Ú_db1
,"dd.MM.yyyy");

143 
QD©e
 
d©e1
 = QD©e::
	`äomSŒšg
(
d©e_¡ršg_Ú_db1
,"dd.MM.yyyy");

144 if(!
d©e
.
	`isV®id
()||!
d©e1
.isValid())

146 
em±yFÏg
=
Œue
;

148 if(!
em±yFÏg
)

151 
QSqlD©aba£
 
db
=QSqlD©aba£::
	`d©aba£
("myDB");

152 
db
.
	`£tD©aba£Name
("config.db");

153 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

154 
QSqlQu”y
 
	`qu”y
(
db
);

155 
QSŒšg
 
qSŒ
="UPDATE gammaChambers SET sensibilityMAED='%1',sensibilityDimensionMAED='%2',sensibilityMNED='%3',"

159 
QSŒšg
 
qSŒ1
=
qSŒ
.
	`¬g
(
ui
->
Ïb–_19
->
	`‹xt
()).

160 
	`¬g
(
ui
->
comboBox
->
	`cu¼’tText
()).

161 
	`¬g
(
ui
->
Ïb–_12
->
	`‹xt
()).

162 
	`¬g
(
ui
->
comboBox_2
->
	`cu¼’tText
()).

163 
	`¬g
(
ui
->
Ïb–_14
->
	`‹xt
()).

164 
	`¬g
(
ui
->
comboBox_3
->
	`cu¼’tText
()).

165 
	`¬g
(
ui
->
Ïb–_16
->
	`‹xt
()).

166 
	`¬g
(
ui
->
comboBox_4
->
	`cu¼’tText
()).

167 
	`¬g
(
ui
->
Ïb–_18
->
	`‹xt
()).

168 
	`¬g
(
ui
->
comboBox_5
->
	`cu¼’tText
()).

169 
	`¬g
(
ui
->
Ïb–_22
->
	`‹xt
()).

170 
	`¬g
(
ui
->
comboBox_6
->
	`cu¼’tText
()).

171 
	`¬g
(
ui
->
lšeEd™_5
->
	`‹xt
()).

172 
	`¬g
(
ui
->
lšeEd™_8
->
	`‹xt
()).

173 
	`¬g
(
ui
->
lšeEd™
->
	`‹xt
());

175 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y UPDATE gammaChamb”s"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

176 
db
.
	`şo£
();

177 
em™
 
	`addReäeshSigÇl
();

178 
	`şo£
();

182 
QMes§geBox
 
msg
;

183 
msg
.
	`£tIcÚ
(
QMes§geBox
::
IcÚ
::
W¬nšg
);

184 
msg
.
	`£tSnd¬dBu‰Ús
(
QMes§geBox
::
Snd¬dBu‰Ú
::
Ok
);

185 
msg
.
	`£tWšdowT™Ë
("Ğ’Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ");

186 
msg
.
	`£tText
("Ğ˜Ğ¼ĞµÑÑ‚ÑÑ Ğ½ĞµĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ¾ Ğ·Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹");

187 
msg
.
	`exec
();

190 
	}
}

192 
	gV”ifyGammaChamb”s
::
	$£tBut
(
x
)

194 
ButStus
=
x
;

195 if(
ButStus
==1)

197 
ui
->
lšeEd™
->
	`£tEÇbËd
(
çl£
);ui->
lšeEd™_2
->£tEÇbËd(çl£);ui->
lšeEd™_3
->setEnabled(false);

198 
ui
->
lšeEd™_6
->
	`£tEÇbËd
(
çl£
);ui->
lšeEd™_7
->setEnabled(false);

200 if(
ButStus
==0)

202 
ui
->
lšeEd™
->
	`£tEÇbËd
(
Œue
);ui->
lšeEd™_2
->£tEÇbËdÑrue);ui->
lšeEd™_3
->setEnabled(true);

203 
ui
->
lšeEd™_6
->
	`£tEÇbËd
(
Œue
);ui->
lšeEd™_7
->setEnabled(true);

205 
	}
}

207 
	gV”ifyGammaChamb”s
::
	$£tNameCh
(
QSŒšg
 
¡r
)

209 
ÇmeCh
=
¡r
;

210 if(
ButStus
==1)

212 
QSqlD©aba£
 
db
=QSqlD©aba£::
	`d©aba£
("myDB");

213 
db
.
	`£tD©aba£Name
("config.db");

214 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

215 
QSqlQu”y
 
	`qu”y
(
db
);

216 
QSŒšg
 
qSŒ
 = "SELECT * FROM gammaChambers WHERE‚ame='%1'";

217 
QSŒšg
 
qSŒ1
 = 
qSŒ
.
	`¬g
(
ÇmeCh
);

218 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"unableƒxecute query SELECT FROM gammaChambers WHERE‚ame='%1";}

219 if(
qu”y
.
	`fœ¡
())

221 
ui
->
lšeEd™
->
	`£tText
(
qu”y
.
	`v®ue
("Çme").
	`toSŒšg
());

222 
ui
->
lšeEd™_2
->
	`£tText
(
qu”y
.
	`v®ue
("ty³").
	`toSŒšg
());

223 
ui
->
lšeEd™_3
->
	`£tText
(
qu”y
.
	`v®ue
("vŞume").
	`toSŒšg
());

224 
ui
->
lšeEd™_4
->
	`£tText
(
QSŒšg
::
	`numb”
(
qu”y
.
	`v®ue
("£nsib™yMAED").
	`toDoubË
()/1000000,'f',5));

226 
ui
->
lšeEd™_5
->
	`£tText
(
qu”y
.
	`v®ue
("vŞge").
	`toSŒšg
());

227 
ui
->
lšeEd™_6
->
	`£tText
(
qu”y
.
	`v®ue
("çùÜyNumb”").
	`toSŒšg
());

228 
ui
->
lšeEd™_7
->
	`£tText
(
qu”y
.
	`v®ue
("çùÜyD©e").
	`toSŒšg
());

229 
ui
->
lšeEd™_8
->
	`£tText
(
qu”y
.
	`v®ue
("v”ifiÿtiÚD©e").
	`toSŒšg
());

230 
ui
->
lšeEd™_9
->
	`£tText
(
QSŒšg
::
	`numb”
(
qu”y
.
	`v®ue
("£nsib™yMNED").
	`toDoubË
()/1000000,'f',5));

231 
ui
->
lšeEd™_10
->
	`£tText
(
QSŒšg
::
	`numb”
(
qu”y
.
	`v®ue
("£nsib™yMIED").
	`toDoubË
()/1000000,'f',5));

232 
ui
->
lšeEd™_11
->
	`£tText
(
QSŒšg
::
	`numb”
(
qu”y
.
	`v®ue
("£nsib™yKERMA").
	`toDoubË
()/1000000,'f',5));

233 
ui
->
lšeEd™_12
->
	`£tText
(
QSŒšg
::
	`numb”
(
qu”y
.
	`v®ue
("£nsib™yMPD").
	`toDoubË
()/1000000,'f',5));

234 
ui
->
lšeEd™_13
->
	`£tText
(
QSŒšg
::
	`numb”
(
qu”y
.
	`v®ue
("£nsib™yMED").
	`toDoubË
()/1000000,'f',5));

235 
ui
->
Ïb–_19
->
	`£tText
(
qu”y
.
	`v®ue
("£nsib™yMAED").
	`toSŒšg
());

236 
ui
->
Ïb–_12
->
	`£tText
(
qu”y
.
	`v®ue
("£nsib™yMNED").
	`toSŒšg
());

237 
ui
->
Ïb–_14
->
	`£tText
(
qu”y
.
	`v®ue
("£nsib™yMIED").
	`toSŒšg
());

238 
ui
->
Ïb–_16
->
	`£tText
(
qu”y
.
	`v®ue
("£nsib™yKERMA").
	`toSŒšg
());

239 
ui
->
Ïb–_18
->
	`£tText
(
qu”y
.
	`v®ue
("£nsib™yMPD").
	`toSŒšg
());

240 
ui
->
Ïb–_22
->
	`£tText
(
qu”y
.
	`v®ue
("£nsib™yMED").
	`toSŒšg
());

243 
	}
}

245 
	gV”ifyGammaChamb”s
::
	$Ú_lšeEd™_4_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
)

247 
QSŒšg
 
¡r
=
¬g1
;

248 
¡r
.
	`»¶aû
(",",".");

249 
x
=
¡r
.
	`toDoubË
();

250 
ui
->
Ïb–_19
->
	`£tText
(
QSŒšg
::
	`numb”
(
x
*1000000,'f',5));

251 
	}
}

253 
	gV”ifyGammaChamb”s
::
	$Ú_lšeEd™_9_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
)

255 
QSŒšg
 
¡r
=
¬g1
;

256 
¡r
.
	`»¶aû
(",",".");

257 
x
=
¡r
.
	`toDoubË
();

258 
ui
->
Ïb–_12
->
	`£tText
(
QSŒšg
::
	`numb”
(
x
*1000000,'f',5));

259 
	}
}

261 
	gV”ifyGammaChamb”s
::
	$Ú_lšeEd™_10_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
)

263 
QSŒšg
 
¡r
=
¬g1
;

264 
¡r
.
	`»¶aû
(",",".");

265 
x
=
¡r
.
	`toDoubË
();

266 
ui
->
Ïb–_14
->
	`£tText
(
QSŒšg
::
	`numb”
(
x
*1000000,'f',5));

267 
	}
}

269 
	gV”ifyGammaChamb”s
::
	$Ú_lšeEd™_11_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
)

271 
QSŒšg
 
¡r
=
¬g1
;

272 
¡r
.
	`»¶aû
(",",".");

273 
x
=
¡r
.
	`toDoubË
();

274 
ui
->
Ïb–_16
->
	`£tText
(
QSŒšg
::
	`numb”
(
x
*1000000,'f',5));

275 
	}
}

277 
	gV”ifyGammaChamb”s
::
	$Ú_lšeEd™_12_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
)

279 
QSŒšg
 
¡r
=
¬g1
;

280 
¡r
.
	`»¶aû
(",",".");

281 
x
=
¡r
.
	`toDoubË
();

282 
ui
->
Ïb–_18
->
	`£tText
(
QSŒšg
::
	`numb”
(
x
*1000000,'f',5));

283 
	}
}

285 
	gV”ifyGammaChamb”s
::
	$Ú_lšeEd™_13_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
)

287 
QSŒšg
 
¡r
=
¬g1
;

288 
¡r
.
	`»¶aû
(",",".");

289 
x
=
¡r
.
	`toDoubË
();

290 
ui
->
Ïb–_22
->
	`£tText
(
QSŒšg
::
	`numb”
(
x
*1000000,'f',5));

291 
	}
}

	@verifygammachambers.h

1 #iâdeà
VERIFYGAMMACHAMBERS_H


2 
	#VERIFYGAMMACHAMBERS_H


	)

4 
	~<QDŸlog
>

5 
	~<QD©e
>

6 
	~<QSql
>

7 
	~<QSqlQu”y
>

8 
	~<QDebug
>

9 
	~<QMes§geBox
>

10 
	~<QSqlE¼Ü
>

12 
Çme¥aû
 
	gUi
 {

13 
şass
 
	gV”ifyGammaChamb”s
;

16 şas 
	cV”ifyGammaChamb”s
 : 
public
 
QDŸlog


18 
Q_OBJECT


20 
public
:

21 
ex¶ic™
 
V”ifyGammaChamb”s
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
);

22 ~
V”ifyGammaChamb”s
();

24 
£tBut
();

25 
£tNameCh
(
QSŒšg
);

27 
	msigÇls
:

28 
addReäeshSigÇl
();

31 
´iv©e
 
	m¦Ùs
:

32 
Ú_pushBu‰Ú_2_şicked
();

34 
Ú_pushBu‰Ú_şicked
();

36 
Ú_lšeEd™_4_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
);

38 
Ú_lšeEd™_9_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
);

40 
Ú_lšeEd™_10_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
);

42 
Ú_lšeEd™_11_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
);

44 
Ú_lšeEd™_12_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
);

46 
Ú_lšeEd™_13_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
);

48 
	m´iv©e
:

49 
Ui
::
V”ifyGammaChamb”s
 *
ui
;

50 
boŞ
 
	mButStus
{1};

51 
š™
();

52 
QSŒšg
 
	gÇmeCh
{""};

	@verifyneutron.cpp

3 
	~"v”ifyÃuŒÚ.h
"

4 
	~"ui_v”ifyÃuŒÚ.h
"

6 
	gV”ifyNeuŒÚ
::
	$V”ifyNeuŒÚ
(
QWidg‘
 *
·»Á
) :

7 
	`QDŸlog
(
·»Á
),

8 
	$ui
(
Ãw
 
Ui
::
V”ifyNeuŒÚ
)

10 
ui
->
	`£tupUi
(
this
);

11 
	`š™
();

12 
	}
}

14 
	gV”ifyNeuŒÚ
::~
	$V”ifyNeuŒÚ
()

16 
d–‘e
 
ui
;

17 
	}
}

19 
	gV”ifyNeuŒÚ
::
	$£tBut
(
x
)

21 
ButStus
=
x
;

22 if(
ButStus
==1)

24 
ui
->
lšeEd™
->
	`£tEÇbËd
(
çl£
);ui->
lšeEd™_2
->£tEÇbËd(çl£);ui->
lšeEd™_3
->setEnabled(false);

25 
ui
->
lšeEd™_6
->
	`£tEÇbËd
(
çl£
);ui->
lšeEd™_7
->setEnabled(false);

27 if(
ButStus
==0)

29 
ui
->
lšeEd™
->
	`£tEÇbËd
(
Œue
);ui->
lšeEd™_2
->£tEÇbËdÑrue);ui->
lšeEd™_3
->setEnabled(true);

30 
ui
->
lšeEd™_6
->
	`£tEÇbËd
(
Œue
);ui->
lšeEd™_7
->setEnabled(true);

32 
	}
}

35 
	gV”ifyNeuŒÚ
::
	$š™
()

37 
	`£tWšdowT™Ë
("Ğ‘Ğ»Ğ¾ĞºĞ¸ Ğ´ĞµÑ‚ĞµĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ½ĞµĞ¹Ñ‚Ñ€Ğ¾Ğ½Ğ½Ğ¾Ğ³Ğ¾ Ğ¸Ğ·Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ");

38 
ui
->
comboBox
->
	`addI‹m
("(Ğ¸Ğ¼Ğ¿/Ñ)/(Ğ½/(ÑĞ¼.ĞºĞ².*Ñ)");

39 
ui
->
comboBox_2
->
	`addI‹m
("(Ğ¸Ğ¼Ğ¿/Ñ)/(Ğ½/(ÑĞ¼.ĞºĞ².*Ñ)");

40 
ui
->
comboBox_3
->
	`addI‹m
("(Ğ¸Ğ¼Ğ¿/Ñ)/(Ğ¼ĞºĞ“Ñ€/Ñ‡Ğ°Ñ)");

41 
ui
->
comboBox_4
->
	`addI‹m
("(Ğ¸Ğ¼Ğ¿/Ñ)/(Ğ¼ĞºĞ“Ñ€/Ñ‡Ğ°Ñ)");

42 
ui
->
comboBox_5
->
	`addI‹m
("(Ğ¸Ğ¼Ğ¿/Ñ)/(Ğ¼ĞºĞ—Ğ²/Ñ‡Ğ°Ñ)");

43 
ui
->
comboBox_6
->
	`addI‹m
("(Ğ¸Ğ¼Ğ¿/Ñ)/(Ğ¼ĞºĞ—Ğ²/Ñ‡Ğ°Ñ)");

44 
QLi¡
<
QComboBox
*> 
comboLi¡
 = 
this
->
fšdChd»n
<QComboBox*>();

45 
QComboBox
* 
i
:
comboLi¡
)

47 
i
->
	`£tFixedHeight
(20);

48 
i
->
	`£tStyËSh“t
("QComboBox{font-size:12px;}");

50 
QRegExp
 
expName
;

51 
expName
.
	`£tP©‹º
(
	`QSŒšg
("[Ğ°-ÑĞ-Ğ¯]+[-Ğ-Ğ¯0-9]{10}"));

52 
QRegExpV®id©Ü
 *
rx
=
Ãw
 
	`QRegExpV®id©Ü
(
expName
,
this
);

53 
ui
->
lšeEd™
->
	`£tV®id©Ü
(
rx
);

54 
ui
->
lšeEd™_3
->
	`£tV®id©Ü
(
Ãw
 
	`QIÁV®id©Ü
(0,100,ui->lineEdit_3));

55 
ui
->
lšeEd™_4
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->lineEdit_4));

56 
ui
->
lšeEd™_9
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->lineEdit_9));

57 
ui
->
lšeEd™_10
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->lineEdit_10));

58 
ui
->
lšeEd™_11
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->lineEdit_11));

59 
ui
->
lšeEd™_12
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->lineEdit_12));

60 
ui
->
lšeEd™_13
->
	`£tV®id©Ü
(
Ãw
 
	`QDoubËV®id©Ü
(0.0, 1000.0, 5, ui->lineEdit_13));

62 
ui
->
lšeEd™_7
->
	`£tIÅutMask
("00.00.0000");

63 
ui
->
lšeEd™_8
->
	`£tIÅutMask
("00.00.0000");

65 
	}
}

67 
	gV”ifyNeuŒÚ
::
	$£tNameCh
(
QSŒšg
 
¡r
)

69 
ÇmeCh
=
¡r
;

70 if(
ButStus
==1)

72 
QSqlD©aba£
 
db
=QSqlD©aba£::
	`d©aba£
("myDB");

73 
db
.
	`£tD©aba£Name
("config.db");

74 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

75 
QSqlQu”y
 
	`qu”y
(
db
);

76 
QSŒšg
 
qSŒ
 = "SELECT * FROM‚eutronBlocks WHERE‚ame='%1'";

77 
QSŒšg
 
qSŒ1
 = 
qSŒ
.
	`¬g
(
ÇmeCh
);

78 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"unableƒxecute query SELECT FROM‚eutronBlocks WHERE‚ame='%1";}

79 if(
qu”y
.
	`fœ¡
())

81 
ui
->
lšeEd™
->
	`£tText
(
qu”y
.
	`v®ue
("Çme").
	`toSŒšg
());

82 
ui
->
lšeEd™_2
->
	`£tText
(
qu”y
.
	`v®ue
("’”gy").
	`toSŒšg
());

83 
ui
->
lšeEd™_3
->
	`£tText
(
qu”y
.
	`v®ue
("width").
	`toSŒšg
());

84 
ui
->
lšeEd™_4
->
	`£tText
(
QSŒšg
::
	`numb”
(
qu”y
.
	`v®ue
("£nsib™yPPw™houtCd").
	`toDoubË
(),'f',5));

87 
ui
->
lšeEd™_6
->
	`£tText
(
qu”y
.
	`v®ue
("çùÜyNumb”").
	`toSŒšg
());

88 
ui
->
lšeEd™_7
->
	`£tText
(
qu”y
.
	`v®ue
("çùÜyD©e").
	`toSŒšg
());

89 
ui
->
lšeEd™_8
->
	`£tText
(
qu”y
.
	`v®ue
("v”ifiÿtiÚD©e").
	`toSŒšg
());

90 
ui
->
lšeEd™_9
->
	`£tText
(
QSŒšg
::
	`numb”
(
qu”y
.
	`v®ue
("£nsib™yPPw™hCd").
	`toDoubË
(),'f',5));

91 
ui
->
lšeEd™_10
->
	`£tText
(
QSŒšg
::
	`numb”
(
qu”y
.
	`v®ue
("£nsib™yMPDw™houtCd").
	`toDoubË
()/(3.6e9),'f',5));

92 
ui
->
lšeEd™_11
->
	`£tText
(
QSŒšg
::
	`numb”
(
qu”y
.
	`v®ue
("£nsib™yMPDw™hCd").
	`toDoubË
()/(3.6e9),'f',5));

93 
ui
->
lšeEd™_12
->
	`£tText
(
QSŒšg
::
	`numb”
(
qu”y
.
	`v®ue
("£nsib™yMAEDw™houtCd").
	`toDoubË
()/(3.6e9),'f',5));

94 
ui
->
lšeEd™_13
->
	`£tText
(
QSŒšg
::
	`numb”
(
qu”y
.
	`v®ue
("£nsib™yMAEDw™hCd").
	`toDoubË
()/(3.6e9),'f',5));

95 
ui
->
Ïb–_23
->
	`£tText
(
qu”y
.
	`v®ue
("£nsib™yMAEDw™hCd").
	`toSŒšg
());

96 
ui
->
Ïb–_25
->
	`£tText
(
qu”y
.
	`v®ue
("£nsib™yMAEDw™houtCd").
	`toSŒšg
());

97 
ui
->
Ïb–_17
->
	`£tText
(
qu”y
.
	`v®ue
("£nsib™yMPDw™hCd").
	`toSŒšg
());

98 
ui
->
Ïb–_5
->
	`£tText
(
qu”y
.
	`v®ue
("£nsib™yMPDw™houtCd").
	`toSŒšg
());

99 
ui
->
Ïb–_19
->
	`£tText
(
qu”y
.
	`v®ue
("£nsib™yPPw™houtCd").
	`toSŒšg
());

100 
ui
->
Ïb–_21
->
	`£tText
(
qu”y
.
	`v®ue
("£nsib™yPPw™hCd").
	`toSŒšg
());

103 
	}
}

105 
	gV”ifyNeuŒÚ
::
	$Ú_pushBu‰Ú_2_şicked
()

107 
	`şo£
();

108 
	}
}

112 
	gV”ifyNeuŒÚ
::
	$Ú_pushBu‰Ú_şicked
()

114 if(
ButStus
==0)

116 
boŞ
 
em±yFÏg
=
çl£
;

117 
QLi¡
<
QLšeEd™
*> 
l¡
 = 
this
->
fšdChd»n
<QLineEdit*>();

118 
QLšeEd™
* 
i
:
l¡
)

120 if(
i
->
	`‹xt
().
	`isEm±y
()){
em±yFÏg
=
Œue
;}

123 
QSŒšg
 
d©e_¡ršg_Ú_db
 = 
ui
->
lšeEd™_7
->
	`‹xt
();

124 
QSŒšg
 
d©e_¡ršg_Ú_db1
 = 
ui
->
lšeEd™_8
->
	`‹xt
();

125 
QD©e
 
d©e
 = QD©e::
	`äomSŒšg
(
d©e_¡ršg_Ú_db1
,"dd.MM.yyyy");

126 
QD©e
 
d©e1
 = QD©e::
	`äomSŒšg
(
d©e_¡ršg_Ú_db1
,"dd.MM.yyyy");

127 if(!
d©e
.
	`isV®id
()||!
d©e1
.isValid())

129 
em±yFÏg
=
Œue
;

131 if(!
em±yFÏg
)

133 
QSqlD©aba£
 
db
=QSqlD©aba£::
	`d©aba£
("myDB");

134 
db
.
	`£tD©aba£Name
("config.db");

135 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

136 
QSqlQu”y
 
	`qu”y
(
db
);

137 
QSŒšg
 
qSŒ
="INSERT INTO‚eutronBlocks("

158 
QSŒšg
 
qSŒ1
=
qSŒ
.
	`¬g
(
ui
->
lšeEd™
->
	`‹xt
()).

159 
	`¬g
(
ui
->
lšeEd™_2
->
	`‹xt
()).

160 
	`¬g
(
ui
->
lšeEd™_3
->
	`‹xt
()).

161 
	`¬g
(
ui
->
Ïb–_19
->
	`‹xt
()).

162 
	`¬g
(
ui
->
Ïb–_21
->
	`‹xt
()).

163 
	`¬g
(
ui
->
Ïb–_5
->
	`‹xt
()).

164 
	`¬g
(
ui
->
Ïb–_17
->
	`‹xt
()).

165 
	`¬g
(
ui
->
Ïb–_25
->
	`‹xt
()).

166 
	`¬g
(
ui
->
Ïb–_23
->
	`‹xt
()).

167 
	`¬g
(
ui
->
comboBox
->
	`cu¼’tText
()).

168 
	`¬g
(
ui
->
comboBox_2
->
	`cu¼’tText
()).

169 
	`¬g
(
ui
->
comboBox_3
->
	`cu¼’tText
()).

170 
	`¬g
(
ui
->
comboBox_4
->
	`cu¼’tText
()).

171 
	`¬g
(
ui
->
comboBox_5
->
	`cu¼’tText
()).

172 
	`¬g
(
ui
->
comboBox_6
->
	`cu¼’tText
()).

173 
	`¬g
(
ui
->
lšeEd™_6
->
	`‹xt
()).

174 
	`¬g
(
ui
->
lšeEd™_7
->
	`‹xt
()).

175 
	`¬g
(
ui
->
lšeEd™_8
->
	`‹xt
());

176 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y INSERT INTOabË‚euŒÚBlocks"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

177 
db
.
	`şo£
();

178 
em™
 
	`addReäeshSigÇl
();

179 
	`şo£
();

182 if(
ButStus
==1)

184 
boŞ
 
em±yFÏg
=
çl£
;

185 
QLi¡
<
QLšeEd™
*> 
l¡
 = 
this
->
fšdChd»n
<QLineEdit*>();

186 
QLšeEd™
* 
i
:
l¡
)

188 if(
i
->
	`‹xt
().
	`isEm±y
()){
em±yFÏg
=
Œue
;}

191 
QSŒšg
 
d©e_¡ršg_Ú_db
 = 
ui
->
lšeEd™_7
->
	`‹xt
();

192 
QSŒšg
 
d©e_¡ršg_Ú_db1
 = 
ui
->
lšeEd™_8
->
	`‹xt
();

193 
QD©e
 
d©e
 = QD©e::
	`äomSŒšg
(
d©e_¡ršg_Ú_db1
,"dd.MM.yyyy");

194 
QD©e
 
d©e1
 = QD©e::
	`äomSŒšg
(
d©e_¡ršg_Ú_db1
,"dd.MM.yyyy");

195 if(!
d©e
.
	`isV®id
()||!
d©e1
.isValid())

197 
em±yFÏg
=
Œue
;

199 if(!
em±yFÏg
)

202 
QSqlD©aba£
 
db
=QSqlD©aba£::
	`d©aba£
("myDB");

203 
db
.
	`£tD©aba£Name
("config.db");

204 if(!
db
.
	`İ’
()){
	`qDebug
()<<"db was‚ot opened";}

205 
QSqlQu”y
 
	`qu”y
(
db
);

206 
QSŒšg
 
qSŒ
="UPDATE‚eutronBlocks SET sensibilityPPwithoutCd='%1',sensibilityDimensionPPwithoutCd='%2',sensibilityPPwithCd='%3',"

210 
QSŒšg
 
qSŒ1
=
qSŒ
.
	`¬g
(
ui
->
Ïb–_19
->
	`‹xt
()).

211 
	`¬g
(
ui
->
comboBox
->
	`cu¼’tText
()).

212 
	`¬g
(
ui
->
Ïb–_21
->
	`‹xt
()).

213 
	`¬g
(
ui
->
comboBox_2
->
	`cu¼’tText
()).

214 
	`¬g
(
ui
->
Ïb–_5
->
	`‹xt
()).

215 
	`¬g
(
ui
->
comboBox_3
->
	`cu¼’tText
()).

216 
	`¬g
(
ui
->
Ïb–_17
->
	`‹xt
()).

217 
	`¬g
(
ui
->
comboBox_4
->
	`cu¼’tText
()).

218 
	`¬g
(
ui
->
Ïb–_25
->
	`‹xt
()).

219 
	`¬g
(
ui
->
comboBox_5
->
	`cu¼’tText
()).

220 
	`¬g
(
ui
->
Ïb–_23
->
	`‹xt
()).

221 
	`¬g
(
ui
->
comboBox_6
->
	`cu¼’tText
()).

222 
	`¬g
(
ui
->
lšeEd™_8
->
	`‹xt
()).

223 
	`¬g
(
ui
->
lšeEd™
->
	`‹xt
());

224 if(!
qu”y
.
	`exec
(
qSŒ1
)){
	`qDebug
()<<"uÇbËƒxecu‹ qu”y UPDATE‚euŒÚBlocks"<<qu”y.
	`Ï¡E¼Ü
().
	`‹xt
();}

225 
db
.
	`şo£
();

226 
em™
 
	`addReäeshSigÇl
();

227 
	`şo£
();

231 
QMes§geBox
 
msg
;

232 
msg
.
	`£tIcÚ
(
QMes§geBox
::
IcÚ
::
W¬nšg
);

233 
msg
.
	`£tSnd¬dBu‰Ús
(
QMes§geBox
::
Snd¬dBu‰Ú
::
Ok
);

234 
msg
.
	`£tWšdowT™Ë
("Ğ’Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ");

235 
msg
.
	`£tText
("Ğ˜Ğ¼ĞµÑÑ‚ÑÑ Ğ½ĞµĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ¾ Ğ·Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹");

236 
msg
.
	`exec
();

239 
em™
 
	`addReäeshSigÇl
();

240 
	}
}

242 
	gV”ifyNeuŒÚ
::
	$Ú_lšeEd™_4_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
)

244 
QSŒšg
 
¡r
=
¬g1
;

245 
¡r
.
	`»¶aû
(",",".");

246 
x
=
¡r
.
	`toDoubË
();

247 
ui
->
Ïb–_19
->
	`£tText
(
QSŒšg
::
	`numb”
(
x
*1,'f',5));

248 
	}
}

250 
	gV”ifyNeuŒÚ
::
	$Ú_lšeEd™_9_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
)

252 
QSŒšg
 
¡r
=
¬g1
;

253 
¡r
.
	`»¶aû
(",",".");

254 
x
=
¡r
.
	`toDoubË
();

255 
ui
->
Ïb–_21
->
	`£tText
(
QSŒšg
::
	`numb”
(
x
*1,'f',5));

256 
	}
}

259 
	gV”ifyNeuŒÚ
::
	$Ú_lšeEd™_10_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
)

261 
QSŒšg
 
¡r
=
¬g1
;

262 
¡r
.
	`»¶aû
(",",".");

263 
x
=
¡r
.
	`toDoubË
();

264 
ui
->
Ïb–_5
->
	`£tText
(
QSŒšg
::
	`numb”
(
x
*3.6e9,'f',5));

265 
	}
}

267 
	gV”ifyNeuŒÚ
::
	$Ú_lšeEd™_11_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
)

269 
QSŒšg
 
¡r
=
¬g1
;

270 
¡r
.
	`»¶aû
(",",".");

271 
x
=
¡r
.
	`toDoubË
();

272 
ui
->
Ïb–_17
->
	`£tText
(
QSŒšg
::
	`numb”
(
x
*3.6e9,'f',5));

273 
	}
}

275 
	gV”ifyNeuŒÚ
::
	$Ú_lšeEd™_12_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
)

277 
QSŒšg
 
¡r
=
¬g1
;

278 
¡r
.
	`»¶aû
(",",".");

279 
x
=
¡r
.
	`toDoubË
();

280 
ui
->
Ïb–_25
->
	`£tText
(
QSŒšg
::
	`numb”
(
x
*3.6e9,'f',5));

281 
	}
}

283 
	gV”ifyNeuŒÚ
::
	$Ú_lšeEd™_13_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
)

285 
QSŒšg
 
¡r
=
¬g1
;

286 
¡r
.
	`»¶aû
(",",".");

287 
x
=
¡r
.
	`toDoubË
();

288 
ui
->
Ïb–_23
->
	`£tText
(
QSŒšg
::
	`numb”
(
x
*3.6e9,'f',5));

289 
	}
}

	@verifyneutron.h

1 #iâdeà
VERIFYNEUTRON_H


2 
	#VERIFYNEUTRON_H


	)

4 
	~<QDŸlog
>

5 
	~<QD©e
>

6 
	~<QSql
>

7 
	~<QSqlQu”y
>

8 
	~<QDebug
>

9 
	~<QSqlE¼Ü
>

10 
	~<QMes§geBox
>

12 
Çme¥aû
 
	gUi
 {

13 
şass
 
	gV”ifyNeuŒÚ
;

16 şas 
	cV”ifyNeuŒÚ
 : 
public
 
QDŸlog


18 
Q_OBJECT


20 
public
:

21 
ex¶ic™
 
V”ifyNeuŒÚ
(
QWidg‘
 *
·»Á
 = 
nuÎ±r
);

22 ~
V”ifyNeuŒÚ
();

24 
£tBut
(
x
);

25 
£tNameCh
(
QSŒšg
);

27 
	msigÇls
:

28 
addReäeshSigÇl
();

30 
´iv©e
 
	m¦Ùs
:

31 
Ú_pushBu‰Ú_2_şicked
();

33 
Ú_pushBu‰Ú_şicked
();

35 
Ú_lšeEd™_4_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
);

37 
Ú_lšeEd™_9_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
);

39 
Ú_lšeEd™_10_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
);

41 
Ú_lšeEd™_11_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
);

43 
Ú_lšeEd™_12_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
);

45 
Ú_lšeEd™_13_‹xtEd™ed
(cÚ¡ 
QSŒšg
 &
¬g1
);

47 
	m´iv©e
:

48 
Ui
::
V”ifyNeuŒÚ
 *
ui
;

49 
š™
();

50 
boŞ
 
	mButStus
{1};

51 
QSŒšg
 
	gÇmeCh
{""};

	@volthex.cpp

1 
	~"vŞthex.h
"

3 
	gvŞtHex
::
	$vŞtHex
()

6 
	}
}

8 
QBy‹A¼ay
 
vŞtHex
::
	$štVŞt
(
vŞt
)

10 if(
vŞt
<-2)

12 
i
 =4.98;

13 
x
 = 
	`round
(
vŞt
/
i
)*(-1);

14 
y
 = 
¡©ic_ÿ¡
<>(
x
);

15 
QSŒšg
 
hexV
 = QSŒšg::
	`numb”
(
y
,16);

17 
QSŒšg
 
¡rHexV1
 = "7"+
hexV
[0];

18 
QSŒšg
 
¡rHexV2
 = "8"+
hexV
[1];

19 
QBy‹A¼ay
 
by‹VŞt
;

20 
by‹VŞt
[0] = 
¡©ic_ÿ¡
<>(
¡rHexV1
.
	`toUIÁ
(
nuÎ±r
,16));

21 
by‹VŞt
[1] = 
¡©ic_ÿ¡
<>(
¡rHexV2
.
	`toUIÁ
(
nuÎ±r
,16));

24  
by‹VŞt
;

26 if(
vŞt
>=-2 && volt<0)

28 
QBy‹A¼ay
 
by‹VŞt
;

29 
by‹VŞt
[0] = 
¡©ic_ÿ¡
<>(
	`QSŒšg
("70").
	`toUIÁ
(
nuÎ±r
,16));

30 
by‹VŞt
[1] = 
¡©ic_ÿ¡
<>(
	`QSŒšg
("80").
	`toUIÁ
(
nuÎ±r
,16));

32  
by‹VŞt
;

34 if(
vŞt
>=0 && volt<3)

36 
QBy‹A¼ay
 
by‹VŞt
;

37 
by‹VŞt
[0] = 
¡©ic_ÿ¡
<>(
	`QSŒšg
("78").
	`toUIÁ
(
nuÎ±r
,16));

38 
by‹VŞt
[1] = 
¡©ic_ÿ¡
<>(
	`QSŒšg
("80").
	`toUIÁ
(
nuÎ±r
,16));

40  
by‹VŞt
;

42 if(
vŞt
>=3)

44 
i
 =4.98;

45 
x
 = 
	`round
(
vŞt
/
i
)+128;

46 
y
 = 
¡©ic_ÿ¡
<>(
x
);

47 
QSŒšg
 
hexV
 = QSŒšg::
	`numb”
(
y
,16);

49 
QSŒšg
 
¡rHexV1
 = "7"+
hexV
[0];

50 
QSŒšg
 
¡rHexV2
 = "8"+
hexV
[1];

51 
QBy‹A¼ay
 
by‹VŞt
;

52 
by‹VŞt
[0] = 
¡©ic_ÿ¡
<>(
¡rHexV1
.
	`toUIÁ
(
nuÎ±r
,16));

53 
by‹VŞt
[1] = 
¡©ic_ÿ¡
<>(
¡rHexV2
.
	`toUIÁ
(
nuÎ±r
,16));

55  
by‹VŞt
;

57  
nuÎ±r
;

58 
	}
}

	@volthex.h

1 #iâdeà
VOLTHEX_H


2 
	#VOLTHEX_H


	)

4 
	~<QDŸlog
>

5 
	~<QDebug
>

7 
	~"m©h.h
"

10 şas 
	cvŞtHex
: 
public
 
QDŸlog


12 
Q_OBJECT


13 
public
:

14 
vŞtHex
();

20 
QBy‹A¼ay
 
štVŞt
();

	@/usr/include/math.h

23 #iâdef 
_MATH_H


24 
	#_MATH_H
 1

	)

26 
	~<ã©u»s.h
>

28 
	g__BEGIN_DECLS


31 
	~<b™s/m©h-veùÜ.h
>

35 
	~<b™s/huge_v®.h
>

36 #ifdeà
__USE_ISOC99


37 
	~<b™s/huge_v®f.h
>

38 
	~<b™s/huge_v®l.h
>

41 
	~<b™s/šf.h
>

44 
	~<b™s/Çn.h
>

48 
	~<b™s/m©hdef.h
>

55 
	#__SIMD_DECL
(
funùiÚ
è
	`__CONCAT
 (
__DECL_SIMD_
, funùiÚ)

	)

57 
	#__MATHCALL_VEC
(
funùiÚ
, 
suffix
, 
¬gs
) \

58 
	`__SIMD_DECL
 (
	`__MATH_PRECNAME
 (
funùiÚ
, 
suffix
)) \

59 
	`__MATHCALL
 (
funùiÚ
, 
suffix
, 
¬gs
)

	)

61 
	#__MATHDECL_VEC
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
) \

62 
	`__SIMD_DECL
 (
	`__MATH_PRECNAME
 (
funùiÚ
, 
suffix
)) \

63 
	`__MATHDECL
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
)

	)

65 
	#__MATHCALL
(
funùiÚ
,
suffix
, 
¬gs
) \

66 
	`__MATHDECL
 (
_MdoubË_
,
funùiÚ
,
suffix
, 
¬gs
)

	)

67 
	#__MATHDECL
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
) \

68 
	`__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
); \

69 
	`__MATHDECL_1
(
ty³
, 
	`__CONCAT
(
__
,
funùiÚ
),
suffix
, 
¬gs
)

	)

70 
	#__MATHCALLX
(
funùiÚ
,
suffix
, 
¬gs
, 
©Œib
) \

71 
	`__MATHDECLX
 (
_MdoubË_
,
funùiÚ
,
suffix
, 
¬gs
, 
©Œib
)

	)

72 
	#__MATHDECLX
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
, 
©Œib
) \

73 
	`__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
è
	`__©Œibu‹__
 (
©Œib
); \

74 
	`__MATHDECL_1
(
ty³
, 
	`__CONCAT
(
__
,
funùiÚ
),
suffix
, 
¬gs
è
	`__©Œibu‹__
 (
©Œib
)

	)

75 
	#__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
) \

76 
ty³
 
	`__MATH_PRECNAME
(
funùiÚ
,
suffix
è
¬gs
 
__THROW


	)

78 
	#_MdoubË_
 

	)

79 
	#__MATH_PRECNAME
(
Çme
,
r
è
	`__CONCAT
Òame,r)

	)

80 
	#__MATH_DECLARING_DOUBLE
 1

	)

81 
	#_MdoubË_BEGIN_NAMESPACE
 
__BEGIN_NAMESPACE_STD


	)

82 
	#_MdoubË_END_NAMESPACE
 
__END_NAMESPACE_STD


	)

83 
	~<b™s/m©hÿÎs.h
>

84 #undeà
_MdoubË_


85 #undeà
_MdoubË_BEGIN_NAMESPACE


86 #undeà
_MdoubË_END_NAMESPACE


87 #undeà
__MATH_PRECNAME


88 #undeà
__MATH_DECLARING_DOUBLE


90 #ifdeà
__USE_ISOC99


96 #iâdeà
_Mæßt_


97 
	#_Mæßt_
 

	)

99 
	#_MdoubË_
 
_Mæßt_


	)

100 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
f
##
	)
r

101 
	#__MATH_DECLARING_DOUBLE
 0

	)

102 
	#_MdoubË_BEGIN_NAMESPACE
 
__BEGIN_NAMESPACE_C99


	)

103 
	#_MdoubË_END_NAMESPACE
 
__END_NAMESPACE_C99


	)

104 
	~<b™s/m©hÿÎs.h
>

105 #undeà
_MdoubË_


106 #undeà
_MdoubË_BEGIN_NAMESPACE


107 #undeà
_MdoubË_END_NAMESPACE


108 #undeà
__MATH_PRECNAME


109 #undeà
__MATH_DECLARING_DOUBLE


111 #ià!(
defšed
 
__NO_LONG_DOUBLE_MATH
 && defšed 
_LIBC
) \

112 || 
defšed
 
__LDBL_COMPAT
 \

113 || 
defšed
 
_LIBC_TEST


114 #ifdeà
__LDBL_COMPAT


116 #ifdeà
__USE_ISOC99


117 
	$__Ædbl_Ãx‰ow¬df
 (
__x
, 
__y
)

118 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

119 #ifdeà
__REDIRECT_NTH


120 
	`__REDIRECT_NTH
 (
Ãx‰ow¬df
, (
__x
, 
__y
),

121 
__Ædbl_Ãx‰ow¬df
)

122 
	`__©Œibu‹__
 ((
__cÚ¡__
));

123 
	`__REDIRECT_NTH
 (
Ãx‰ow¬d
, (
__x
, 
__y
),

124 
Ãxá”
è
	`__©Œibu‹__
 ((
__cÚ¡__
));

125 
	`__REDIRECT_NTH
 (
Ãx‰ow¬dl
,

126 (
__x
, 
__y
),

127 
Ãxá”
è
	`__©Œibu‹__
 ((
__cÚ¡__
));

131 #undeà
__MATHDECL_1


132 
	#__MATHDECL_2
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
, 
®Ÿs
) \

133 
ty³
 
	`__REDIRECT_NTH
(
	`__MATH_PRECNAME
(
funùiÚ
,
suffix
), \

134 
¬gs
, 
®Ÿs
)

	)

135 
	#__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
) \

136 
	`__MATHDECL_2
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
, 
	`__CONCAT
(funùiÚ,suffix))

	)

142 #iâdeà
_MlÚg_doubË_


143 
	#_MlÚg_doubË_
 

	)

145 
	#_MdoubË_
 
_MlÚg_doubË_


	)

146 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
l
##
	)
r

147 
	#__MATH_DECLARING_DOUBLE
 0

	)

148 
	#_MdoubË_BEGIN_NAMESPACE
 
__BEGIN_NAMESPACE_C99


	)

149 
	#_MdoubË_END_NAMESPACE
 
__END_NAMESPACE_C99


	)

150 
	#__MATH_DECLARE_LDOUBLE
 1

	)

151 
	~<b™s/m©hÿÎs.h
>

152 #undeà
_MdoubË_


153 #undeà
_MdoubË_BEGIN_NAMESPACE


154 #undeà
_MdoubË_END_NAMESPACE


155 #undeà
__MATH_PRECNAME


156 #undeà
__MATH_DECLARING_DOUBLE


161 #undeà
__MATHDECL_1


162 #undeà
__MATHDECL


163 #undeà
__MATHCALL


166 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


168 
signgam
;

173 #ifdeà
__USE_ISOC99


211 
FP_NAN
 =

212 
	#FP_NAN
 0

	)

213 
FP_NAN
,

214 
FP_INFINITE
 =

215 
	#FP_INFINITE
 1

	)

216 
FP_INFINITE
,

217 
FP_ZERO
 =

218 
	#FP_ZERO
 2

	)

219 
FP_ZERO
,

220 
FP_SUBNORMAL
 =

221 
	#FP_SUBNORMAL
 3

	)

222 
FP_SUBNORMAL
,

223 
FP_NORMAL
 =

224 
	#FP_NORMAL
 4

	)

225 
FP_NORMAL


233 #ià
	`__GNUC_PREREQ
 (4,4è&& !
defšed
 
__SUPPORT_SNAN__
 \

234 && !
defšed
 
__OPTIMIZE_SIZE__


235 
	#åşassify
(
x
è
	`__butš_åşassify
 (
FP_NAN
, 
FP_INFINITE
, \

236 
FP_NORMAL
, 
FP_SUBNORMAL
, 
FP_ZERO
, 
x
)

	)

237 #–ià
defšed
 
__NO_LONG_DOUBLE_MATH


238 
	#åşassify
(
x
) \

239 ( (
x
è=ğ (è? 
	`__åşassifyf
 (xè: 
	`__åşassify
 (x))

	)

241 
	#åşassify
(
x
) \

242 ( (
x
) ==  () \

243 ? 
	`__åşassifyf
 (
x
) \

244 :  (
x
) ==  () \

245 ? 
	`__åşassify
 (
x
è: 
	`__åşassifyl
 (x))

	)

249 #ià
	`__GNUC_PREREQ
 (4,0)

250 
	#signb™
(
x
) \

251 ( (
x
) ==  () \

252 ? 
	`__butš_signb™f
 (
x
) \

253 :  (
x
) ==  () \

254 ? 
	`__butš_signb™
 (
x
è: 
	`__butš_signb™l
 (x))

	)

256 #ifdeà
__NO_LONG_DOUBLE_MATH


257 
	#signb™
(
x
) \

258 ( (
x
è=ğ (è? 
	`__signb™f
 (xè: 
	`__signb™
 (x))

	)

260 
	#signb™
(
x
) \

261 ( (
x
) ==  () \

262 ? 
	`__signb™f
 (
x
) \

263 :  (
x
) ==  () \

264 ? 
	`__signb™
 (
x
è: 
	`__signb™l
 (x))

	)

269 #ià
	`__GNUC_PREREQ
 (4,4è&& !
defšed
 
__SUPPORT_SNAN__


270 
	#isfš™e
(
x
è
	`__butš_isfš™e
 (x)

	)

271 #–ià
defšed
 
__NO_LONG_DOUBLE_MATH


272 
	#isfš™e
(
x
) \

273 ( (
x
è=ğ (è? 
	`__fš™ef
 (xè: 
	`__fš™e
 (x))

	)

275 
	#isfš™e
(
x
) \

276 ( (
x
) ==  () \

277 ? 
	`__fš™ef
 (
x
) \

278 :  (
x
) ==  () \

279 ? 
	`__fš™e
 (
x
è: 
	`__fš™–
 (x))

	)

283 #ià
	`__GNUC_PREREQ
 (4,4è&& !
defšed
 
__SUPPORT_SNAN__


284 
	#i¢Üm®
(
x
è
	`__butš_i¢Üm®
 (x)

	)

286 
	#i¢Üm®
(
x
è(
	`åşassify
 (xè=ğ
FP_NORMAL
)

	)

291 #ià
	`__GNUC_PREREQ
 (4,4è&& !
defšed
 
__SUPPORT_SNAN__


292 
	#i¢ª
(
x
è
	`__butš_i¢ª
 (x)

	)

293 #–ià
defšed
 
__NO_LONG_DOUBLE_MATH


294 
	#i¢ª
(
x
) \

295 ( (
x
è=ğ (è? 
	`__i¢ªf
 (xè: 
	`__i¢ª
 (x))

	)

297 
	#i¢ª
(
x
) \

298 ( (
x
) ==  () \

299 ? 
	`__i¢ªf
 (
x
) \

300 :  (
x
) ==  () \

301 ? 
	`__i¢ª
 (
x
è: 
	`__i¢ªl
 (x))

	)

305 #ià
	`__GNUC_PREREQ
 (4,4è&& !
defšed
 
__SUPPORT_SNAN__


306 
	#isšf
(
x
è
	`__butš_isšf_sign
 (x)

	)

307 #–ià
defšed
 
__NO_LONG_DOUBLE_MATH


308 
	#isšf
(
x
) \

309 ( (
x
è=ğ (è? 
	`__isšff
 (xè: 
	`__isšf
 (x))

	)

311 
	#isšf
(
x
) \

312 ( (
x
) ==  () \

313 ? 
	`__isšff
 (
x
) \

314 :  (
x
) ==  () \

315 ? 
	`__isšf
 (
x
è: 
	`__isšæ
 (x))

	)

319 
	#MATH_ERRNO
 1

	)

320 
	#MATH_ERREXCEPT
 2

	)

325 #iâdeà
__FAST_MATH__


326 
	#m©h_”rhªdlšg
 (
MATH_ERRNO
 | 
MATH_ERREXCEPT
)

	)

331 #ifdeà
__USE_GNU


333 #ifdeà
__NO_LONG_DOUBLE_MATH


334 
	#issigÇlšg
(
x
) \

335 ( (
x
è=ğ (è? 
	`__issigÇlšgf
 (xè: 
	`__issigÇlšg
 (x))

	)

337 
	#issigÇlšg
(
x
) \

338 ( (
x
) ==  () \

339 ? 
	`__issigÇlšgf
 (
x
) \

340 :  (
x
) ==  () \

341 ? 
	`__issigÇlšg
 (
x
è: 
	`__issigÇlšgl
 (x))

	)

345 #ifdef 
__USE_MISC


349 
_IEEE_
 = -1,

350 
_SVID_
,

351 
_XOPEN_
,

352 
_POSIX_
,

353 
_ISOC_


354 } 
	t_LIB_VERSION_TYPE
;

359 
_LIB_VERSION_TYPE
 
_LIB_VERSION
;

363 #ifdeà
__USE_MISC


369 #ifdeà
__ılu¥lus


370 
__exû±iÚ


372 
exû±iÚ


375 
ty³
;

376 *
Çme
;

377 
¬g1
;

378 
¬g2
;

379 
»tv®
;

380 
	}
};

382 #ifdeà
__ılu¥lus


383 
	$m©h”r
 (
__exû±iÚ
 *
__exc
è
	`throw
 ();

385 
	`m©h”r
 (
exû±iÚ
 *
__exc
);

388 
	#X_TLOSS
 1.41484755040568800000e+16

	)

391 
	#DOMAIN
 1

	)

392 
	#SING
 2

	)

393 
	#OVERFLOW
 3

	)

394 
	#UNDERFLOW
 4

	)

395 
	#TLOSS
 5

	)

396 
	#PLOSS
 6

	)

399 
	#HUGE
 3.40282347e+38F

	)

403 #ifdeà
__USE_XOPEN


405 
	#MAXFLOAT
 3.40282347e+38F

	)

412 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


413 
	#M_E
 2.7182818284590452354

	)

414 
	#M_LOG2E
 1.4426950408889634074

	)

415 
	#M_LOG10E
 0.43429448190325182765

	)

416 
	#M_LN2
 0.69314718055994530942

	)

417 
	#M_LN10
 2.30258509299404568402

	)

418 
	#M_PI
 3.14159265358979323846

	)

419 
	#M_PI_2
 1.57079632679489661923

	)

420 
	#M_PI_4
 0.78539816339744830962

	)

421 
	#M_1_PI
 0.31830988618379067154

	)

422 
	#M_2_PI
 0.63661977236758134308

	)

423 
	#M_2_SQRTPI
 1.12837916709551257390

	)

424 
	#M_SQRT2
 1.41421356237309504880

	)

425 
	#M_SQRT1_2
 0.70710678118654752440

	)

431 #ifdeà
__USE_GNU


432 
	#M_El
 2.718281828459045235360287471352662498L

	)

433 
	#M_LOG2El
 1.442695040888963407359924681001892137L

	)

434 
	#M_LOG10El
 0.434294481903251827651128918916605082L

	)

435 
	#M_LN2l
 0.693147180559945309417232121458176568L

	)

436 
	#M_LN10l
 2.302585092994045684017991454684364208L

	)

437 
	#M_PIl
 3.141592653589793238462643383279502884L

	)

438 
	#M_PI_2l
 1.570796326794896619231321691639751442L

	)

439 
	#M_PI_4l
 0.785398163397448309615660845819875721L

	)

440 
	#M_1_PIl
 0.318309886183790671537767526745028724L

	)

441 
	#M_2_PIl
 0.636619772367581343075535053490057448L

	)

442 
	#M_2_SQRTPIl
 1.128379167095512573896158903121545172L

	)

443 
	#M_SQRT2l
 1.414213562373095048801688724209698079L

	)

444 
	#M_SQRT1_2l
 0.707106781186547524400844362104849039L

	)

451 #ià
defšed
 
__STRICT_ANSI__
 && !defšed 
__NO_MATH_INLINES


452 
	#__NO_MATH_INLINES
 1

	)

455 #ià
defšed
 
__USE_ISOC99
 && 
	`__GNUC_PREREQ
(2,97)

462 
	#isg»©”
(
x
, 
y
è
	`__butš_isg»©”
(x, y)

	)

463 
	#isg»©”equ®
(
x
, 
y
è
	`__butš_isg»©”equ®
(x, y)

	)

464 
	#i¦ess
(
x
, 
y
è
	`__butš_i¦ess
(x, y)

	)

465 
	#i¦es£qu®
(
x
, 
y
è
	`__butš_i¦es£qu®
(x, y)

	)

466 
	#i¦essg»©”
(
x
, 
y
è
	`__butš_i¦essg»©”
(x, y)

	)

467 
	#isunÜd”ed
(
u
, 
v
è
	`__butš_isunÜd”ed
(u, v)

	)

471 #ifdeà
__USE_EXTERN_INLINES


472 
	~<b™s/m©hšlše.h
>

477 #ià
defšed
 
__FINITE_MATH_ONLY__
 && __FINITE_MATH_ONLY__ > 0

478 
	~<b™s/m©h-fš™e.h
>

481 #ifdeà
__USE_ISOC99


485 #iâdeà
isg»©”


486 
	#isg»©”
(
x
, 
y
) \

487 (
__ex‹nsiÚ__
 \

488 ({ 
	`__ty³of__
(
x
è
__x
 = (x); __ty³of__(
y
è
__y
 = (y); \

489 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x > __y; 
	}
}))

	)

493 #iâdeà
isg»©”equ®


494 
	#isg»©”equ®
(
x
, 
y
) \

495 (
__ex‹nsiÚ__
 \

496 ({ 
	`__ty³of__
(
x
è
__x
 = (x); __ty³of__(
y
è
__y
 = (y); \

497 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x >ğ__y; }))

	)

501 #iâdeà
i¦ess


502 
	#i¦ess
(
x
, 
y
) \

503 (
__ex‹nsiÚ__
 \

504 ({ 
	`__ty³of__
(
x
è
__x
 = (x); __ty³of__(
y
è
__y
 = (y); \

505 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x < __y; }))

	)

509 #iâdeà
i¦es£qu®


510 
	#i¦es£qu®
(
x
, 
y
) \

511 (
__ex‹nsiÚ__
 \

512 ({ 
	`__ty³of__
(
x
è
__x
 = (x); __ty³of__(
y
è
__y
 = (y); \

513 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x <ğ__y; }))

	)

517 #iâdeà
i¦essg»©”


518 
	#i¦essg»©”
(
x
, 
y
) \

519 (
__ex‹nsiÚ__
 \

520 ({ 
	`__ty³of__
(
x
è
__x
 = (x); __ty³of__(
y
è
__y
 = (y); \

521 !
	`isunÜd”ed
 (
__x
, 
__y
è&& (__x < __y || __y < __x); }))

	)

525 #iâdeà
isunÜd”ed


526 
	#isunÜd”ed
(
u
, 
v
) \

527 (
__ex‹nsiÚ__
 \

528 ({ 
	`__ty³of__
(
u
è
__u
 = (u); __ty³of__(
v
è
__v
 = (v); \

529 
	`åşassify
 (
__u
è=ğ
FP_NAN
 || fpşassify (
__v
è=ğFP_NAN; }))

	)

534 
	g__END_DECLS


	@/usr/include/features.h

18 #iâdef 
_FEATURES_H


19 
	#_FEATURES_H
 1

	)

97 #undeà
__USE_ISOC11


98 #undeà
__USE_ISOC99


99 #undeà
__USE_ISOC95


100 #undeà
__USE_ISOCXX11


101 #undeà
__USE_POSIX


102 #undeà
__USE_POSIX2


103 #undeà
__USE_POSIX199309


104 #undeà
__USE_POSIX199506


105 #undeà
__USE_XOPEN


106 #undeà
__USE_XOPEN_EXTENDED


107 #undeà
__USE_UNIX98


108 #undeà
__USE_XOPEN2K


109 #undeà
__USE_XOPEN2KXSI


110 #undeà
__USE_XOPEN2K8


111 #undeà
__USE_XOPEN2K8XSI


112 #undeà
__USE_LARGEFILE


113 #undeà
__USE_LARGEFILE64


114 #undeà
__USE_FILE_OFFSET64


115 #undeà
__USE_MISC


116 #undeà
__USE_ATFILE


117 #undeà
__USE_GNU


118 #undeà
__USE_REENTRANT


119 #undeà
__USE_FORTIFY_LEVEL


120 #undeà
__KERNEL_STRICT_NAMES


124 #iâdeà
_LOOSE_KERNEL_NAMES


125 
	#__KERNEL_STRICT_NAMES


	)

135 #ià
defšed
 
__GNUC__
 && defšed 
__GNUC_MINOR__


136 
	#__GNUC_PREREQ
(
maj
, 
mš
) \

137 ((
__GNUC__
 << 16è+ 
__GNUC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

139 
	#__GNUC_PREREQ
(
maj
, 
mš
è0

	)

146 #ià(
defšed
 
_BSD_SOURCE
 || defšed 
_SVID_SOURCE
) \

147 && !
defšed
 
	g_DEFAULT_SOURCE


149 #undeà
_DEFAULT_SOURCE


150 
	#_DEFAULT_SOURCE
 1

	)

154 #ifdeà
_GNU_SOURCE


155 #undeà
_ISOC95_SOURCE


156 
	#_ISOC95_SOURCE
 1

	)

157 #undeà
_ISOC99_SOURCE


158 
	#_ISOC99_SOURCE
 1

	)

159 #undeà
_ISOC11_SOURCE


160 
	#_ISOC11_SOURCE
 1

	)

161 #undeà
_POSIX_SOURCE


162 
	#_POSIX_SOURCE
 1

	)

163 #undeà
_POSIX_C_SOURCE


164 
	#_POSIX_C_SOURCE
 200809L

	)

165 #undeà
_XOPEN_SOURCE


166 
	#_XOPEN_SOURCE
 700

	)

167 #undeà
_XOPEN_SOURCE_EXTENDED


168 
	#_XOPEN_SOURCE_EXTENDED
 1

	)

169 #undeà
_LARGEFILE64_SOURCE


170 
	#_LARGEFILE64_SOURCE
 1

	)

171 #undeà
_DEFAULT_SOURCE


172 
	#_DEFAULT_SOURCE
 1

	)

173 #undeà
_ATFILE_SOURCE


174 
	#_ATFILE_SOURCE
 1

	)

179 #ià(
defšed
 
_DEFAULT_SOURCE
 \

180 || (!
defšed
 
	g__STRICT_ANSI__
 \

181 && !
defšed
 
	g_ISOC99_SOURCE
 \

182 && !
defšed
 
	g_POSIX_SOURCE
 && !defšed 
	g_POSIX_C_SOURCE
 \

183 && !
defšed
 
	g_XOPEN_SOURCE
))

184 #undeà
_DEFAULT_SOURCE


185 
	#_DEFAULT_SOURCE
 1

	)

189 #ià(
defšed
 
_ISOC11_SOURCE
 \

190 || (
defšed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 201112L))

191 
	#__USE_ISOC11
 1

	)

195 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC11_SOURCE
 \

196 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L))

197 
	#__USE_ISOC99
 1

	)

201 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC11_SOURCE
 \

202 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199409L))

203 
	#__USE_ISOC95
 1

	)

210 #ià((
defšed
 
__ılu¥lus
 && __cplusplus >= 201103L) \

211 || 
defšed
 
__GXX_EXPERIMENTAL_CXX0X__
)

212 
	#__USE_ISOCXX11
 1

	)

218 #ifdeà
_DEFAULT_SOURCE


219 #ià!
defšed
 
_POSIX_SOURCE
 && !defšed 
_POSIX_C_SOURCE


220 
	#__USE_POSIX_IMPLICITLY
 1

	)

222 #undeà
_POSIX_SOURCE


223 
	#_POSIX_SOURCE
 1

	)

224 #undeà
_POSIX_C_SOURCE


225 
	#_POSIX_C_SOURCE
 200809L

	)

227 #ià((!
defšed
 
__STRICT_ANSI__
 \

228 || (
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) >= 500)) \

229 && !
defšed
 
_POSIX_SOURCE
 && !defšed 
_POSIX_C_SOURCE
)

230 
	#_POSIX_SOURCE
 1

	)

231 #ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 500

232 
	#_POSIX_C_SOURCE
 2

	)

233 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 600

234 
	#_POSIX_C_SOURCE
 199506L

	)

235 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 700

236 
	#_POSIX_C_SOURCE
 200112L

	)

238 
	#_POSIX_C_SOURCE
 200809L

	)

240 
	#__USE_POSIX_IMPLICITLY
 1

	)

243 #ià(
defšed
 
_POSIX_SOURCE
 \

244 || (
defšed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >= 1) \

245 || 
defšed
 
_XOPEN_SOURCE
)

246 
	#__USE_POSIX
 1

	)

249 #ià
defšed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >ğ2 || defšed 
_XOPEN_SOURCE


250 
	#__USE_POSIX2
 1

	)

253 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 199309L

254 
	#__USE_POSIX199309
 1

	)

257 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 199506L

258 
	#__USE_POSIX199506
 1

	)

261 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 200112L

262 
	#__USE_XOPEN2K
 1

	)

263 #undeà
__USE_ISOC95


264 
	#__USE_ISOC95
 1

	)

265 #undeà
__USE_ISOC99


266 
	#__USE_ISOC99
 1

	)

269 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 200809L

270 
	#__USE_XOPEN2K8
 1

	)

271 #undeà
_ATFILE_SOURCE


272 
	#_ATFILE_SOURCE
 1

	)

275 #ifdef 
_XOPEN_SOURCE


276 
	#__USE_XOPEN
 1

	)

277 #ià(
_XOPEN_SOURCE
 - 0) >= 500

278 
	#__USE_XOPEN_EXTENDED
 1

	)

279 
	#__USE_UNIX98
 1

	)

280 #undeà
_LARGEFILE_SOURCE


281 
	#_LARGEFILE_SOURCE
 1

	)

282 #ià(
_XOPEN_SOURCE
 - 0) >= 600

283 #ià(
_XOPEN_SOURCE
 - 0) >= 700

284 
	#__USE_XOPEN2K8
 1

	)

285 
	#__USE_XOPEN2K8XSI
 1

	)

287 
	#__USE_XOPEN2K
 1

	)

288 
	#__USE_XOPEN2KXSI
 1

	)

289 #undeà
__USE_ISOC95


290 
	#__USE_ISOC95
 1

	)

291 #undeà
__USE_ISOC99


292 
	#__USE_ISOC99
 1

	)

295 #ifdeà
_XOPEN_SOURCE_EXTENDED


296 
	#__USE_XOPEN_EXTENDED
 1

	)

301 #ifdeà
_LARGEFILE_SOURCE


302 
	#__USE_LARGEFILE
 1

	)

305 #ifdeà
_LARGEFILE64_SOURCE


306 
	#__USE_LARGEFILE64
 1

	)

309 #ià
defšed
 
_FILE_OFFSET_BITS
 && _FILE_OFFSET_BITS == 64

310 
	#__USE_FILE_OFFSET64
 1

	)

313 #ià
defšed
 
_DEFAULT_SOURCE


314 
	#__USE_MISC
 1

	)

317 #ifdef 
_ATFILE_SOURCE


318 
	#__USE_ATFILE
 1

	)

321 #ifdef 
_GNU_SOURCE


322 
	#__USE_GNU
 1

	)

325 #ià
defšed
 
_REENTRANT
 || defšed 
_THREAD_SAFE


326 
	#__USE_REENTRANT
 1

	)

329 #ià
defšed
 
_FORTIFY_SOURCE
 && _FORTIFY_SOURCE > 0 \

330 && 
__GNUC_PREREQ
 (4, 1è&& 
defšed
 
	g__OPTIMIZE__
 && __OPTIMIZE__ > 0

331 #ià
_FORTIFY_SOURCE
 > 1

332 
	#__USE_FORTIFY_LEVEL
 2

	)

334 
	#__USE_FORTIFY_LEVEL
 1

	)

337 
	#__USE_FORTIFY_LEVEL
 0

	)

342 
	~<¡dc-´edef.h
>

350 #undeà
__GNU_LIBRARY__


351 
	#__GNU_LIBRARY__
 6

	)

355 
	#__GLIBC__
 2

	)

356 
	#__GLIBC_MINOR__
 24

	)

358 
	#__GLIBC_PREREQ
(
maj
, 
mš
) \

359 ((
__GLIBC__
 << 16è+ 
__GLIBC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

362 #iâdeà
__ASSEMBLER__


363 #iâdeà
_SYS_CDEFS_H


364 
	~<sys/cdefs.h
>

369 #ià
defšed
 
__USE_FILE_OFFSET64
 && !defšed 
__REDIRECT


370 
	#__USE_LARGEFILE
 1

	)

371 
	#__USE_LARGEFILE64
 1

	)

377 #ià
__GNUC_PREREQ
 (2, 7è&& 
defšed
 
__OPTIMIZE__
 \

378 && !
defšed
 
	g__OPTIMIZE_SIZE__
 && !defšed 
	g__NO_INLINE__
 \

379 && 
defšed
 
	g__ex‹º_šlše


380 
	#__USE_EXTERN_INLINES
 1

	)

388 
	~<gnu/¡ubs.h
>

	@/usr/include/stdc-predef.h

18 #iâdef 
_STDC_PREDEF_H


19 
	#_STDC_PREDEF_H
 1

	)

36 #ifdeà
__GCC_IEC_559


37 #ià
__GCC_IEC_559
 > 0

38 
	#__STDC_IEC_559__
 1

	)

41 
	#__STDC_IEC_559__
 1

	)

44 #ifdeà
__GCC_IEC_559_COMPLEX


45 #ià
__GCC_IEC_559_COMPLEX
 > 0

46 
	#__STDC_IEC_559_COMPLEX__
 1

	)

49 
	#__STDC_IEC_559_COMPLEX__
 1

	)

57 
	#__STDC_ISO_10646__
 201605L

	)

60 
	#__STDC_NO_THREADS__
 1

	)

	@
1
.
1
/usr/include
114
2268
abstract_measurement_measurement.cpp
abstract_measurement_measurement.h
auto_measurement_result.cpp
auto_measurement_result.h
averageadc.cpp
averageadc.h
averagemodbus.cpp
averagemodbus.h
beta.cpp
beta.h
beta_chamber.cpp
beta_chamber.h
beta_measuring.cpp
beta_measuring.h
beta_measuring_measure.cpp
beta_measuring_measure.h
beta_verify.cpp
beta_verify.h
block_bdg.cpp
block_bdg.h
block_bdkn.cpp
block_bdkn.h
cambercompensation_view.cpp
cambercompensation_view.h
chambercompensation.cpp
chambercompensation.h
electrometer_test.cpp
electrometer_test.h
electrometer_test_result.cpp
electrometer_test_result.h
emulelectrometer.cpp
emulelectrometer.h
gamma.cpp
gamma.h
gamma_bdg.cpp
gamma_bdg.h
gamma_bdg_measuring.cpp
gamma_bdg_measuring.h
gamma_bdg_measuring_measure.cpp
gamma_bdg_measuring_measure.h
gamma_bdg_test.cpp
gamma_bdg_test.h
gamma_bdg_verify.cpp
gamma_bdg_verify.h
gamma_ik.cpp
gamma_ik.h
gamma_ik_measuring.cpp
gamma_ik_measuring.h
gamma_ik_measuring_measure.cpp
gamma_ik_measuring_measure.h
gamma_ik_verify.cpp
gamma_ik_verify.h
gammaik_chamber.cpp
gammaik_chamber.h
iblock.cpp
iblock.h
ichamber.cpp
ichamber.h
main.cpp
mainwindow.cpp
mainwindow.h
modbus_emulator.cpp
modbus_emulator.h
neutron.cpp
neutron.h
neutron_bdkn_test.cpp
neutron_bdkn_test.h
neutron_measuring.cpp
neutron_measuring.h
neutron_measuring_measure.cpp
neutron_measuring_measure.h
neutron_verify.cpp
neutron_verify.h
password.cpp
password.h
rs232.cpp
rs232.h
rs485.cpp
rs485.h
settings.cpp
settings.h
settings_bdg.cpp
settings_bdg.h
settings_bdkn.cpp
settings_bdkn.h
settings_electrometer.cpp
settings_electrometer.h
settings_verifier.cpp
settings_verifier.h
settings_verifier_beta.cpp
settings_verifier_beta.h
settings_verifier_change_password.cpp
settings_verifier_change_password.h
settings_verifier_gamma_bdg.cpp
settings_verifier_gamma_bdg.h
settings_verifier_gamma_ik.cpp
settings_verifier_gamma_ik.h
settings_verifier_gamma_nuclides.cpp
settings_verifier_gamma_nuclides.h
settings_verifier_neutron.cpp
settings_verifier_neutron.h
user_settings.cpp
user_settings.h
verifybetachambers.cpp
verifybetachambers.h
verifygammachambers.cpp
verifygammachambers.h
verifyneutron.cpp
verifyneutron.h
volthex.cpp
volthex.h
/usr/include/math.h
/usr/include/features.h
/usr/include/stdc-predef.h
